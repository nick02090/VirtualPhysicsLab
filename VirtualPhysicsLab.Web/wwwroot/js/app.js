(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],p=0,h=[];p<o.length;p++)r=o[p],a[r]&&h.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("64a9"),a=i.n(s);a.a},"05f1":function(t,e,i){},"116e":function(t,e,i){},"1a6b":function(t,e,i){"use strict";var s=i("ea1e"),a=i.n(s);a.a},2733:function(t,e,i){"use strict";var s=i("6d90"),a=i.n(s);a.a},"29b6":function(t,e,i){"use strict";var s=i("4c05"),a=i.n(s);a.a},"2e07":function(t,e,i){},"2f38":function(t,e,i){"use strict";var s=i("05f1"),a=i.n(s);a.a},4315:function(t,e,i){"use strict";var s=i("2e07"),a=i.n(s);a.a},"4c05":function(t,e,i){},"4d81":function(t,e,i){"use strict";var s=i("7a23"),a=i.n(s);a.a},"56d7":function(t,e,i){"use strict";i.r(e);var s={};i.r(s),i.d(s,"BOX",function(){return V}),i.d(s,"SPHERE",function(){return U});var a={};i.r(a);i("96cf");var n,r=i("3b8d"),o=(i("cadf"),i("551c"),i("f751"),i("097d"),i("2b0e")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Navbar"),i("router-view")],1)},l=[],u=i("cebc"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"navbar"}},[s("section",{staticClass:"hero is-light is-flex"},[s("div",{staticClass:"brand"},[s("div",{staticClass:"control is-flex"},[t.isLoggedIn?s("div",{staticClass:"control is-flex",staticStyle:{display:"inline-block"}},[s("b-button",{attrs:{rounded:"",outlined:"","icon-left":"sign-out-alt"},on:{click:t.logout}},[t._v("Odjava")])],1):t._e(),s("div",{staticClass:"control margin-right margin-left"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:i("cf05"),width:"112",height:"28"}})])],1)])]),s("quick-menu",{ref:"quickmenu",attrs:{"menu-count":3,"icon-class":t.icons,"menu-url-list":t.urls,position:"top-right","background-color":"#284e7b"}}),s("b-loading",{attrs:{"is-full-page":!0,active:t.isLoading}})],1)])},h=[],m=i("f3fb"),d=i.n(m),f=i("2f62"),v={name:"Navbar",data:function(){return{icons:["fas fa-home","fas fa-flask","fas fa-user"],urls:[{isLink:!0,url:"/home"},{isLink:!0,url:"/experiment"},{isLink:!0,url:"/profile"}]}},computed:Object(u["a"])({},Object(f["c"])({isLoggedIn:"user/isLoggedIn"}),Object(f["d"])({isLoading:function(t){return t.user.loading}})),components:{quickMenu:d.a},methods:Object(u["a"])({},Object(f["b"])({systemLogout:"user/logout"}),{logout:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.systemLogout();case 2:this.$toast.open({message:"Uspješno ste se odjavili!",type:"is-success",position:"is-bottom"}),this.$router.push("home");case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}),watch:{$route:function(t,e){this.$refs.quickmenu.$el.classList.contains("active")&&this.$refs.quickmenu.$el.classList.remove("active")}}},g=v,b=(i("6ea9"),i("2877")),y=Object(b["a"])(g,p,h,!1,null,"bf550dec",null),_=y.exports,C={name:"App",components:{Navbar:_},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.retrieveUser();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:Object(u["a"])({},Object(f["b"])({retrieveUser:"user/retrieveUser"}))},k=C,E=(i("034f"),Object(b["a"])(k,c,l,!1,null,null,null)),S=E.exports,w=i("8a03"),O=i.n(w),M=(i("5abe"),i("633b")),j=i.n(M),T=i("8c4f"),P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"home"}},[t._m(0),i("section",{staticClass:"hero is-light is-small is-bold"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"tile is-parent"},[t._m(1),i("article",{staticClass:"tile is-child box is-white",on:{click:function(e){return t.changeRoute("home")}}},[t._m(2),i("br"),t._m(3)]),i("article",{staticClass:"tile is-child box is-white",on:{click:function(e){return t.changeRoute("profile")}}},[t._m(4),i("br"),t._m(5)]),i("article",{staticClass:"tile is-child box is-white",on:{click:function(e){return t.changeRoute("experiment")}}},[t._m(6),i("br"),t._m(7)])])])]),t.isLoggedIn?i("section",{staticClass:"hero is-dark is-small is-bold"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"control is-flex"},[i("p",[t._v("\n                    Prijavljeni ste kao\n                    "),i("a",{on:{click:function(e){return t.changeRoute("profile")}}},[t._v(t._s(t.user.fullName))])]),i("div",{staticClass:"control margin-left"})])])]):i("section",{staticClass:"hero is-dark is-small is-bold"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"control is-flex"},[i("p",[t._v("\n                    Još nemaš izrađen profil?\n                    "),i("router-link",{attrs:{to:"/register"}},[i("a",[t._v("Registriraj se")])])],1),i("div",{staticClass:"control margin-left"},[i("p",[t._v("\n                        Već imaš profil?\n                        "),i("router-link",{attrs:{to:"/login"}},[i("a",[t._v("Prijavi se")])])],1)])])])])])},B=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"hero is-info is-medium is-bold"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("h2",{staticClass:"subtitle"},[t._v("Dobrodošli u ...")]),i("h1",{staticClass:"title"},[t._v("Virtualni laboratoriji iz fizike")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{staticClass:"tile is-child box is-white"},[i("h2",{staticClass:"subtitle is-9"},[t._v("\n                        Navigirajte se stranicom koristeći\n                        "),i("span",{staticClass:"blue-text"},[t._v("IZBORNIK")]),t._v(".\n                    ")]),i("br"),i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-bars fa-5x"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",{staticClass:"subtitle is-9"},[t._v("\n                        Kućica označava\n                        "),i("span",{staticClass:"blue-text"},[t._v("POČETNU")]),t._v(" stranicu.\n                    ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-home fa-5x"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",{staticClass:"subtitle is-9"},[t._v("\n                        Na vlastitom\n                        "),i("span",{staticClass:"blue-text"},[t._v("PROFILU")]),t._v(" spremajte i dijelite pokuse.\n                    ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-user fa-5x"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",{staticClass:"subtitle is-9"},[t._v("\n                        Izradite vlastite\n                        "),i("span",{staticClass:"blue-text"},[t._v("POKUSE")]),t._v(" iz fizike u 3D okruženju.\n                    ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-flask fa-5x"})])}],L={name:"Home",computed:Object(u["a"])({},Object(f["c"])({isLoggedIn:"user/isLoggedIn"}),Object(f["d"])({user:function(t){return t.user.user}})),methods:{changeRoute:function(t){this.$router.push(t)}}},N=L,A=(i("bdfa"),Object(b["a"])(N,P,B,!1,null,"08770ba0",null)),D=A.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"experiment"}},[s("div",{staticClass:"tile is-ancestor"},[s("div",{staticClass:"tile is-parent is-3 has-text-left"},[s("article",{staticClass:"tile is-child box"},[s("Menu",{on:{notification:t.notification,error:t.error,unlockPlaying:t.unlockPlaying,lockPlaying:t.lockPlaying}})],1)]),t._m(0)]),s("div",{staticClass:"tile is-ancestor"},[s("div",{staticClass:"tile is-parent is-3"},[s("article",{staticClass:"tile is-child box"},[t.isPlaying?s("b-tooltip",{attrs:{type:"is-black",label:"Zaustavi fiziku.",position:"is-right"}},[s("b-button",{staticClass:"is-success",attrs:{size:"is-small","icon-left":"pause",disabled:t.isDisabled},on:{click:function(e){return t.togglePlay(!1)}}},[t._v("Fizika uključena")])],1):t._e(),t.isPlaying?t._e():s("b-tooltip",{attrs:{type:"is-black",label:"Pokreni fiziku.",position:"is-right"}},[s("b-button",{staticClass:"is-dark",attrs:{size:"is-small","icon-left":"play",disabled:t.isDisabled},on:{click:function(e){return t.togglePlay(!0)}}},[t._v("Fizika isključena")])],1)],1)])]),s("b-modal",{attrs:{active:t.firstOpen,width:"700px"},on:{"update:active":function(e){t.firstOpen=e},close:t.close}},[s("header",{staticClass:"modal-card-head is-flex",staticStyle:{"text-align":"left"}},[s("p",{staticClass:"modal-card-title"},[t._v("Odabir pokusa")]),1==t.group?s("div",{staticClass:"control margin-left"},[s("b-field",[s("b-input",{attrs:{placeholder:"Pretraži...",type:"search","icon-pack":"fas",icon:"search"}})],1)],1):t._e()]),s("section",{staticClass:"modal-card-body"},[s("nav",{staticClass:"breadcrumb is-centered has-bullet-separator",attrs:{"aria-label":"breadcrumbs"}},[s("ul",[s("li",{class:{"is-active":0==t.group}},[s("a",{on:{click:function(e){t.group=0}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-rocket",attrs:{"aria-hidden":"true"}})]),s("span",[t._v("Novi pokus")])])]),s("li",{class:{"is-active":1==t.group}},[s("a",{on:{click:function(e){t.group=1}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-book",attrs:{"aria-hidden":"true"}})]),s("span",[t._v("Moji pokusi")])])])])]),s("hr"),0==t.group?s("div",[s("div",{staticClass:"box margin-right",class:{selected:0==t.selected0},staticStyle:{width:"20rem"},on:{click:function(e){t.selected=0}}},[s("article",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-64x64"},[s("img",{attrs:{src:i("d2e7")}})])]),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[t._v("Prazan pokus")]),s("br"),s("small",[t._v("Prazna scena postavljena s podlogom.")])])])])])])]):t._e(),1==t.group?s("div",[t._l(t.filteredExperiments,function(e,i){return s("div",{key:e.id,staticClass:"box margin-right margin-left",class:{selected:t.selected1==i},staticStyle:{width:"20rem"},on:{click:function(e){t.selected1=i}}},[s("article",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-64x64"},[s("img",{attrs:{src:e.image}})])]),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[t._v(t._s(e.title))]),s("br"),s("small",[t._v(t._s(e.description))])])])])])])}),s("div",[s("nav",{staticClass:"pagination is-rounded",attrs:{role:"navigation","aria-label":"pagination"}},[s("a",{staticClass:"pagination-previous my-pagination-button",class:{disabled:0==t.currentPage},on:{click:t.previous}},[s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-angle-left"})]),t._v("Prethodna\n                        ")]),s("a",{staticClass:"pagination-next my-pagination-button",class:{disabled:t.currentPage==t.pages-1},on:{click:t.next}},[t._v("\n                            Sljedeća\n                            "),s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-angle-right"})])])])])],2):t._e()]),s("footer",{staticClass:"modal-card-foot is-flex"},[s("b-button",{staticClass:"button is-success margin-left",attrs:{"icon-left":"check"},on:{click:t.close}},[t._v("Pokreni")])],1)])],1)},z=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tile is-parent"},[i("article",{staticClass:"tile is-child box"},[i("div",{staticClass:"content"},[i("canvas",{attrs:{id:"renderCanvas","touch-action":"none"}})])])])}],I=i("e814"),$=i.n(I),G={hexToColor3:function(t){var e=this.hexToRgb(t);return this.rgbToColor3(e)},hexToRgb:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:$()(e[1],16),g:$()(e[2],16),b:$()(e[3],16)}:null},rgbToColor3:function(t){return[t.r/255,t.g/255,t.b/255]}},H=(i("7514"),i("59ad")),Y=i.n(H),V=(i("7f7f"),i("ac6a"),"BOX"),U="SPHERE",F={create:function(t,e,i){var s=BABYLON.MeshBuilder.CreateBox(t.name,{width:2,height:2,depth:2},i);return s.position.x=0,s.position.y=0,s.position.z=0,s.physicsImpostor=new BABYLON.PhysicsImpostor(s,BABYLON.PhysicsImpostor.BoxImpostor,{mass:Y()(t.mass),friction:Y()(t.friction),restitution:Y()(t.restitution)},i),s.material=e,s}},q={create:function(t,e,i){var s=BABYLON.MeshBuilder.CreateSphere(t.name,{diameterX:2,diameterY:2,diameterZ:2},i);return s.position.x=0,s.position.y=0,s.position.z=0,s.physicsImpostor=new BABYLON.PhysicsImpostor(s,BABYLON.PhysicsImpostor.SphereImpostor,{mass:Y()(t.mass),friction:Y()(t.friction),restitution:Y()(t.restitution)},i),s.material=e,s}},W={},X=(i("9fb0"),{}),K=i("bd86"),Z={getMeshByName:function(t){return function(e){return t.scene.getMeshByName(e)}},getMeshPhysic:function(t){return function(e){return t.physics.find(function(t){return t.name===e}).physic}},getMeshLog:function(t){return function(e){var i=t.logs.find(function(t){return t.name===e});return void 0===i?[]:i.log}}},J={SET_SCENE:"SET_SCENE",SET_AXIS:"SET_AXIS",UPDATE_MESHES:"UPDATE_MESHES",DELETE_MESH:"DELETE_MESH",SET_HIGHLIGHT:"SET_HIGHLIGHT",SET_CAMERA:"SET_CAMERA",SET_GROUND:"SET_GROUND",SET_WALLS:"SET_WALLS",SET_CANVAS:"SET_CANVAS",SET_PLAYING:"SET_PLAYING",SET_MESH_IMPOSTORS:"SET_MESH_IMPOSTORS",UPDATE_MESH_IMPOSTORS:"UPDATE_MESH_IMPOSTORS",SET_PHYSICS_IMPOSTOR:"SET_PHYSICS_IMPOSTOR",SET_DRAG_BEHAVIOUR:"SET_DRAG_BEHAVIOUR",SET_LAST_POSITION:"SET_LAST_POSITION",SET_DELETED_MESH:"SET_DELETED_MESH",UPDATE_MESH_AXIS:"UPDATE_MESH_AXIS",DELETE_MESH_AXIS:"DELETE_MESH_AXIS",UPDATE_PHYSICS:"UPDATE_PHYSICS",UPDATE_MESH_PHYSICS:"UPDATE_MESH_PHYSICS",REMOVE_MESH_PHYSIC:"REMOVE_MESH_PHYSIC",DELETE_MESH_PHYSICS:"DELETE_MESH_PHYSICS",UPDATE_LOGS:"UPDATE_LOGS",SET_MESH_LOGS:"SET_MESH_LOGS",UPDATE_MESH_LOGS:"UPDATE_MESH_LOGS",DELETE_MESH_LOGS:"DELETE_MESH_LOGS"},Q={scene:null,axis:[],meshes:[],highlight:null,camera:null,ground:null,walls:[],canvas:null,playing:!0,physicsImpostors:[],dragBehaviour:[],physicsImpostor:null,lastPosition:null,deletedMesh:null,meshAxis:[],physics:[],logs:[]},tt=(n={},Object(K["a"])(n,J.SET_SCENE,function(t,e){t.scene=e}),Object(K["a"])(n,J.SET_AXIS,function(t,e){t.axis=e}),Object(K["a"])(n,J.UPDATE_MESHES,function(t,e){t.meshes.push(e)}),Object(K["a"])(n,J.DELETE_MESH,function(t,e){var i=t.meshes,s=i.filter(function(t){return t!=e});t.meshes=s}),Object(K["a"])(n,J.SET_HIGHLIGHT,function(t,e){t.highlight=e}),Object(K["a"])(n,J.SET_CAMERA,function(t,e){t.camera=e}),Object(K["a"])(n,J.SET_GROUND,function(t,e){t.ground=e}),Object(K["a"])(n,J.SET_WALLS,function(t,e){t.walls=e}),Object(K["a"])(n,J.SET_CANVAS,function(t,e){t.canvas=e}),Object(K["a"])(n,J.SET_PLAYING,function(t,e){t.playing=e}),Object(K["a"])(n,J.SET_MESH_IMPOSTORS,function(t,e){t.physicsImpostors=e}),Object(K["a"])(n,J.UPDATE_MESH_IMPOSTORS,function(t,e){t.physicsImpostors.push(e)}),Object(K["a"])(n,J.SET_PHYSICS_IMPOSTOR,function(t,e){t.physicsImpostor=e}),Object(K["a"])(n,J.SET_DRAG_BEHAVIOUR,function(t,e){t.dragBehaviour=e}),Object(K["a"])(n,J.SET_LAST_POSITION,function(t,e){t.lastPosition=e}),Object(K["a"])(n,J.SET_DELETED_MESH,function(t,e){t.deletedMesh=e}),Object(K["a"])(n,J.UPDATE_MESH_AXIS,function(t,e){t.meshAxis.push(e)}),Object(K["a"])(n,J.DELETE_MESH_AXIS,function(t,e){t.meshAxis=t.meshAxis.filter(function(t){return t.mesh!==e})}),Object(K["a"])(n,J.UPDATE_PHYSICS,function(t,e){t.physics.push(e)}),Object(K["a"])(n,J.UPDATE_MESH_PHYSICS,function(t,e){var i=t.physics.find(function(t){return t.name===e.mesh}).physic,s=i.filter(function(t){return t.name===e.physic.name});for(var a in s)switch(s[a].name){case"Brzina":if(s[a].properties.axis===e.physic.properties.axis)return void(s[a].properties.value=e.physic.properties.value);break;default:break}i.push(e.physic)}),Object(K["a"])(n,J.REMOVE_MESH_PHYSIC,function(t,e){var i=t.physics.find(function(t){return t.name===e.mesh}).physic,s=i.filter(function(t){return t.name===e.physic.name}),a=function(){for(var t in s)switch(s[t].name){case"Brzina":if(s[t].properties.axis===e.physic.properties.axis)return s[t];break;default:break}},n=function(t,e){return t.filter(function(t){return t!=e})},r=a();r&&(i=n(i,r),t.physics.find(function(t){return t.name===e.mesh}).physic=i)}),Object(K["a"])(n,J.DELETE_MESH_PHYSICS,function(t,e){t.physics=t.physics.filter(function(t){return t.name!==e})}),Object(K["a"])(n,J.UPDATE_LOGS,function(t,e){t.logs.push(e)}),Object(K["a"])(n,J.SET_MESH_LOGS,function(t,e){var i=t.logs.find(function(t){return t.name===e.mesh}).log;i.push(e.log)}),Object(K["a"])(n,J.UPDATE_MESH_LOGS,function(t,e){var i=function(t,e){return t.filter(function(t){return t!=e})},s=t.logs.find(function(t){return t.name===e.mesh}).log,a=s.filter(function(t){return t.type===e.log.type}),n=a.find(function(t){return t.key===e.log.key});if("physics"===n.type)switch(n.key){case"velocity":n=a.find(function(t){return t.properties.axis===e.log.properties.axis&&t.properties.time.start===e.log.properties.time.start});break;default:break}var r=i(s,n);r.push(e.log),t.logs.find(function(t){return t.name===e.mesh}).log=r}),Object(K["a"])(n,J.DELETE_MESH_LOGS,function(t,e){t.logs=t.logs.filter(function(t){return t.name!==e})}),n),et={createWalls:function(t){var e=t.state,i=t.commit,s=(t.dispatch,t.rootState,e.scene),a=new BABYLON.MeshBuilder.CreateGround("northWall",{width:20,height:20},s);a.position.z=10,a.position.y=9,a.rotation.x=-Math.PI/2,a.physicsImpostor=new BABYLON.PhysicsImpostor(a,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,friction:.1,restitution:.9},s),a.visibility=!1;var n=new BABYLON.MeshBuilder.CreateGround("westWall",{width:20,height:20},s);n.position.x=-10,n.position.y=9,n.rotation.z=-Math.PI/2,n.physicsImpostor=new BABYLON.PhysicsImpostor(n,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,friction:.1,restitution:.9},s),n.visibility=!1;var r=new BABYLON.MeshBuilder.CreateGround("eastWall",{width:20,height:20},s);r.position.x=10,r.position.y=9,r.rotation.z=Math.PI/2,r.physicsImpostor=new BABYLON.PhysicsImpostor(r,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,friction:.1,restitution:.9},s),r.visibility=!1;var o=new BABYLON.MeshBuilder.CreateGround("southWall",{width:20,height:20},s);o.position.z=-10,o.position.y=9,o.rotation.x=Math.PI/2,o.physicsImpostor=new BABYLON.PhysicsImpostor(o,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,friction:.1,restitution:.9},s),o.visibility=!1,i(J.SET_WALLS,[a,n,r,o])},deleteWalls:function(t){var e=t.state,i=t.commit,s=(t.dispatch,t.rootState,e.walls);for(var a in s)s[a].dispose();i(J.SET_WALLS,[])}},it={namespaced:!0,state:Q,getters:Z,actions:et,mutations:tt},st=i("795b"),at=i.n(st),nt=i("bc3a"),rt=i.n(nt);rt.a.defaults.headers.post["Content-Type"]="application/json",rt.a.defaults.headers.put["Content-Type"]="application/json";var ot,ct={createUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt.a.post("/api/user",{password:e.password,email:e.email,firstName:e.firstName,lastName:e.lastName,occupation:e.occupation});case 2:return i=t.sent,t.abrupt("return",i.data);case 4:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),checkAvailability:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt.a.post("/api/user/check-availability",{password:e.password,email:e.email,firstName:e.firstName,lastName:e.lastName,occupation:e.occupation});case 2:return i=t.sent,t.abrupt("return",i.data);case 4:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),authenticate:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt.a.post("/api/user/authenticate",{password:e.password,email:e.email});case 2:return i=t.sent,t.abrupt("return",i.data);case 4:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),retrieveUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt.a.get("/api/user/token",{params:{token:e}});case 2:return i=t.sent,t.abrupt("return",i.data);case 4:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),logout:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rt.a.get("/api/user/logout",{params:{token:e}});case 2:return i=t.sent,t.abrupt("return",i.data);case 4:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},lt={isLoggedIn:function(t){return null!=t.token}},ut={SET_LOADING:"SET_LOADING",SET_USER:"SET_USER",SET_TOKEN:"SET_TOKEN"},pt={loading:!1,user:null,token:localStorage.getItem("token")||null},ht=(ot={},Object(K["a"])(ot,ut.SET_LOADING,function(t,e){t.loading=e}),Object(K["a"])(ot,ut.SET_USER,function(t,e){t.user=e}),Object(K["a"])(ot,ut.SET_TOKEN,function(t,e){t.token=e}),ot),mt={createUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,i){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,s=e.commit,e.dispatch,e.rootState,t.abrupt("return",new at.a(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s(ut.SET_LOADING,!0),t.next=4,ct.createUser(i);case 4:n=t.sent,s(ut.SET_USER,n),e(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),a(t.t0);case 12:return t.prev=12,s(ut.SET_LOADING,!1),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[0,9,12,15]])}));return function(e,i){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}},t)}));function e(e,i){return t.apply(this,arguments)}return e}(),authenticate:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,i){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,s=e.commit,e.dispatch,e.rootState,t.abrupt("return",new at.a(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s(ut.SET_LOADING,!0),t.next=4,ct.authenticate(i);case 4:n=t.sent,n||e(!1),s(ut.SET_USER,n),r=n.token,localStorage.setItem("token",r),s(ut.SET_TOKEN,r),e(!0),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),a(t.t0);case 16:return t.prev=16,s(ut.SET_LOADING,!1),t.finish(16);case 19:case"end":return t.stop()}},t,null,[[0,13,16,19]])}));return function(e,i){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}},t)}));function e(e,i){return t.apply(this,arguments)}return e}(),checkAvailability:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,i){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,s=e.commit,e.dispatch,e.rootState,t.abrupt("return",new at.a(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s(ut.SET_LOADING,!0),t.next=4,ct.checkAvailability(i);case 4:n=t.sent,e(n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),a(t.t0);case 11:return t.prev=11,s(ut.SET_LOADING,!1),t.finish(11);case 14:case"end":return t.stop()}},t,null,[[0,8,11,14]])}));return function(e,i){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}},t)}));function e(e,i){return t.apply(this,arguments)}return e}(),retrieveUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=e.state,s=e.commit,e.dispatch,e.rootState,t.abrupt("return",new at.a(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,s(ut.SET_LOADING,!0),n=i.token,null==n){t.next=8;break}return t.next=6,ct.retrieveUser(n);case 6:r=t.sent,s(ut.SET_USER,r);case 8:e(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),a(t.t0);case 14:return t.prev=14,s(ut.SET_LOADING,!1),t.finish(14);case 17:case"end":return t.stop()}},t,null,[[0,11,14,17]])}));return function(e,i){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),logout:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=e.state,s=e.commit,e.dispatch,e.rootState,t.abrupt("return",new at.a(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s(ut.SET_LOADING,!0),n=i.token,t.next=5,ct.logout(n);case 5:e(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),a(t.t0);case 11:return t.prev=11,localStorage.removeItem("token"),s(ut.SET_TOKEN,null),s(ut.SET_LOADING,!1),t.finish(11);case 16:case"end":return t.stop()}},t,null,[[0,8,11,16]])}));return function(e,i){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},dt={namespaced:!0,state:pt,getters:lt,actions:mt,mutations:ht};o["default"].use(f["a"]);var ft=new f["a"].Store({getters:W,actions:a,mutations:X,modules:{experiment:it,user:dt}}),vt={create:function(t,e,i,s){var a=null;switch(t){case V:a=F.create(e,i,s);break;case U:a=q.create(e,i,s);break;default:return void console.error("Invalid type of mesh!")}var n=ft.state.experiment.playing;if(!1===n){var r={name:e.name,mass:e.mass,type:a.physicsImpostor.type,velocity:a.physicsImpostor.getLinearVelocity()};ft.commit("experiment/UPDATE_MESH_IMPOSTORS",r),a.physicsImpostor.dispose()}this.addMeshLabel(a),this.enableWallRestrictions(a);var o={name:e.name,physic:[]};ft.commit("experiment/UPDATE_PHYSICS",o);var c={name:e.name,log:[]};return ft.commit("experiment/UPDATE_LOGS",c),ft.commit("experiment/UPDATE_MESHES",a.name),a},delete:function(t,e){t.dispose(),ft.commit("experiment/DELETE_MESH",e),ft.commit("experiment/DELETE_MESH_PHYSICS",e),ft.commit("experiment/DELETE_MESH_AXIS",e),ft.commit("experiment/DELETE_MESH_LOGS",e)},findEmptyPosition:function(t){for(var e=ft.state.experiment.scene,i=ft.state.experiment.ground,s=i.getBoundingInfo().boundingBox.extendSize,a=-s.z;a<=s.z;a+=.1)for(var n=-s.x;n<=s.x;n+=.1)if(t.position.x=n,t.position.z=a,e.render(),!1===this.checkCollisions(t,t.name))return},addMeshLabel:function(t){var e=this.makeTextPlane(t.name,"white",1);e.position.y=t.position.y+t.scaling.y+1,e.parent=t},makeTextPlane:function(t,e,i){var s=ft.state.experiment.scene,a=new BABYLON.DynamicTexture("DynamicTexture",50,s,!0);a.hasAlpha=!0,a.drawText(t,0,40,"20px Arial",e,"transparent",!0);var n=new BABYLON.Mesh.CreatePlane("TextPlane",i,s,!0);return n.material=new BABYLON.StandardMaterial("TextPlaneMaterial",s),n.material.backFaceCulling=!1,n.material.specularColor=new BABYLON.Color3(0,0,0),n.material.diffuseTexture=a,n},toggleHightlight:function(t){var e=ft.state.experiment.highlight;e.hasMesh(t)?e.removeMesh(t):e.addMesh(t,BABYLON.Color3.Green())},addDragBehaviour:function(t,e,i){var s=ft.state.experiment.playing;if(!0===i){if(!0===s){var a={mass:t.physicsImpostor.mass,type:t.physicsImpostor.type};ft.commit("experiment/SET_PHYSICS_IMPOSTOR",a),t.physicsImpostor.dispose()}var n={x:t.position.x,y:t.position.y,z:t.position.z};ft.commit("experiment/SET_LAST_POSITION",n),ft.dispatch("experiment/deleteWalls")}var r=ft.state.experiment.dragBehaviour;this.removeDragBehaviours(t);var o=r[e];t.addBehavior(o)},removeDragBehaviours:function(t,e){var i=ft.state.experiment.dragBehaviour;i.forEach(function(e){t.removeBehavior(e)});var s=ft.state.experiment.playing;if(!0===e&&!0===s){if(!0===s){var a=ft.state.experiment.scene,n=ft.state.experiment.physicsImpostor;t.physicsImpostor=new BABYLON.PhysicsImpostor(t,n.type,{mass:n.mass},a),ft.commit("experiment/SET_PHYSICS_IMPOSTOR",null)}ft.dispatch("experiment/createWalls")}},enableWallRestrictions:function(t){var e=ft.state.experiment.scene,i=ft.state.experiment.ground,s=i.getBoundingInfo().boundingBox.extendSize,a=t.getBoundingInfo().boundingBox.extendSize,n=s.x-a.x,r=-n,o=s.z-a.z,c=-o;e.registerBeforeRender(function(){var e=ft.state.experiment.physicsImpostor;t.isDisposed()||(null!==e&&(t.position.x>n&&(t.position.x=n),t.position.x<r&&(t.position.x=r),t.position.z>o&&(t.position.z=o),t.position.z<c&&(t.position.z=c),t.position.y<0&&(t.position.y=0)),t.position.y<-30&&(t.dispose(),ft.commit("experiment/DELETE_MESH",t.name),ft.commit("experiment/DELETE_MESH_PHYSICS",t.name),ft.commit("experiment/DELETE_MESH_AXIS",t.name),ft.commit("experiment/DELETE_MESH_LOGS",t.name),ft.commit("experiment/SET_DELETED_MESH",t.name)))})},checkCollisions:function(t,e){var i=ft.state.experiment.meshes,s=i.filter(function(t){return t!=e});for(var a in s){var n=ft.getters["experiment/getMeshByName"](s[a]);if(t.intersectsMesh(n,!0))return!0}return!1},setMeshToLastPosition:function(t){var e=ft.state.experiment.lastPosition;t.position=e},getCollisions:function(t,e){var i=ft.state.experiment.meshes,s=i.filter(function(t){return t!=e}),a=[];for(var n in s){var r=ft.getters["experiment/getMeshByName"](s[n]),o=r.physicsImpostor;t.intersectsMesh(r,!1)&&!1===o.isDisposed&&a.push(s[n])}return a}},gt={addPhysic:function(t,e){switch(e.name){case"Brzina":this.addVelocity(t,e.properties);break;default:break}},addVelocity:function(t,e){var i=ft.state.experiment.playing;if(!0===i)switch(e.axis){case 0:t.physicsImpostor.setLinearVelocity(new BABYLON.Vector3(Y()(e.value),0,0));break;case 1:t.physicsImpostor.setLinearVelocity(new BABYLON.Vector3(0,Y()(e.value),0));break;case 2:t.physicsImpostor.setLinearVelocity(new BABYLON.Vector3(0,0,Y()(e.value)));break}else{var s=ft.state.experiment.physicsImpostors,a=s.find(function(e){return e.name===t.name}),n=Object(u["a"])({},a);switch(e.axis){case 0:n.velocity.x=Y()(e.value);break;case 1:n.velocity.y=Y()(e.value);break;case 2:n.velocity.z=Y()(e.value);break}var r=function(t,e){return t.filter(function(t){return t!=e})};s=r(s,a),s.push(n),ft.commit("experiment/SET_MESH_IMPOSTORS",s)}}},bt={toggleHighlight:function(t){vt.toggleHightlight(t)},addDragBehaviour:function(t,e,i){vt.addDragBehaviour(t,e,i)},removeDragBehaviours:function(t,e){vt.removeDragBehaviours(t,e)},addMesh:function(t,e,i,s){return vt.create(t,e,i,s)},findEmptyPosition:function(t){vt.findEmptyPosition(t)},addPhysic:function(t,e){gt.addPhysic(t,e)},checkCollisions:function(t,e){return vt.checkCollisions(t,e)},getCollisions:function(t,e){return vt.getCollisions(t,e)},setMeshToLastPosition:function(t){vt.setMeshToLastPosition(t)},deleteMesh:function(t,e){vt.delete(t,e)},togglePlay:function(t){if(!1===t){var e=ft.state.experiment.meshes,i=[];for(var s in e){var a=ft.getters["experiment/getMeshByName"](e[s]),n={name:e[s],mass:a.physicsImpostor.mass,type:a.physicsImpostor.type,velocity:a.physicsImpostor.getLinearVelocity()};i.push(n),a.physicsImpostor.dispose()}ft.commit("experiment/SET_MESH_IMPOSTORS",i)}else{var r=ft.state.experiment.scene;i=ft.state.experiment.physicsImpostors;for(var s in i){var o=ft.getters["experiment/getMeshByName"](i[s].name);o&&(o.physicsImpostor=new BABYLON.PhysicsImpostor(o,i[s].type,{mass:i[s].mass},r),o.physicsImpostor.setLinearVelocity(new BABYLON.Vector3(Y()(i[s].velocity.x),Y()(i[s].velocity.y),Y()(i[s].velocity.z))))}}},showMeshAxis:function(t){var e=ft.getters["experiment/getMeshByName"](t),i=ft.state.experiment.scene,s=new BABYLON.Vector3.Zero,a=this.createAxis(s,2,i);for(var n in a)a[n].axis.parent=e,a[n].char.parent=e;var r={mesh:t,axis:a};ft.commit("experiment/UPDATE_MESH_AXIS",r)},deleteMeshAxis:function(t){var e=ft.state.experiment.meshAxis.find(function(e){return e.mesh===t});for(var i in e.axis){var s=e.axis[i].axis,a=e.axis[i].char;s.dispose(),a.dispose()}ft.commit("experiment/DELETE_MESH_AXIS",t)},showAxis:function(){var t=ft.state.experiment.scene,e=new BABYLON.Vector3(-10,-1,-10),i=this.createAxis(e,5,t);ft.commit("experiment/SET_AXIS",i)},removeAxis:function(){var t=ft.state.experiment.axis;for(var e in t){var i=t[e].axis,s=t[e].char;i.dispose(),s.dispose()}ft.commit("experiment/SET_AXIS",[])},createAxis:function(t,e,i){var s=function(t,e,i,s){var a=new BABYLON.DynamicTexture("DynamicTexture",50,s,!0);a.hasAlpha=!0,a.drawText(t,5,40,"bold 36px Arial",e,"transparent",!0);var n=new BABYLON.Mesh.CreatePlane("TextPlane",i,s,!0);return n.material=new BABYLON.StandardMaterial("TextPlaneMaterial",s),n.material.backFaceCulling=!1,n.material.specularColor=new BABYLON.Color3(0,0,0),n.material.diffuseTexture=a,n},a=BABYLON.Mesh.CreateLines("axisX",[t,new BABYLON.Vector3(t.x+e,t.y+0,t.z+0),new BABYLON.Vector3(t.x+.95*e,t.y+.05*e,t.z+0),new BABYLON.Vector3(t.x+e,t.y+0,t.z+0),new BABYLON.Vector3(t.x+.95*e,t.y+-.05*e,t.z+0)],i);a.color=new BABYLON.Color3(1,0,0);var n=s("X","red",e/10,i);n.position=new BABYLON.Vector3(t.x+.9*e,t.y+.05*e,t.z+0);var r=BABYLON.Mesh.CreateLines("axisY",[t,new BABYLON.Vector3(t.x+0,t.y+e,t.z+0),new BABYLON.Vector3(t.x+-.05*e,t.y+.95*e,t.z+0),new BABYLON.Vector3(t.x+0,t.y+e,t.z+0),new BABYLON.Vector3(t.x+.05*e,t.y+.95*e,t.z+0)],i);r.color=new BABYLON.Color3(0,1,0);var o=s("Y","green",e/10,i);o.position=new BABYLON.Vector3(t.x+0,t.y+.9*e,t.z+-.05*e);var c=BABYLON.Mesh.CreateLines("axisZ",[t,new BABYLON.Vector3(t.x+0,t.y+0,t.z+e),new BABYLON.Vector3(t.x+0,t.y+-.05*e,t.z+.95*e),new BABYLON.Vector3(t.x+0,t.y+0,t.z+e),new BABYLON.Vector3(t.x+0,t.y+.05*e,t.z+.95*e)],i);c.color=new BABYLON.Color3(0,0,1);var l=s("Z","blue",e/10,i);l.position=new BABYLON.Vector3(t.x+0,t.y+.05*e,t.z+.9*e);var u={axis:a,char:n},p={axis:r,char:o},h={axis:c,char:l},m=[u,p,h];return m},createEmptyScene:function(t,e){var i=new BABYLON.Scene(e),s=new BABYLON.ArcRotateCamera("camera",0,0,30,BABYLON.Vector3.Zero(),i);s.attachControl(t,!0),s.setPosition(new BABYLON.Vector3(10,6,-20)),s.lowerRadiusLimit=15,s.upperRadiusLimit=35,s.wheelDeltaPercentage=.01,ft.commit("experiment/SET_CAMERA",s);var a=new BABYLON.HemisphericLight("hemLight1",new BABYLON.Vector3(-.5,1,.5),i);a.intensity=.3;var n=new BABYLON.HemisphericLight("hemLight2",new BABYLON.Vector3(.5,1,-.5),i);n.intensity=.3;var r=new BABYLON.Vector3(0,-9.81,0),o=new BABYLON.CannonJSPlugin;i.enablePhysics(r,o);var c=new BABYLON.MeshBuilder.CreateBox("ground",{width:20,height:1,depth:20},i);c.position.y=-1.5,c.physicsImpostor=new BABYLON.PhysicsImpostor(c,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,friction:.1,restitution:.9},i),ft.commit("experiment/SET_GROUND",c);var l=new BABYLON.HighlightLayer("highlight",i);ft.commit("experiment/SET_HIGHLIGHT",l),ft.commit("experiment/SET_CANVAS",t);var u=new BABYLON.PointerDragBehavior({dragAxis:new BABYLON.Vector3(1,0,0)});u.useObjectOrienationForDragging=!1;var p=new BABYLON.PointerDragBehavior({dragAxis:new BABYLON.Vector3(0,1,0)});p.useObjectOrienationForDragging=!1;var h=new BABYLON.PointerDragBehavior({dragAxis:new BABYLON.Vector3(0,0,1)});h.useObjectOrienationForDragging=!1,ft.commit("experiment/SET_DRAG_BEHAVIOUR",[u,p,h]);var m=new BABYLON.Vector3(-10,-1,-10),d=this.createAxis(m,5,i);return ft.commit("experiment/SET_AXIS",d),ft.commit("experiment/SET_PLAYING",!0),i}},xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"menu"}},[i("aside",{staticClass:"menu"},[i("transition",{attrs:{mode:"out-in"}},[t.isMenu?i("div",[i("p",{staticClass:"menu-label"},[i("a",{staticClass:"button icon-btn",on:{click:t.changeMenu}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-ellipsis-h"})])])]),t._l(t.menus,function(e,s){return i("div",{key:s,staticClass:"menu-group"},[i("p",{staticClass:"menu-label"},[t._v(t._s(e.name))]),i("ul",{staticClass:"menu-list"},t._l(e.menus,function(s,a){return i("li",{key:a},[i("a",{class:{"is-active":t.activeMenu.name==s.name},on:{click:function(i){return t.changeMenu({groupName:e.name,menuName:s.name})}}},[t._v(t._s(s.name))])])}),0)])})],2):i("p",[i("span",[i("div",{staticClass:"is-flex"},[i("p",{staticClass:"menu-label"},[i("a",{staticClass:"button icon-btn",on:{click:t.changeMenu}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-ellipsis-v"})])])]),i("p",{staticClass:"menu-label"},[t._v(t._s(t.activeMenu.name))])]),i(t.activeMenu.component,{tag:"component",on:{changeMenu:t.changeMenu,notification:t.notification,error:t.error,unlockPlaying:t.unlockPlaying,lockPlaying:t.lockPlaying}})],1)])])],1)])},yt=[],_t=i("0a0d"),Ct=i.n(_t),kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"novi-element"}},[0===t.stage?i("div",{staticClass:"first-stage"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("Postavke")]),i("b-field",{attrs:{type:t.errors.has("mesh")?"is-danger":""}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:4",expression:"'required|max:4'"}],attrs:{placeholder:"Naziv",icon:"signature",name:"mesh",maxlength:"4"},model:{value:t.properties.name,callback:function(e){t.$set(t.properties,"name",e)},expression:"properties.name"}})],1),i("b-field",{attrs:{type:t.errors.has("mass")?"is-danger":""}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal|min_value:0.01",expression:"'required|decimal|min_value:0.01'"}],attrs:{placeholder:"Masa",icon:"weight-hanging",name:"mass",expanded:""},model:{value:t.properties.mass,callback:function(e){t.$set(t.properties,"mass",e)},expression:"properties.mass"}}),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[t._v("kg")])])],1),i("b-field",[i("my-color-picker",{on:{input:t.updateColor}})],1),i("b-field",[i("b-tooltip",{attrs:{type:"is-black",label:"Faktor trenja"}},[i("b-numberinput",{attrs:{step:.01,min:0,"controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1,expanded:""},model:{value:t.properties.friction,callback:function(e){t.$set(t.properties,"friction",e)},expression:"properties.friction"}})],1),i("b-icon",{staticClass:"margin-5px",attrs:{icon:"road"}})],1),i("b-field",[i("b-tooltip",{attrs:{type:"is-black",label:"Koeficijent elastičnosti"}},[i("b-numberinput",{attrs:{step:.01,min:0,max:1,"controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1,expanded:""},model:{value:t.properties.restitution,callback:function(e){t.$set(t.properties,"restitution",e)},expression:"properties.restitution"}})],1),i("b-icon",{staticClass:"margin-5px",attrs:{icon:"expand-arrows-alt"}})],1)],1),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("Vrsta oblika")]),i("div",{staticClass:"control is-flex"},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.meshType,expression:"meshType"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.meshType=e.target.multiple?i:i[0]}}},t._l(t.meshTypes,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(t._f("translateMeshType")(e)))])}),0)]),i("div",{staticClass:"control margin-left"},[i("button",{staticClass:"button is-success",on:{click:t.addMesh}},[t._m(0),i("span",[t._v("Dodaj")])])])])])]):t._e(),1===t.stage?i("div",{staticClass:"second-stage"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("Pozicioniranje")]),i("p",[t._v("Smjestite element na sceni tako da nije u dodiru s drugima. Prilikom pozicioniranja fizika elementa je isključena.")]),i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:t.axis,callback:function(e){t.axis=e},expression:"axis"}},[t._v("x")]),i("b-radio",{attrs:{"native-value":1},model:{value:t.axis,callback:function(e){t.axis=e},expression:"axis"}},[t._v("y")]),i("b-radio",{attrs:{"native-value":2},model:{value:t.axis,callback:function(e){t.axis=e},expression:"axis"}},[t._v("z")])],1)]),i("div",{staticClass:"control is-flex"},[i("div",{staticClass:"control margin-right"},[i("button",{staticClass:"button",on:{click:t.back}},[t._m(1),i("span",[t._v("Nazad")])])]),i("div",{staticClass:"control margin-left"},[t.hasCollisions?i("b-tooltip",{attrs:{type:"is-black",label:"Postoje kolizije!"}},[i("button",{staticClass:"button is-success",attrs:{disabled:""}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})]),i("span",[t._v("Dodaj")])])]):i("button",{staticClass:"button is-success",on:{click:t.finish}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})]),i("span",[t._v("Dodaj")])])],1)])]):t._e(),i("b-loading",{attrs:{"is-full-page":!0,active:t.isLoading}},[i("b-icon",{attrs:{pack:"fas",icon:"sync-alt",size:"is-medium","custom-class":"fa-spin"}}),i("h1",{staticClass:"title is-4 loading-title"},[t._v("Kreiranje i postavljanje elementa na scenu.")])],1)],1)},Et=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left"})])}],St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"my-color-picker"}},[i("div",{staticClass:"is-flex top-padding"},[i("b-input",{attrs:{placeholder:"Boja",value:t.color,disabled:""}}),i("button",{staticClass:"button disabled",style:{"background-color":t.color}}),i("div",{staticClass:"control margin-left"},[i("button",{staticClass:"button is-warning",on:{click:function(e){t.isPickerActive=!0}}},[t._m(0)])])],1),i("b-modal",{attrs:{active:t.isPickerActive,scroll:"keep",width:"225px"},on:{"update:active":function(e){t.isPickerActive=e}}},[i("color-picker",{staticClass:"color-picker",attrs:{value:t.color},on:{input:t.updateColor}})],1)],1)},wt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-palette"})])}],Ot=i("c345"),Mt={name:"MyColorPicker",data:function(){return{color:"#284E7B",isPickerActive:!1}},components:{ColorPicker:Ot["Chrome"]},methods:{updateColor:function(t){this.color=t.hex,this.$emit("input",this.color)}}},jt=Mt,Tt=(i("2733"),Object(b["a"])(jt,St,wt,!1,null,"160c112d",null)),Pt=Tt.exports,Bt=i("5118"),Lt={name:"NoviElement",data:function(){return{isLoading:!1,meshType:V,meshTypes:s,mesh:null,stage:0,axis:0,hasCollisions:!1,isSuccess:!1,properties:{name:"",mass:1,friction:.1,restitution:.5},color:"#284E7B"}},beforeDestroy:function(){1!==this.stage||this.isSuccess||(this.$emit("unlockPlaying"),this.deleteMesh(),this.error("Element nije uspješno dodan!"))},components:{MyColorPicker:Pt},computed:Object(u["a"])({},Object(f["c"])({getMeshByName:"experiment/getMeshByName"}),Object(f["d"])({existingMeshes:function(t){return t.experiment.meshes}}),{scene:{get:function(){return this.$store.state.experiment.scene},set:function(t){this.$store.commit("experiment/SET_SCENE",t)}}}),filters:{translateMeshType:function(t){switch(t){case"BOX":return"Kocka";case"SPHERE":return"Kugla";case"CYLINDER":return"Valjak";default:return}}},methods:{togglePicker:function(){this.isPickerActive=!this.isPickerActive},updateColor:function(t){this.color=t},deleteMesh:function(){bt.deleteMesh(this.getMeshByName(this.mesh),this.mesh)},checkCollisions:function(){if(1===this.stage){var t=this.getMeshByName(this.mesh);t&&(this.hasCollisions=bt.checkCollisions(t,this.mesh))}},back:function(){this.$emit("unlockPlaying"),this.deleteMesh(),this.stage=0},finish:function(){var t=this.getMeshByName(this.mesh);bt.toggleHighlight(t),bt.removeDragBehaviours(t,!0);var e={mesh:this.mesh,log:{name:"Stvoren element",icon:"fas fa-plus",type:"life",key:this.mesh,description:"(".concat(this.mesh,")"),properties:{time:Ct()(),position:t.position}}};this.$store.commit("experiment/SET_MESH_LOGS",e),this.isSuccess=!0,this.$emit("unlockPlaying"),this.notification("Uspješno ste stvorili novi element: ".concat(this.mesh)),this.$emit("changeMenu",{groupName:null,menuName:null})},validate:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$validator.validateAll();case 2:return e=t.sent,t.abrupt("return",0==this.errors.any()&&e);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),addMesh:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i,s,a,n,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.validate();case 2:if(e=t.sent,e){t.next=5;break}return t.abrupt("return");case 5:if(!this.getMeshByName(this.properties.name)){t.next=9;break}return this.errors.add({field:"mesh",msg:"Već postoji element s tim nazivom!"}),this.error("Već postoji element s nazivom: ".concat(this.properties.name)),t.abrupt("return");case 9:return i=G.hexToColor3(this.color),s=new BABYLON.StandardMaterial("material",this.scene),s.diffuseColor=new BABYLON.Color3(i[0],i[1],i[2]),a=bt.addMesh(this.meshType,this.properties,s,this.scene),this.mesh=a.name,this.stage=1,bt.toggleHighlight(this.getMeshByName(this.mesh)),setInterval(function(){o.checkCollisions()},1),bt.addDragBehaviour(this.getMeshByName(this.mesh),this.axis,!0),n=function(){return new at.a(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:bt.findEmptyPosition(a),e();case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},this.isLoading=!0,t.next=22,n();case 22:this.isLoading=!1,this.$emit("lockPlaying");case 24:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),notification:function(t){this.$emit("notification",t)},error:function(t){this.$emit("error",t)}},watch:{axis:function(){1===this.stage&&bt.addDragBehaviour(this.getMeshByName(this.mesh),this.axis)}}},Nt=Lt,At=(i("8165"),Object(b["a"])(Nt,kt,Et,!1,null,"2b8040b0",null)),Dt=At.exports,Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"uredi-element"}},[null==t.currentMesh?i("div",{staticClass:"field"},[i("p",[t._v("Trenutno ne postoje elementi na sceni.")]),i("button",{staticClass:"button is-success",on:{click:function(e){return t.changeMenu("Općenito","Novi element")}}},[t._m(0),i("span",[t._v("Dodaj")])])]):i("div",{staticClass:"field"},[i("b-field",{attrs:{horizontal:"",label:"Element:"}},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.mesh,expression:"mesh"}],attrs:{disabled:t.isDrag},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.mesh=e.target.multiple?i:i[0]}}},t._l(t.existingMeshes,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}),0)])]),i("div",{staticClass:"control is-flex"},[t._m(1),i("div",{staticClass:"control margin-left"},[i("b-tooltip",{attrs:{type:"is-black",label:"Uključi/Isključi prikaz lokalnih koordinatnih osi."}},[i("b-switch",{on:{input:t.switchAxis},model:{value:t.hasAxis,callback:function(e){t.hasAxis=e},expression:"hasAxis"}})],1)],1)]),i("div",{staticClass:"control is-flex"},[t._m(2),i("div",{staticClass:"control margin-left",staticStyle:{"text-align":"right"}},[t.hasCollisions&&t.isDrag?i("b-tooltip",{attrs:{type:"is-black",label:"Postoje kolizije!"}},[i("b-switch",{attrs:{disabled:""},model:{value:t.isDrag,callback:function(e){t.isDrag=e},expression:"isDrag"}})],1):i("b-switch",{on:{input:t.switchDrag},model:{value:t.isDrag,callback:function(e){t.isDrag=e},expression:"isDrag"}}),i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0,disabled:!t.isDrag},model:{value:t.axis,callback:function(e){t.axis=e},expression:"axis"}},[t._v("x")]),i("b-radio",{attrs:{"native-value":1,disabled:!t.isDrag},model:{value:t.axis,callback:function(e){t.axis=e},expression:"axis"}},[t._v("y")]),i("b-radio",{attrs:{"native-value":2,disabled:!t.isDrag},model:{value:t.axis,callback:function(e){t.axis=e},expression:"axis"}},[t._v("z")])],1)],1)]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("Rotacija (os X)")]),i("b-field",[i("b-field",[i("b-tooltip",{attrs:{label:"Stupnjevi",type:"is-black"}},[i("b-input",{attrs:{type:"number"},on:{input:function(e){return t.setRotation(0)}},model:{value:t.rotation.x.d,callback:function(e){t.$set(t.rotation.x,"d",e)},expression:"rotation.x.d"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[t._v("°")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Minute",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"minutes",type:"number"},on:{input:function(e){return t.setRotation(0)}},model:{value:t.rotation.x.m,callback:function(e){t.$set(t.rotation.x,"m",e)},expression:"rotation.x.m"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[t._v("'")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Sekunde",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"seconds",type:"number"},on:{input:function(e){return t.setRotation(0)}},model:{value:t.rotation.x.s,callback:function(e){t.$set(t.rotation.x,"s",e)},expression:"rotation.x.s"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[t._v('"')])])],1),i("b-tooltip",{attrs:{label:"Resetiraj",type:"is-black"}},[i("button",{staticClass:"button is-warning",on:{click:function(e){return t.resetRotation(0)}}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-redo"})])])])],1)],1),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("Rotacija (os Y)")]),i("b-field",[i("b-field",[i("b-tooltip",{attrs:{label:"Stupnjevi",type:"is-black"}},[i("b-input",{attrs:{type:"number"},on:{input:function(e){return t.setRotation(1)}},model:{value:t.rotation.y.d,callback:function(e){t.$set(t.rotation.y,"d",e)},expression:"rotation.y.d"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[t._v("°")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Minute",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"minutes",type:"number"},on:{input:function(e){return t.setRotation(1)}},model:{value:t.rotation.y.m,callback:function(e){t.$set(t.rotation.y,"m",e)},expression:"rotation.y.m"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[t._v("'")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Sekunde",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"seconds",type:"number"},on:{input:function(e){return t.setRotation(1)}},model:{value:t.rotation.y.s,callback:function(e){t.$set(t.rotation.y,"s",e)},expression:"rotation.y.s"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[t._v('"')])])],1),i("b-tooltip",{attrs:{label:"Resetiraj",type:"is-black"}},[i("button",{staticClass:"button is-warning",on:{click:function(e){return t.resetRotation(1)}}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-redo"})])])])],1)],1),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("Rotacija (os Z)")]),i("b-field",[i("b-field",[i("b-tooltip",{attrs:{label:"Stupnjevi",type:"is-black"}},[i("b-input",{attrs:{type:"number"},on:{input:function(e){return t.setRotation(2)}},model:{value:t.rotation.z.d,callback:function(e){t.$set(t.rotation.z,"d",e)},expression:"rotation.z.d"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[t._v("°")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Minute",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"minutes",type:"number"},on:{input:function(e){return t.setRotation(2)}},model:{value:t.rotation.z.m,callback:function(e){t.$set(t.rotation.z,"m",e)},expression:"rotation.z.m"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[t._v("'")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Sekunde",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"seconds",type:"number"},on:{input:function(e){return t.setRotation(2)}},model:{value:t.rotation.z.s,callback:function(e){t.$set(t.rotation.z,"s",e)},expression:"rotation.z.s"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[t._v('"')])])],1),i("b-tooltip",{attrs:{label:"Resetiraj",type:"is-black"}},[i("button",{staticClass:"button is-warning",on:{click:function(e){return t.resetRotation(2)}}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-redo"})])])])],1)],1),i("div",{staticClass:"field"},[i("button",{staticClass:"button is-danger",on:{click:t.deleteMesh}},[t._m(3),i("span",[t._v("Izbriši")])])])],1)])},zt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[t._v("Koordinatne osi")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[t._v("Pomakni")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-times"})])}],It=(i("6762"),i("2fdb"),i("c5f6"),{name:"UrediElement",data:function(){return{isDrag:!1,hasCollisions:!1,myAxis:!1,axis:0,mesh:null,rotation:{x:{d:0,m:0,s:0},y:{d:0,m:0,s:0},z:{d:0,m:0,s:0}}}},mounted:function(){var t=this;setInterval(function(){t.setDMS(0),t.setDMS(1),t.setDMS(2)},1),setInterval(function(){t.checkCollisions()},1)},beforeDestroy:function(){this.isDrag&&(this.hasCollisions&&bt.setMeshToLastPosition(this.getMeshByName(this.mesh)),this.$emit("unlockPlaying"),this.switchDrag()),this.mesh&&bt.toggleHighlight(this.getMeshByName(this.mesh))},computed:Object(u["a"])({},Object(f["c"])({getMeshByName:"experiment/getMeshByName"}),Object(f["d"])({existingMeshes:function(t){return t.experiment.meshes},meshAxis:function(t){return t.experiment.meshAxis}}),{hasAxis:{get:function(){var t=this;if(0===this.meshAxis.length)return!1;var e=this.meshAxis.find(function(e){return e.mesh===t.mesh});return!!e},set:function(t){this.myAxis=t}},scene:{get:function(){return this.$store.state.experiment.scene},set:function(t){this.$store.commit("experiment/SET_SCENE",t)}},currentMesh:{get:function(){if(0===this.existingMeshes.length)return this.mesh=null,null;if(null==this.mesh){var t=this.existingMeshes.length;return t>0?(this.mesh=this.existingMeshes[t-1],this.mesh):null}return this.mesh},set:function(t){this.mesh=t}}}),methods:{deleteMesh:function(){var t=this.getMeshByName(this.mesh);bt.deleteMesh(t,this.mesh),this.$store.commit("experiment/SET_DELETED_MESH",this.mesh)},setCurrentRotation:function(t,e){var i=this.getMeshByName(this.mesh),s=new BABYLON.Quaternion.RotationYawPitchRoll(e.y,e.x,e.z);i.rotationQuaternion=s,this.setDMS(t)},getCurrentRotation:function(t){var e=this.getMeshByName(this.mesh);if(void 0!=e)return this.radianToDegree(e.rotationQuaternion.toEulerAngles()[t])},setDMS:function(t){var e=0===t?"x":1===t?"y":"z",i=this.getCurrentRotation(e);if(void 0!=i){var s=i.toFixed(2);0==Math.abs(s).toFixed(2)&&(s=Math.abs(s)),this.rotation[e].d=Math.floor(s);var a=60*(s-this.rotation[e].d);this.rotation[e].m=Math.floor(a);var n=60*(a-this.rotation[e].m);this.rotation[e].s=Math.floor(n),60==this.rotation[e].s&&(this.rotation[e].s=0,this.rotation[e].m++),60==this.rotation[e].m&&(this.rotation[e].m=0,this.rotation[e].d++)}},degreeToRadian:function(t){var e=Math.PI;return t*(e/180)},radianToDegree:function(t){var e=Math.PI;return t*(180/e)},checkCollisions:function(){this.isDrag&&(this.hasCollisions=bt.checkCollisions(this.getMeshByName(this.mesh),this.mesh))},switchDrag:function(t){var e="Pomicanje tijela (".concat(this.mesh,") je omogućeno.");t?(this.$emit("lockPlaying"),bt.addDragBehaviour(this.getMeshByName(this.mesh),this.axis,!0)):(bt.removeDragBehaviours(this.getMeshByName(this.mesh),!0),this.$emit("unlockPlaying"),e="Pomicanje tijela (".concat(this.mesh,"). je onemogućeno.")),this.notification(e)},setRotation:function(t){var e=this.degreeToRadian(Number(this.rotation.x.d)+Number(this.rotation.x.m)/60+Number(this.rotation.x.s)/3600),i=this.degreeToRadian(Number(this.rotation.y.d)+Number(this.rotation.y.m)/60+Number(this.rotation.y.s)/3600),s=this.degreeToRadian(Number(this.rotation.z.d)+Number(this.rotation.z.m)/60+Number(this.rotation.z.s)/3600),a={x:e,y:i,z:s};this.setCurrentRotation(t,a)},resetRotation:function(t){var e=0===t?"x":1===t?"y":"z";this.rotation[e].d=0,this.rotation[e].m=0,this.rotation[e].s=0,this.setRotation(t)},switchAxis:function(t){t?bt.showMeshAxis(this.mesh):bt.deleteMeshAxis(this.mesh)},notification:function(t){this.$emit("notification",t)},error:function(t){this.$emit("error",t)},changeMenu:function(t,e){this.$emit("changeMenu",{groupName:t,menuName:e})}},watch:{axis:function(){this.isDrag&&bt.addDragBehaviour(this.getMeshByName(this.mesh),this.axis)},mesh:function(t,e){e&&this.existingMeshes.length>0&&this.existingMeshes.includes(e)&&bt.toggleHighlight(this.getMeshByName(e)),t&&bt.toggleHighlight(this.getMeshByName(t))},existingMeshes:function(t,e){if(t.length>0&&!1===t.includes(this.mesh)){var i=t.length;this.mesh=t[i-1]}}}}),$t=It,Gt=Object(b["a"])($t,Rt,zt,!1,null,"35735057",null),Ht=Gt.exports,Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"radno-okruzenje"}},[i("div",{staticClass:"control is-flex"},[t._m(0),i("div",{staticClass:"control margin-left"},[i("b-tooltip",{attrs:{type:"is-black",label:"Uključi/Isključi prikaz globalnih koordinatnih osi."}},[i("b-switch",{on:{input:t.switchAxis},model:{value:t.hasAxis,callback:function(e){t.hasAxis=e},expression:"hasAxis"}})],1)],1)]),i("div",{staticClass:"control is-flex"},[t._m(1),i("div",{staticClass:"control margin-left"},[i("b-tooltip",{attrs:{type:"is-black",label:"Postavi/Izbriši zidove radnog okruženja."}},[i("b-switch",{on:{input:t.switchWalls},model:{value:t.hasWalls,callback:function(e){t.hasWalls=e},expression:"hasWalls"}})],1)],1)]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("Položaj kamere")]),i("div",{staticClass:"buttons"},[i("b-button",{staticClass:"is-success",attrs:{rounded:"","icon-left":"arrow-down"},on:{click:function(e){return t.cameraView("down")}}},[t._v("z-x")]),i("b-button",{staticClass:"is-success",attrs:{rounded:"","icon-left":"arrow-left"},on:{click:function(e){return t.cameraView("left")}}},[t._v("y-z")]),i("b-button",{staticClass:"is-success",attrs:{rounded:"","icon-left":"arrow-up"},on:{click:function(e){return t.cameraView("up")}}},[t._v("y-x")]),i("b-button",{staticClass:"is-success",attrs:{rounded:"","icon-left":"home"},on:{click:function(e){return t.cameraView("home")}}})],1)]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("Faktori trenja")]),i("b-field",[i("b-tooltip",{attrs:{type:"is-black",label:"Faktor trenja podloge i zidova",position:"is-right"}},[i("b-numberinput",{attrs:{step:.01,min:"0","controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1},model:{value:t.friction,callback:function(e){t.friction=e},expression:"friction"}})],1),i("b-icon",{staticClass:"margin-5px",attrs:{icon:"road"}})],1)],1),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("Koeficijenti elastičnosti")]),i("b-field",[i("b-tooltip",{attrs:{type:"is-black",label:"Koeficijent elastičnosti podloge i zidova",position:"is-right"}},[i("b-numberinput",{attrs:{step:.01,min:"0",max:"1","controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1},model:{value:t.restitution,callback:function(e){t.restitution=e},expression:"restitution"}})],1),i("b-icon",{staticClass:"margin-5px",attrs:{icon:"expand-arrows-alt"}})],1)],1)])},Vt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[t._v("Koordinatne osi")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[t._v("Zidovi okruženja")])])}],Ut={name:"RadnoOkruzenje",data:function(){return{axis:!0,walls:!0}},computed:Object(u["a"])({},Object(f["d"])({currentAxis:function(t){return t.experiment.axis},currentWalls:function(t){return t.experiment.walls},ground:function(t){return t.experiment.ground},camera:function(t){return t.experiment.camera}}),{hasAxis:{get:function(){return this.currentAxis.length>0},set:function(t){this.axis=t}},hasWalls:{get:function(){return this.currentWalls.length>0},set:function(t){this.walls=t}},friction:{get:function(){return this.ground.physicsImpostor.friction},set:function(t){this.ground.physicsImpostor.friction=t}},restitution:{get:function(){return this.ground.physicsImpostor.restitution},set:function(t){this.ground.physicsImpostor.restitution=t}},scene:{get:function(){return this.$store.state.experiment.scene},set:function(t){this.$store.commit("experiment/SET_SCENE",t)}}}),methods:Object(u["a"])({},Object(f["b"])({createWalls:"experiment/createWalls",deleteWalls:"experiment/deleteWalls"}),{switchAxis:function(t){t?bt.showAxis():bt.removeAxis()},switchWalls:function(t){t?this.createWalls():this.deleteWalls()},cameraView:function(t){switch(t){case"down":this.camera.setPosition(new BABYLON.Vector3(5,30,0));break;case"left":this.camera.setPosition(new BABYLON.Vector3(25,-.5,0));break;case"up":this.camera.setPosition(new BABYLON.Vector3(0,-.5,-25));break;case"home":this.camera.setPosition(new BABYLON.Vector3(10,6,-20));break;default:break}}})},Ft=Ut,qt=Object(b["a"])(Ft,Yt,Vt,!1,null,"5dc96a59",null),Wt=qt.exports,Xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"fizika-elementa"}},[null==t.currentMesh?i("div",{staticClass:"field"},[i("p",[t._v("Trenutno ne postoje elementi na sceni.")]),i("button",{staticClass:"button is-success",on:{click:function(e){return t.changeMenu("Općenito","Novi element")}}},[t._m(0),i("span",[t._v("Dodaj")])])]):i("div",{staticClass:"field"},[i("b-field",{attrs:{horizontal:"",label:"Element:"}},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.mesh,expression:"mesh"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.mesh=e.target.multiple?i:i[0]}}},t._l(t.existingMeshes,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}),0)])]),i("b-table",{attrs:{data:t.physic,hoverable:"",paginated:"","per-page":5,"pagination-simple":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"name"}},[i("span",{staticClass:"icon"},[i("i",{class:e.row.icon})]),t._v("\n                    "+t._s(e.row.name)+"\n                    ("+t._s(t.physicInfo(e.row))+")\n                    "+t._s(e.row.description)+"\n                ")])]}}])},[i("template",{slot:"header"},[t._v("Fizička svojstva")]),i("template",{slot:"empty"},[i("section",{staticClass:"section"},[i("div",{staticClass:"content has-text-grey has-text-centered"},[i("p",[t._v("Ne postoji fizika odabranog elementa.")])])])]),i("template",{slot:"footer"},[i("button",{staticClass:"button is-link is-fullwidth is-outlined",on:{click:t.createPhysic}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})]),i("span",[t._v("Dodaj")])])])],2),t.selectedPhysic?i("b-modal",{attrs:{active:t.isModalActive,scroll:"keep",width:"350px"},on:{"update:active":function(e){t.isModalActive=e}}},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[t._v("Fizika")]),i("div",{staticClass:"select"},[i("b-select",{attrs:{icon:t.selectedPhysic.icon},model:{value:t.selectedPhysic,callback:function(e){t.selectedPhysic=e},expression:"selectedPhysic"}},t._l(t.physics,function(e){return i("option",{key:e.name,domProps:{value:e}},[t._v(t._s(e.name))])}),0)],1)]),i("section",{staticClass:"modal-card-body"},[i(t.selectedPhysic.component,{ref:"physic",tag:"component",on:{addPhysic:t.updatePhysics}})],1),i("footer",{staticClass:"modal-card-foot"},[i("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isModalActive=!1}}},[t._v("Odustani")]),i("button",{staticClass:"button is-success",on:{click:t.addPhysic}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})]),i("span",[t._v("Dodaj")])])])]):t._e()],1)])},Kt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})])}],Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"brzina"}},[i("b-field",{attrs:{label:"Orijentacija",horizontal:""}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:t.axis,callback:function(e){t.axis=e},expression:"axis"}},[t._v("x")]),i("b-radio",{attrs:{"native-value":1},model:{value:t.axis,callback:function(e){t.axis=e},expression:"axis"}},[t._v("y")]),i("b-radio",{attrs:{"native-value":2},model:{value:t.axis,callback:function(e){t.axis=e},expression:"axis"}},[t._v("z")])],1)]),i("b-field",{attrs:{label:"Vrijednost",horizontal:"",type:t.errors.has("velocity")?"is-danger":""}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],attrs:{icon:"angle-double-right",name:"velocity"},model:{value:t.velocity,callback:function(e){t.velocity=e},expression:"velocity"}})],1)],1)},Jt=[],Qt={name:"Brzina",data:function(){return{axis:0,velocity:null}},methods:{validate:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$validator.validateAll();case 2:return e=t.sent,t.abrupt("return",0==this.errors.any()&&e);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),addPhysic:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.validate();case 2:if(e=t.sent,e){t.next=5;break}return t.abrupt("return");case 5:i=0===this.axis?"x":1===this.axis?"y":"z",s={name:"Brzina",icon:"fas fa-running",description:"".concat(i,"-os"),properties:{value:this.velocity,axis:this.axis,axisString:i,unit:"m/s"}},this.$emit("addPhysic",s);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},te=Qt,ee=Object(b["a"])(te,Zt,Jt,!1,null,"e5957670",null),ie=ee.exports,se={name:"FizikaElementa",data:function(){return{mesh:null,isModalActive:!1,selectedPhysic:null,meshPhysic:{velocity:{x:0,y:0,z:0}},physics:[{name:"Brzina",icon:"fas fa-running",component:ie}]}},components:{Brzina:ie},beforeDestroy:function(){this.mesh&&bt.toggleHighlight(this.getMeshByName(this.mesh))},computed:Object(u["a"])({},Object(f["c"])({getMeshByName:"experiment/getMeshByName",getMeshPhysic:"experiment/getMeshPhysic",getMeshLog:"experiment/getMeshLog"}),Object(f["d"])({existingMeshes:function(t){return t.experiment.meshes}}),{scene:{get:function(){return this.$store.state.experiment.scene},set:function(t){this.$store.commit("experiment/SET_SCENE",t)}},physic:function(){return this.getMeshPhysic(this.mesh)},currentMesh:{get:function(){if(0===this.existingMeshes.length)return this.mesh=null,null;if(null==this.mesh){var t=this.existingMeshes.length;return t>0?(this.mesh=this.existingMeshes[t-1],this.mesh):null}return this.mesh},set:function(t){this.mesh=t}}}),methods:{physicInfo:function(t){switch(t.name){case"Brzina":return"".concat(t.properties.value," ").concat(t.properties.unit);default:break}},createPhysic:function(){this.selectedPhysic=this.physics[0],this.isModalActive=!0},addPhysic:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs["physic"].addPhysic();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),updatePhysics:function(t){var e={mesh:this.mesh,physic:t};this.$store.commit("experiment/UPDATE_MESH_PHYSICS",e);var i=[],s=Ct()();switch(t.properties.axisString){case"x":i.push({velocity:{x:t.properties.value,y:0,z:0},time:s});break;case"y":i.push({velocity:{x:0,y:t.properties.value,z:0},time:s});break;case"z":i.push({velocity:{x:0,y:t.properties.value,z:0},time:s});break;default:break}var a={mesh:this.mesh,log:{name:"Dodana fizika",icon:"fas fa-atom",type:"physics",key:"velocity",description:"(".concat(t.name,")"),properties:{axis:t.properties.axis,axisString:t.properties.axisString,values:i,time:{start:Ct()(),end:null}}}},n=this.getMeshLog(this.mesh).filter(function(t){return"physics"===t.type&&"velocity"===t.key}),r=n.find(function(e){return e.properties.axis===t.properties.axis&&null===e.properties.time.end});void 0===r&&this.$store.commit("experiment/SET_MESH_LOGS",a),this.isModalActive=!1,bt.addPhysic(this.getMeshByName(this.mesh),t)},notification:function(t){this.$emit("notification",t)},error:function(t){this.$emit("error",t)},changeMenu:function(t,e){this.$emit("changeMenu",{groupName:t,menuName:e})}},watch:{mesh:function(t,e){e&&this.existingMeshes.length>0&&this.existingMeshes.includes(e)&&bt.toggleHighlight(this.getMeshByName(e)),t&&bt.toggleHighlight(this.getMeshByName(t))},existingMeshes:function(t,e){if(t.length>0&&!1===t.includes(this.mesh)){var i=t.length;this.mesh=t[i-1]}}}},ae=se,ne=Object(b["a"])(ae,Xt,Kt,!1,null,"b67b7f6a",null),re=ne.exports,oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"statistika"}},[null==t.currentMesh?i("div",{staticClass:"field"},[i("p",[t._v("Trenutno ne postoje elementi na sceni.")]),i("button",{staticClass:"button is-success",on:{click:function(e){return t.changeMenu("Općenito","Novi element")}}},[t._m(0),i("span",[t._v("Dodaj")])])]):i("div",{staticClass:"field"},[i("b-field",{attrs:{horizontal:"",label:"Element:"}},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.mesh,expression:"mesh"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.mesh=e.target.multiple?i:i[0]}}},t._l(t.existingMeshes,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}),0)])]),i("b-field",{attrs:{horizontal:"",label:"Praćenja"}},[i("b-tooltip",{attrs:{label:"Uključi/Isključi sva praćenja.",type:"is-black",position:"is-right"}},[i("b-switch",{on:{input:t.globalSelection},model:{value:t.all,callback:function(e){t.all=e},expression:"all"}})],1)],1),i("b-field",{attrs:{grouped:"","group-multiline":""}},t._l(t.logs,function(e,s){return i("div",{key:s,staticClass:"control"},[i("b-tooltip",{attrs:{label:e.description,type:"is-black",position:"is-right"}},[i("b-checkbox",{model:{value:e.visible,callback:function(i){t.$set(e,"visible",i)},expression:"log.visible"}},[t._v(t._s(e.name))])],1)],1)}),0),i("b-table",{attrs:{data:t.log,hoverable:"",paginated:"","per-page":5,"pagination-simple":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[i("b-table-column",{attrs:{field:"name"}},[i("b-tooltip",{attrs:{label:"Detalji",type:"is-black"}},[i("a",{on:{click:function(i){return t.logInfo(e.row)}}},[i("span",{staticClass:"icon"},[i("i",{class:e.row.icon})]),t._v("\n                            "+t._s(e.row.name)+"\n                            "+t._s(e.row.description)+"\n                        ")])])],1)]}}])},[i("template",{slot:"header"},[t._v("Povijest nadzora")]),i("template",{slot:"empty"},[i("section",{staticClass:"section"},[i("div",{staticClass:"content has-text-grey has-text-centered"},[i("p",[t._v("Ne postoji povijest nadzora odabranog elementa uz odabrane filtere.")])])])])],2),t.selectedStatistic?i("b-modal",{attrs:{active:t.isModalActive},on:{"update:active":function(e){t.isModalActive=e},close:t.close}},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[t._v("\n                    "+t._s(t.selectedStatistic.name)+" - "+t._s(t.mesh)+"\n                    "),t.time?i("span",[t._v("("+t._s(t.time)+")")]):t._e(),"collisions"!=t.selectedStatistic.type?i("span",[t._v(t._s(t.selectedLog.description))]):t._e()])]),i("section",{staticClass:"modal-card-body"},[i("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i(t.selectedStatistic.component,{ref:"statistic",tag:"component",attrs:{log:t.selectedLog,mesh:t.mesh},on:{excel:t.excelData}})],1),i("footer",{staticClass:"modal-card-foot"},[i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile"},[i("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isModalActive=!1}}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left"})]),i("span",[t._v("Nazad")])]),i("button",{staticClass:"button is-success",attrs:{disabled:!t.isUpdateable},on:{click:t.updateStatistics}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-redo"})]),i("span",[t._v("Ažuriraj")])])]),i("div",{staticClass:"tile is-3"},[i("div",{staticClass:"block margin-5px"},[i("b-radio",{attrs:{"native-value":"xls"},model:{value:t.excel.type,callback:function(e){t.$set(t.excel,"type",e)},expression:"excel.type"}},[t._v(".xls")]),i("b-radio",{attrs:{"native-value":"csv"},model:{value:t.excel.type,callback:function(e){t.$set(t.excel,"type",e)},expression:"excel.type"}},[t._v(".csv")])],1),i("button",{staticClass:"button is-success"},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-download"})]),i("export-excel",{attrs:{data:t.excel.data,type:t.excel.type}},[t._v("Preuzmi")])],1)])])])]):t._e()],1)])},ce=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})])}],le=(i("84b4"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"fizika"}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:t.graphType,callback:function(e){t.graphType=e},expression:"graphType"}},[t._v("Životna linija")])],1),0===t.graphType?i("p",[i("b",[t._v("Životna linija")]),t._v("\n        predstavlja promjenu brzine tijela "+t._s(this.mesh)+" od trenutka njegovog stvaranja (0 s - stvoren element "+t._s(this.mesh)+").\n    ")]):t._e(),1===t.graphType?i("p"):t._e(),i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-1",class:{disabled:0==t.currentGraph,"my-pagination":!0},on:{click:t.previous}},[i("b-tooltip",{attrs:{type:"is-black",label:"Prethodna brzina",position:"is-right"}},[i("a",{class:{disabled:0==t.currentGraph,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left fa-3x"})])])])],1),i("div",{staticClass:"tile"},[0===t.graphType&&t.showGraph?i("basic-velocity-chart",{ref:"basic",staticStyle:{width:"100%"},attrs:{graphData:t.graphData}}):t._e()],1),i("div",{staticClass:"tile is-1",class:{disabled:t.currentGraph==t.numberOfGraphs-1,"my-pagination":!0},on:{click:t.next}},[i("b-tooltip",{attrs:{type:"is-black",label:"Sljedeća brzina",position:"is-left"}},[i("a",{class:{disabled:t.currentGraph==t.numberOfGraphs-1,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-right fa-3x"})])])])],1)])])}),ue=[],pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("apexchart",{ref:"chart",attrs:{height:t.height,type:"line",options:t.charts.line.options,series:t.charts.line.series}})},he=[],me={name:"BasicVelocityChart",props:{height:{type:Number,default:300},graphData:{type:Object,required:!0}},mounted:function(){this.update()},methods:{update:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=[],i={xaxis:{type:"category",categories:[]}},e=this.graphData.series,i.xaxis.categories=this.graphData.categories,t.next=6,this.$refs.chart.updateSeries(e,!0);case 6:return t.next=8,this.$refs.chart.updateOptions(i,!0,!0);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},data:function(){return{charts:{line:{series:[],options:{colors:["#db2525","#37964c","#284e7b"],chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!0},xaxis:{categories:[]}}}}}}},de=me,fe=Object(b["a"])(de,pe,he,!1,null,null,null),ve=fe.exports,ge={name:"Fizika",props:{log:{required:!0,type:Object},mesh:{required:!0,type:String}},data:function(){return{graphType:0,lifeTime:0,currentGraph:0,numberOfGraphs:0,excel:{data:[]},values:[],graphData:null,showGraph:!1}},components:{BasicVelocityChart:ve},mounted:function(){this.currentGraph=0,this.graphType=0,this.numberOfGraphs=1;var t=this.getMeshLog(this.mesh),e=t.find(function(t){return"life"===t.type});this.lifeTime=e.properties.time,this.findCross(),this.showGraph=!0,this.prepareExcel(),this.$emit("excel")},computed:Object(u["a"])({},Object(f["c"])({getMeshLog:"experiment/getMeshLog"})),methods:{previous:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.currentGraph>0)){t.next=4;break}return this.currentGraph-=1,t.next=4,this.update();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),next:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.currentGraph<this.numberOfGraphs-1)){t.next=4;break}return this.currentGraph+=1,t.next=4,this.update();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),update:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.findCross(),this.prepareExcel(),t.next=4,this.$refs.basic.update();case 4:return t.next=6,this.$refs.basic.update();case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),prepareExcel:function(){var t=this.values,e=[];for(var i in t){var s=(t[i].time-this.lifeTime)/1e3;e.push({Vrijeme:"".concat(s.toFixed(2)," s"),"PoložajX":"".concat(t[i].velocity.x," m/s"),"PoložajY":"".concat(t[i].velocity.y," m/s"),"PoložajZ":"".concat(t[i].velocity.z," m/s")})}this.excel.data=e},findCross:function(){var t=this.getMeshLog(this.mesh);switch(this.graphType){case 0:this.emptyCross(t);break;default:break}},emptyCross:function(t){var e=this;this.values=this.log.properties.values;var i=this.filterVelocity();this.values.length<20&&(i=this.values);var s=i.map(function(t){return t.velocity}),a=i.map(function(t){return((t.time-e.lifeTime)/1e3).toFixed(2)});if(i.length>20){var n=i.length/20,r=n-Math.floor(n);r.toFixed(2)>=.5?this.numberOfGraphs=Math.ceil(n):this.numberOfGraphs=Math.floor(n);var o=20*this.currentGraph,c=o+20;s=s.slice(o,c),a=a.slice(o,c)}else this.numberOfGraphs=1;this.graphData={series:[{name:"x",data:s.map(function(t){return t.x})},{name:"y",data:s.map(function(t){return t.y})},{name:"z",data:s.map(function(t){return t.z})}],categories:a}},filterVelocity:function(){var t=[],e=[];for(var i in this.values){var s=(this.values[i].time-this.lifeTime)/1e3,a=s-Math.floor(s);.5!=a.toFixed(1)&&0!=a.toFixed(1)&&1!=a.toFixed(1)||void 0==e.find(function(t){return t==s.toFixed(1)})&&(e.push(s.toFixed(1)),t.push(this.values[i]))}return t}}},be=ge,xe=(i("4315"),Object(b["a"])(be,le,ue,!1,null,"168fe41c",null)),ye=xe.exports,_e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"pomak"}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:t.graphType,callback:function(e){t.graphType=e},expression:"graphType"}},[t._v("Životna linija")])],1),0===t.graphType?i("p",[i("b",[t._v("Životna linija")]),t._v("\n        predstavlja promjenu položaja tijela "+t._s(this.mesh)+" od trenutka njegovog stvaranja (0 s - stvoren element "+t._s(this.mesh)+").\n    ")]):t._e(),1===t.graphType?i("p"):t._e(),2===t.graphType?i("p"):t._e(),3===t.graphType?i("p"):t._e(),i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-1",class:{disabled:0==t.currentGraph,"my-pagination":!0},on:{click:t.previous}},[i("b-tooltip",{attrs:{type:"is-black",label:"Prethodni pomak",position:"is-right"}},[i("a",{class:{disabled:0==t.currentGraph,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left fa-3x"})])])])],1),i("div",{staticClass:"tile"},[0===t.graphType&&t.showGraph?i("basic-movement-chart",{ref:"basic",staticStyle:{width:"100%"},attrs:{graphData:t.graphData}}):t._e(),1===t.graphType&&t.showGraph?i("velocity-movement-chart",{attrs:{graphData:t.graphData}}):t._e(),2===t.graphType&&t.showGraph?i("collision-movement-chart",{attrs:{graphData:t.graphData}}):t._e(),3===t.graphType&&t.showGraph?i("rotation-movement-chart",{attrs:{graphData:t.graphData}}):t._e()],1),i("div",{staticClass:"tile is-1",class:{disabled:t.currentGraph==t.numberOfGraphs-1,"my-pagination":!0},on:{click:t.next}},[i("b-tooltip",{attrs:{type:"is-black",label:"Sljedeći pomak",position:"is-left"}},[i("a",{class:{disabled:t.currentGraph==t.numberOfGraphs-1,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-right fa-3x"})])])])],1)])])},Ce=[],ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("apexchart",{ref:"chart",attrs:{height:t.height,type:"line",options:t.charts.line.options,series:t.charts.line.series}})},Ee=[],Se={name:"BasicMovementChart",props:{height:{type:Number,default:300},graphData:{type:Object,required:!0}},mounted:function(){this.update()},methods:{update:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=[],i={xaxis:{type:"category",categories:[]}},e=this.graphData.series,i.xaxis.categories=this.graphData.categories,t.next=6,this.$refs.chart.updateSeries(e,!0);case 6:return t.next=8,this.$refs.chart.updateOptions(i,!0,!0);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},data:function(){return{charts:{line:{series:[],options:{colors:["#db2525","#37964c","#284e7b"],chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"stepline"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!0},xaxis:{categories:[]}}}}}}},we=Se,Oe=Object(b["a"])(we,ke,Ee,!1,null,null,null),Me=Oe.exports,je=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},Te=[],Pe={name:"VelocityMovementChart"},Be=Pe,Le=Object(b["a"])(Be,je,Te,!1,null,null,null),Ne=Le.exports,Ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},De=[],Re={name:"CollisionMovementChart"},ze=Re,Ie=Object(b["a"])(ze,Ae,De,!1,null,null,null),$e=Ie.exports,Ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},He=[],Ye={name:"RotationMovementChart"},Ve=Ye,Ue=Object(b["a"])(Ve,Ge,He,!1,null,null,null),Fe=Ue.exports,qe={name:"Pomak",props:{log:{required:!0,type:Object},mesh:{required:!0,type:String}},data:function(){return{graphType:0,lifeTime:0,currentGraph:0,numberOfGraphs:0,startPosition:null,positions:[],graphData:null,showGraph:!1,excel:{data:[]}}},components:{BasicMovementChart:Me,VelocityMovementChart:Ne,CollisionMovementChart:$e,RotationMovementChart:Fe},mounted:function(){this.currentGraph=0,this.graphType=0,this.numberOfGraphs=1;var t=this.getMeshLog(this.mesh),e=t.find(function(t){return"life"===t.type});this.lifeTime=e.properties.time,this.startPosition=e.properties.position,this.findCross(),this.showGraph=!0,this.prepareExcel(),this.$emit("excel")},computed:Object(u["a"])({},Object(f["c"])({getMeshLog:"experiment/getMeshLog"})),methods:{previous:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.currentGraph>0)){t.next=4;break}return this.currentGraph-=1,t.next=4,this.update();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),next:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.currentGraph<this.numberOfGraphs-1)){t.next=4;break}return this.currentGraph+=1,t.next=4,this.update();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),update:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.findCross(),this.prepareExcel(),t.next=4,this.$refs.basic.update();case 4:return t.next=6,this.$refs.basic.update();case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),prepareExcel:function(){var t=this.generateTime(this.lifeTime,this.positions[this.numberOfGraphs-1].time,5),e=this.generateValues(t.map(function(t){return t.value})),i=[];for(var s in e)i.push({Vrijeme:"".concat(t[s].value," s"),"PoložajX":e[s].x.toFixed(2),"PoložajY":e[s].y.toFixed(2),"PoložajZ":e[s].z.toFixed(2)});this.excel.data=i},findCross:function(){var t=this.getMeshLog(this.mesh);switch(this.graphType){case 0:this.emptyCross(t);break;default:break}},emptyCross:function(t){this.positions=this.log.properties.positions,this.numberOfGraphs=this.positions.length;var e=this.generateTime(this.lifeTime,this.positions[this.numberOfGraphs-1].time,5),i=(this.positions[this.currentGraph].time-this.lifeTime)/1e3;i=this.fixTime(i.toFixed(1));var s=e.find(function(t){return t.value==i}),a=e.indexOf(s),n=a<=10?0:a-10,r=n+20;e=e.slice(n,r),e=e.map(function(t){return t.value});var o=this.generateValues(e);this.graphData={series:[{name:"x",data:o.map(function(t){return t.x.toFixed(2)})},{name:"y",data:o.map(function(t){return t.y.toFixed(2)})},{name:"z",data:o.map(function(t){return t.z.toFixed(2)})}],categories:e}},fixTime:function(t){var e=t-Math.floor(t);return e.toFixed(2)>.5?Math.ceil(t):e.toFixed(2)<.5?Math.floor(t):t},generateTime:function(t,e,i){for(var s=[],a=(e-t)/1e3,n=0;n<=a+i;n+=.5)s.push({value:n});return s},generateValues:function(t){var e=this,i=[];for(var s in t){var a=t[s],n=t[$()(s)+1];if(void 0===n)break;var r=this.positions.find(function(t){return(t.time-e.lifeTime)/1e3<=n&&(t.time-e.lifeTime)/1e3>=a});if(r)i.push(r.value);else{var o=this.positions.filter(function(t){return(t.time-e.lifeTime)/1e3<=n}),c=o[o.length-1];c?i.push(c.value):i.push(this.startPosition)}}return i}}},We=qe,Xe=(i("c324"),Object(b["a"])(We,_e,Ce,!1,null,"4f68d84e",null)),Ke=Xe.exports,Ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"rotacija"}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:t.graphType,callback:function(e){t.graphType=e},expression:"graphType"}},[t._v("Životna linija")])],1),0===t.graphType?i("p",[i("b",[t._v("Životna linija")]),t._v("\n        predstavlja promjenu rotacije tijela "+t._s(this.mesh)+" od trenutka njegovog stvaranja (0 s - stvoren element "+t._s(this.mesh)+").\n    ")]):t._e(),1===t.graphType?i("p"):t._e(),i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-1",class:{disabled:0==t.currentGraph,"my-pagination":!0},on:{click:t.previous}},[i("b-tooltip",{attrs:{type:"is-black",label:"Prethodna rotacija",position:"is-right"}},[i("a",{class:{disabled:0==t.currentGraph,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left fa-3x"})])])])],1),i("div",{staticClass:"tile"},[0===t.graphType&&t.showGraph?i("basic-rotation-chart",{ref:"basic",staticStyle:{width:"100%"},attrs:{graphData:t.graphData}}):t._e()],1),i("div",{staticClass:"tile is-1",class:{disabled:t.currentGraph==t.numberOfGraphs-1,"my-pagination":!0},on:{click:t.next}},[i("b-tooltip",{attrs:{type:"is-black",label:"Sljedeća rotacija",position:"is-left"}},[i("a",{class:{disabled:t.currentGraph==t.numberOfGraphs-1,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-right fa-3x"})])])])],1)])])},Je=[],Qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("apexchart",{ref:"chart",attrs:{height:t.height,type:"line",options:t.charts.line.options,series:t.charts.line.series}})},ti=[],ei={name:"BasicRotationChart",props:{height:{type:Number,default:300},graphData:{type:Object,required:!0}},mounted:function(){this.update()},methods:{update:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=[],i={xaxis:{type:"category",categories:[]}},e=this.graphData.series,i.xaxis.categories=this.graphData.categories,t.next=6,this.$refs.chart.updateSeries(e,!0);case 6:return t.next=8,this.$refs.chart.updateOptions(i,!0,!0);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},data:function(){return{charts:{line:{series:[],options:{colors:["#db2525","#37964c","#284e7b"],chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"stepline"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!0},xaxis:{categories:[]}}}}}}},ii=ei,si=Object(b["a"])(ii,Qe,ti,!1,null,null,null),ai=si.exports,ni={name:"Rotacija",props:{log:{required:!0,type:Object},mesh:{required:!0,type:String}},data:function(){return{graphType:0,lifeTime:0,currentGraph:0,numberOfGraphs:0,startRotation:{x:0,y:0,z:0},excel:{data:[]},rotations:[],graphData:null,showGraph:!1}},components:{BasicRotationChart:ai},mounted:function(){this.currentGraph=0,this.graphType=0,this.numberOfGraphs=1;var t=this.getMeshLog(this.mesh),e=t.find(function(t){return"life"===t.type});this.lifeTime=e.properties.time,this.findCross(),this.showGraph=!0,this.prepareExcel(),this.$emit("excel")},computed:Object(u["a"])({},Object(f["c"])({getMeshLog:"experiment/getMeshLog"})),methods:{previous:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.currentGraph>0)){t.next=4;break}return this.currentGraph-=1,t.next=4,this.update();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),next:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.currentGraph<this.numberOfGraphs-1)){t.next=4;break}return this.currentGraph+=1,t.next=4,this.update();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),update:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.findCross(),this.prepareExcel(),t.next=4,this.$refs.basic.update();case 4:return t.next=6,this.$refs.basic.update();case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),prepareExcel:function(){var t=this.generateTime(this.lifeTime,this.rotations[this.numberOfGraphs-1].time,5),e=this.generateValues(t.map(function(t){return t.value})),i=[];for(var s in e)i.push({Vrijeme:"".concat(t[s].value," s"),RotacijaX:e[s].x.toFixed(2),RotacijaY:e[s].y.toFixed(2),RotacijaZ:e[s].z.toFixed(2)});this.excel.data=i},findCross:function(){var t=this.getMeshLog(this.mesh);switch(this.graphType){case 0:this.emptyCross(t);break;default:break}},emptyCross:function(t){this.rotations=this.log.properties.rotations,this.numberOfGraphs=this.rotations.length;var e=this.generateTime(this.lifeTime,this.rotations[this.numberOfGraphs-1].time,5),i=(this.rotations[this.currentGraph].time-this.lifeTime)/1e3;i=this.fixTime(i.toFixed(1));var s=e.find(function(t){return t.value==i}),a=e.indexOf(s),n=a<=10?0:a-10,r=n+20;e=e.slice(n,r),e=e.map(function(t){return t.value});var o=this.generateValues(e);this.graphData={series:[{name:"x",data:o.map(function(t){return t.x.toFixed(2)})},{name:"y",data:o.map(function(t){return t.y.toFixed(2)})},{name:"z",data:o.map(function(t){return t.z.toFixed(2)})}],categories:e}},fixTime:function(t){var e=t-Math.floor(t);return e.toFixed(2)>.5?Math.ceil(t):e.toFixed(2)<.5?Math.floor(t):t},generateTime:function(t,e,i){for(var s=[],a=(e-t)/1e3,n=0;n<=a+i;n+=.5)s.push({value:n});return s},generateValues:function(t){var e=this,i=[];for(var s in t){var a=t[s],n=t[$()(s)+1];if(void 0===n)break;var r=this.rotations.find(function(t){return(t.time-e.lifeTime)/1e3<=n&&(t.time-e.lifeTime)/1e3>=a});if(r)i.push(r.value);else{var o=this.rotations.filter(function(t){return(t.time-e.lifeTime)/1e3<=n}),c=o[o.length-1];c?i.push(c.value):i.push(this.startRotation)}}return i}}},ri=ni,oi=(i("4d81"),Object(b["a"])(ri,Ze,Je,!1,null,"7abb8fec",null)),ci=oi.exports,li=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"sudari"}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:t.graphType,callback:function(e){t.graphType=e},expression:"graphType"}},[t._v("Životna linija")])],1),0===t.graphType?i("p",[i("b",[t._v("Životna linija")]),t._v("\n        predstavlja trenutak sudara tijela "+t._s(this.mesh)+" s tijelom "+t._s(this.log.properties.collider)+" od trenutka stvaranja promatranog tijela (0 s - stvoren element "+t._s(this.mesh)+").\n    ")]):t._e(),1===t.graphType?i("p",[i("b",[t._v("Brzina")]),t._v("\n        predstavlja brzinu tijela "+t._s(this.mesh)+" netom prije i nakon sudara s tijelom "+t._s(this.log.properties.collider)+" (0 s - stvoren element "+t._s(this.mesh)+").\n    ")]):t._e(),2===t.graphType?i("p"):t._e(),3===t.graphType?i("p"):t._e(),0===t.graphType&&t.showGraph?i("basic-collision-chart",{attrs:{graphData:t.graphData}}):t._e(),1===t.graphType&&t.showGraph?i("velocity-collision-chart",{attrs:{graphData:t.graphData}}):t._e(),2===t.graphType&&t.showGraph?i("movement-collision-chart",{attrs:{graphData:t.graphData}}):t._e(),3===t.graphType&&t.showGraph?i("rotation-collision-chart",{attrs:{graphData:t.graphData}}):t._e()],1)},ui=[],pi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("apexchart",{ref:"chart",attrs:{height:t.height,type:"line",options:t.charts.line.options,series:t.charts.line.series}})},hi=[],mi={name:"BasicCollisionChart",props:{height:{type:Number,default:300},graphData:{type:Object,required:!0}},mounted:function(){var t=[],e={xaxis:{type:"category",categories:[]},annotations:{}};t=this.graphData.series,e.xaxis.categories=this.graphData.categories,e.annotations=this.graphData.annotations,this.$refs.chart.updateSeries(t,!0),this.$refs.chart.updateOptions(e,!0,!0)},data:function(){return{charts:{line:{series:[],options:{colors:["#37964c"],chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!1},xaxis:{categories:[]},yaxis:{show:!1}}}}}}},di=mi,fi=Object(b["a"])(di,pi,hi,!1,null,null,null),vi=fi.exports,gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("apexchart",{ref:"chart",attrs:{height:t.height,type:"line",options:t.charts.line.options,series:t.charts.line.series}})},bi=[],xi={name:"VelocityCollisionChart",props:{height:{type:Number,default:300},graphData:{type:Object,required:!0}},mounted:function(){var t={xaxis:{type:"category",categories:[]},annotations:{points:[]}};this.graphData.series,t.xaxis.categories=this.graphData.categories,t.annotations.points=this.graphData.points},data:function(){return{charts:{line:{series:[{name:"x",data:[3,2.67,2.77,2.4,2.2,2,2,1.98,1.78,1.7]},{name:"y",data:[0,0,0,0,0,0,0,0,0,0]},{name:"z",data:[.5,.41,.4,.4,.38,.37,.35,.3,.28,.2]}],options:{annotations:{xaxis:[{x:2,borderColor:"#FF4560",label:{borderColor:"#FF4560",offsetY:0,offsetX:0,textAnchor:"middle",style:{color:"#fff",background:"#FF4560"},text:"Sudar (K1) 0.5 s"}}]},colors:["#db2525","#37964c","#284e7b"],chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!0},xaxis:{categories:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5]}}}}}}},yi=xi,_i=Object(b["a"])(yi,gi,bi,!1,null,null,null),Ci=_i.exports,ki=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("apexchart",{ref:"chart",attrs:{height:t.height,type:"line",options:t.charts.line.options,series:t.charts.line.series}})},Ei=[],Si={name:"MovementCollisionChart",data:function(){return{charts:{line:{series:[{name:"",data:[10,41,35,51,49,62,69,91,148]}],options:{annotations:{points:[{x:3.5,y:35,marker:{size:8,fillColor:"#fff",strokeColor:"red",radius:2},label:{borderColor:"#FF4560",offsetY:0,style:{color:"#fff",background:"#FF4560"},text:"Sudar"}}]},chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!1},xaxis:{type:"category",categories:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5]}}}}}}},wi=Si,Oi=Object(b["a"])(wi,ki,Ei,!1,null,null,null),Mi=Oi.exports,ji=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},Ti=[],Pi={name:"RotationCollisionChart"},Bi=Pi,Li=Object(b["a"])(Bi,ji,Ti,!1,null,null,null),Ni=Li.exports,Ai={name:"Sudari",props:{log:{required:!0,type:Object},mesh:{required:!0,type:String}},data:function(){return{graphType:0,lifeTime:0,excel:{data:[]},graphData:null,showGraph:!1}},components:{BasicCollisionChart:vi,VelocityCollisionChart:Ci,MovementCollisionChart:Mi,RotationCollisionChart:Ni},mounted:function(){this.graphType=0;var t=this.getMeshLog(this.mesh),e=t.find(function(t){return"life"===t.type});this.lifeTime=e.properties.time,this.findCross(this.graphType),this.showGraph=!0,this.prepareExcel(),this.$emit("excel")},computed:Object(u["a"])({},Object(f["c"])({getMeshLog:"experiment/getMeshLog"})),methods:{findCross:function(t){var e=this,i=this.getMeshLog(this.mesh);switch(t){case 0:this.emptyCross(i);break;case 1:this.velocityCross(i);break;case 2:i.filter(function(t){return"movement"===t.type});break;case 3:i.filter(function(t){return"rotation"===t.type});break;case 4:i.filter(function(t){return"collisions"===t.type&&t.key!==e.log.key});break;default:break}},prepareExcel:function(){this.excel.data=[{Element1:this.mesh,Element2:this.log.properties.collider,Vrijeme:((this.log.properties.time.start-this.lifeTime)/1e3).toFixed(2)}]},emptyCross:function(t){var e=this.log.properties.time.start,i=this.log.properties.collider,s=this.generateTime(this.lifeTime,e,5),a=[{name:"Životna linija",data:[]}];for(var n in s)a[0].data.push(1);var r=(e-this.lifeTime)/1e3,o=this.findCollision(s,r);this.graphData={series:a,categories:s,annotations:{points:[{x:o,y:1,marker:{size:6,fillColor:"#fff",strokeColor:"#FF4560",radius:2},label:{borderColor:"#FF4560",offsetY:0,offsetX:0,textAnchor:"middle",style:{color:"#fff",background:"#FF4560"},text:"Sudar (".concat(i,") ").concat(r," s")}}]}}},velocityCross:function(t){var e=this,i=t.filter(function(t){return"physics"===t.type&&"velocity"===t.key}),s=(i.filter(function(t){return t.properties.time.start<=e.lifeTime}),i.filter(function(t){return t.properties.time.start>=e.lifeTime}),[{name:"x-os",data:[]},{name:"y-os",data:[]},{name:"z-os",data:[]}]),a=[];this.graphData={series:s,categories:a,annotations:{points:[{x:x,y:1,marker:{size:6,fillColor:"#fff",strokeColor:"#FF4560",radius:2},label:{borderColor:"#FF4560",offsetY:0,offsetX:0,textAnchor:"middle",style:{color:"#fff",background:"#FF4560"},text:"Sudar (".concat(collider,") ").concat(collision," s")}}]}}},generateTime:function(t,e,i){var s=[],a=(e-t)/1e3;if(a>i){t=Math.floor(a-i);for(var n=t;n<=a+i;n+=.5)s.push(n)}else for(n=0;n<=a+i;n+=.5)s.push(n);return s},findCollision:function(t,e){var i=0;for(var s in t){if(t[s]==e){i=$()(s)+1;break}if(t[s]>e){i=$()(s)+(e-Math.floor(e));break}}return Y()(i)}}},Di=Ai,Ri=Object(b["a"])(Di,li,ui,!1,null,"1befaf8d",null),zi=Ri.exports,Ii={name:"Statistika",data:function(){return{mesh:null,all:!1,isModalActive:!1,selectedStatistic:null,selectedLog:null,isUpdateable:!1,time:null,isLoading:!1,excel:{type:"xls",data:[]},statistics:[{name:"Fizika",icon:"fas fa-atom",component:ye,type:"physics"},{name:"Sudari",icon:"fas fa-bullseye",component:zi,type:"collisions"},{name:"Rotacija",icon:"fas fa-sync-alt",component:ci,type:"rotation"},{name:"Pomak",icon:"fas fa-shoe-prints",component:Ke,type:"movement"}],logs:[{name:"Fizika",type:"physics",description:"Fizička svojstva elementa.",visible:!1},{name:"Sudari",type:"collisions",description:"Interakcija s drugim elementima.",visible:!1},{name:"Rotacija",type:"rotation",description:"Promjene smjera elementa.",visible:!1},{name:"Pomak",type:"movement",description:"Kretnja elementa po sceni.",visible:!1}]}},components:{Fizika:ye,Pomak:Ke,Rotacija:ci,Sudari:zi},beforeDestroy:function(){this.mesh&&bt.toggleHighlight(this.getMeshByName(this.mesh))},computed:Object(u["a"])({},Object(f["c"])({getMeshByName:"experiment/getMeshByName",getMeshLog:"experiment/getMeshLog"}),Object(f["d"])({existingMeshes:function(t){return t.experiment.meshes}}),{currentMesh:{get:function(){if(0===this.existingMeshes.length)return this.mesh=null,null;if(null==this.mesh){var t=this.existingMeshes.length;return t>0?(this.mesh=this.existingMeshes[t-1],this.mesh):null}return this.mesh},set:function(t){this.mesh=t}},log:function(){var t=this.getMeshLog(this.mesh),e=[],i=this.logs.filter(function(t){return t.visible});for(var s in t)for(var a in i)t[s].type===i[a].type&&e.push(t[s]);return i.length<this.logs.length?this.all=!1:i.length==this.logs.length&&(this.all=!0),e}}),methods:{excelData:function(){this.excel.data=this.$refs.statistic.excel.data},close:function(){this.isModalActive=!1,this.selectedStatistic=null},updateStatistics:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,this.isUpdateable=!1,e=this.getMeshLog(this.mesh),this.selectedLog=e.find(function(t){return t.type===i.selectedLog.type&&t.key===i.selectedLog.key}),this.calculateTime(),t.next=7,this.$refs.statistic.update();case 7:Object(Bt["setTimeout"])(function(){i.isLoading=!1},1e3),this.excel.data=this.$refs.statistic.excel.data;case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),globalSelection:function(t){for(var e in this.logs)this.logs[e].visible=t},logInfo:function(t){this.selectedStatistic=this.statistics.find(function(e){return e.type===t.type}),this.selectedLog=t,this.calculateTime(),this.isModalActive=!0},calculateTime:function(){switch(this.selectedLog.type){case"physics":switch(this.selectedLog.key){case"velocity":if(this.selectedLog.properties.time.end){var t=this.selectedLog.properties.time.start,e=this.selectedLog.properties.time.end,i=e-t;this.time=this.formatMSDiff(i),this.isUpdateable=!1}else this.time="U izvođenju...",this.isUpdateable=!0;break;default:break}break;case"collisions":this.time=null,this.isUpdateable=!1;break;case"rotation":this.time=null,this.isUpdateable=!0;break;case"movement":this.time=null,this.isUpdateable=!0;break;default:break}},formatMSDiff:function(t){var e=t/1e3;if(e>60){var i=e/60;if(i>60){var s=i/60;return"".concat(s.toFixed(2)," h")}var a=60*(i-Math.trunc(i));return"".concat(Math.trunc(i)," min ").concat(Math.round(a)," s")}return"".concat(e.toFixed(2)," s")},notification:function(t){this.$emit("notification",t)},error:function(t){this.$emit("error",t)},changeMenu:function(t,e){this.$emit("changeMenu",{groupName:t,menuName:e})}},watch:{mesh:function(t,e){e&&this.existingMeshes.length>0&&this.existingMeshes.includes(e)&&bt.toggleHighlight(this.getMeshByName(e)),t&&bt.toggleHighlight(this.getMeshByName(t))},existingMeshes:function(t,e){if(t.length>0&&!1===t.includes(this.mesh)){var i=t.length;this.mesh=t[i-1]}}}},$i=Ii,Gi=Object(b["a"])($i,oe,ce,!1,null,"09af89fd",null),Hi=Gi.exports,Yi={name:"Menu",data:function(){return{isMenu:!0,secondsCounter:1,physics:[{name:"Brzina",key:"velocity"}],activeMenu:{name:"Novi element",component:Dt},menus:[{name:"Općenito",menus:[{name:"Novi element",component:Dt},{name:"Uredi element",component:Ht},{name:"Radno okruženje",component:Wt}]},{name:"Praćenje promjena",menus:[{name:"Fizika elementa",component:re},{name:"Statistika",component:Hi}]}]}},components:{NoviElement:Dt,UrediElement:Ht,RadnoOkruzenje:Wt,FizikaElementa:re,Statistika:Hi},mounted:function(){var t=this;setInterval(function(){t.updateLogs()},1)},computed:Object(u["a"])({},Object(f["d"])({deletedMesh:function(t){return t.experiment.deletedMesh},existingMeshes:function(t){return t.experiment.meshes}}),Object(f["c"])({getMeshByName:"experiment/getMeshByName",getMeshLog:"experiment/getMeshLog",getMeshPhysic:"experiment/getMeshPhysic"})),methods:{unlockPlaying:function(){this.$emit("unlockPlaying")},lockPlaying:function(){this.$emit("lockPlaying")},changeMenu:function(t){if(this.isMenu=!this.isMenu,t.groupName&&t.menuName){var e=this.menus.find(function(e){return e.name===t.groupName});this.activeMenu=e.menus.find(function(e){return e.name==t.menuName}),this.isMenu=!1}},updateLogs:function(){for(var t in this.existingMeshes){var e=this.getMeshByName(this.existingMeshes[t]),i=this.existingMeshes[t],s=e.physicsImpostor;!1===s.isDisposed&&(this.updatePhysics(e,i),this.updateCollisions(e,i),1e3===this.secondsCounter&&(this.updateRotation(e,i),this.updateMovement(e,i)))}this.secondsCounter+=1,1001===this.secondsCounter&&(this.secondsCounter=1)},physic:function(t){return this.getMeshPhysic(t)},updatePhysics:function(t,e){for(var i in this.physics)switch(this.physics[i].key){case"velocity":this.updateVelocity(t,e);break;default:break}},updateVelocity:function(t,e){var i=t.physicsImpostor.getLinearVelocity(),s={x:this.roundDecimal(i.x),y:this.roundDecimal(i.y),z:this.roundDecimal(i.z)};this.compareVelocity(s.x,s,0,e),this.compareVelocity(s.y,s,1,e),this.compareVelocity(s.z,s,2,e)},compareVelocity:function(t,e,i,s){if(0===t){var a=this.physic(s).find(function(t){return"Brzina"===t.name&&t.properties.axis===i});a&&(this.removeMeshPhysics(a,s),this.updateMeshVelocity(e,i,s,Ct()()))}else{var n=0===i?"x":1===i?"y":"z";a={name:"Brzina",icon:"fas fa-running",description:"".concat(n,"-os"),properties:{value:e[n],axis:i,axisString:n,unit:"m/s"}};this.updateMeshPhysics(s,a),this.updateMeshVelocity(e,i,s,null)}},updateMeshVelocity:function(t,e,i,s){var a=0===e?"x":1===e?"y":"z",n=this.getMeshLog(i).filter(function(t){return"physics"===t.type&&"velocity"===t.key}),r=n.find(function(t){return t.properties.axis===e&&null===t.properties.time.end});if(r){var o=r.properties.values;o.push({velocity:t,time:Ct()()});var c=r.properties.time.start,l={mesh:i,log:{name:"Dodana fizika",icon:"fas fa-atom",type:"physics",key:"velocity",description:"(".concat(a,"-os)"),properties:{axis:e,axisString:a,values:o,time:{start:c,end:s}}}};this.$store.commit("experiment/UPDATE_MESH_LOGS",l)}else if(Math.abs(t[a])>.2){var u=[];c=Ct()();u.push({velocity:t,time:c});l={mesh:i,log:{name:"Dodana fizika",icon:"fas fa-atom",type:"physics",key:"velocity",description:"(".concat(a,"-os)"),properties:{axis:e,axisString:a,values:u,time:{start:c,end:null}}}};this.$store.commit("experiment/SET_MESH_LOGS",l)}},updateMeshPhysics:function(t,e){var i={mesh:t,physic:e};this.$store.commit("experiment/UPDATE_MESH_PHYSICS",i)},removeMeshPhysics:function(t,e){var i={mesh:e,physic:t};this.$store.commit("experiment/REMOVE_MESH_PHYSIC",i)},roundDecimal:function(t){var e=t.toFixed(2);return 0==Math.abs(e)?0:e},updateCollisions:function(t,e){var i=bt.getCollisions(t,e),s=this.getMeshLog(e).filter(function(t){return"collisions"===t.type});for(var a in this.existingMeshes){var n=this.existingMeshes[a];if(n!==e){var r=s.find(function(t){return t.properties.collider===n&&null===t.properties.time.end}),o=i.find(function(t){return t===n});if(void 0===r&&void 0!==o){var c=Ct()(),l={mesh:e,log:{name:"Sudar",icon:"fas fa-bullseye",type:"collisions",description:"(".concat(o,")"),key:c,properties:{collider:o,time:{start:c,end:null}}}};this.$store.commit("experiment/SET_MESH_LOGS",l)}else if(void 0!==r&&void 0===o){var u=r.properties.time.start,p=Ct()();l={mesh:e,log:{name:r.name,icon:r.icon,type:r.type,description:r.description,key:r.key,properties:{collider:r.properties.collider,time:{start:u,end:p}}}};this.$store.commit("experiment/UPDATE_MESH_LOGS",l)}}}},updateRotation:function(t,e){var i=t.rotationQuaternion.toEulerAngles(),s={x:this.radianToDegree(i.x),y:this.radianToDegree(i.y),z:this.radianToDegree(i.z)},a=this.getMeshLog(e).filter(function(t){return"rotation"===t.type}),n=a.length;if(n>0){var r=a.find(function(t){return"x"===t.key});this.compareRotation(s,"x",e,r);var o=a.find(function(t){return"y"===t.key});this.compareRotation(s,"y",e,o);var c=a.find(function(t){return"z"===t.key});this.compareRotation(s,"z",e,c)}else this.compareRotation(s,"x",e,void 0),this.compareRotation(s,"y",e,void 0),this.compareRotation(s,"z",e,void 0)},compareRotation:function(t,e,i,s){if(void 0===s){var a={mesh:i,log:{name:"Rotacija",icon:"fas fa-sync-alt",type:"rotation",description:"(".concat(e,"-os)"),key:e,properties:{rotations:[{value:t,time:Ct()()}]}}};this.$store.commit("experiment/SET_MESH_LOGS",a)}else{var n=s.properties.rotations.length,r=s.properties.rotations[n-1].value;if(Math.abs(t[e]-r[e]).toFixed(2)>0){var o=s.properties.rotations;o.push({value:t,time:Ct()()});a={mesh:i,log:{name:"Rotacija",icon:"fas fa-sync-alt",type:"rotation",description:"(".concat(e,"-os)"),key:e,properties:{rotations:o}}};this.$store.commit("experiment/UPDATE_MESH_LOGS",a)}}},updateMovement:function(t,e){var i={x:t.position.x,y:t.position.y,z:t.position.z},s=this.getMeshLog(e).filter(function(t){return"movement"===t.type}),a=s.length;if(a>0){var n=s.find(function(t){return"x"===t.key});this.comparePosition(i,"x",e,n);var r=s.find(function(t){return"y"===t.key});this.comparePosition(i,"y",e,r);var o=s.find(function(t){return"z"===t.key});this.comparePosition(i,"z",e,o)}else this.comparePosition(i,"x",e,void 0),this.comparePosition(i,"y",e,void 0),this.comparePosition(i,"z",e,void 0)},comparePosition:function(t,e,i,s){if(void 0===s){var a={mesh:i,log:{name:"Pomak",icon:"fas fa-shoe-prints",type:"movement",description:"(".concat(e,"-os)"),key:e,properties:{positions:[{value:t,time:Ct()()}]}}};this.$store.commit("experiment/SET_MESH_LOGS",a)}else{var n=s.properties.positions.length,r=s.properties.positions[n-1].value;if(Math.abs(t[e]-r[e]).toFixed(2)>0){var o=s.properties.positions;o.push({value:t,time:Ct()()});a={mesh:i,log:{name:"Pomak",icon:"fas fa-shoe-prints",type:"movement",description:"(".concat(e,"-os)"),key:e,properties:{positions:o}}};this.$store.commit("experiment/UPDATE_MESH_LOGS",a)}}},radianToDegree:function(t){var e=Math.PI,i=t*(180/e);return Y()(i.toFixed(2))},notification:function(t){this.$emit("notification",t)},error:function(t){this.$emit("error",t)}},watch:{deletedMesh:function(t,e){null==e&&null!=t&&(this.error("Izbrisan je element ".concat(t)),this.$store.commit("experiment/SET_DELETED_MESH",null))}}},Vi=Yi,Ui=(i("2f38"),Object(b["a"])(Vi,xt,yt,!1,null,"40cc2609",null)),Fi=Ui.exports,qi={name:"Experiment",data:function(){return{isDisabled:!1,firstOpen:!0,group:0,selected0:0,selected1:0,currentPage:0,pages:0,batchSize:3,filteredExperiments:[],user:{experiments:[{id:1,title:"Pomak",date:new Date(2019,5,3),description:"Prikaz pomaka tijela u prostoru. Još nešto da nadopunim.",image:"https://bulma.io/images/placeholders/256x256.png"},{id:2,title:"Pomak",date:new Date(2019,4,30),description:"Prikaz pomaka tijela u prostoru.",image:"https://bulma.io/images/placeholders/256x256.png"},{id:3,title:"Pomak",date:new Date(2019,4,25),description:"Prikaz pomaka tijela u prostoru.",image:"https://bulma.io/images/placeholders/256x256.png"},{id:4,title:"Pomak",date:new Date(2019,4,25),description:"Prikaz pomaka tijela u prostoru.",image:"https://bulma.io/images/placeholders/256x256.png"}]}}},components:{Menu:Fi},mounted:function(){this.pages=Math.ceil(this.user.experiments.length/this.batchSize),this.update()},computed:Object(u["a"])({},Object(f["d"])({isPlaying:function(t){return t.experiment.playing}}),Object(f["c"])({isLoggedIn:"user/isLoggedIn"}),{scene:{get:function(){return this.$store.state.experiment.scene},set:function(t){this.$store.commit("experiment/SET_SCENE",t)}}}),methods:Object(u["a"])({},Object(f["b"])({createWalls:"experiment/createWalls"}),{previous:function(){this.currentPage>0&&(this.selected1=0,this.currentPage--,this.update())},next:function(){this.currentPage<this.pages-1&&(this.selected1=0,this.currentPage++,this.update())},update:function(){var t=(this.currentPage+1)*this.batchSize,e=t-this.batchSize;this.filteredExperiments=this.user.experiments.slice(e,t)},close:function(){this.initScene(),this.firstOpen=!1},unlockPlaying:function(){this.isDisabled=!1},lockPlaying:function(){this.isDisabled=!0},togglePlay:function(t){this.$store.commit("experiment/SET_PLAYING",t),bt.togglePlay(t)},initScene:function(){var t=document.getElementById("renderCanvas"),e=new BABYLON.Engine(t,!0),i=bt.createEmptyScene(t,e),s=G.hexToColor3("#f5f1f2");i.clearColor=new BABYLON.Color3(s[0],s[1],s[2]),e.runRenderLoop(function(){i.render()}),window.addEventListener("resize",function(){e.resize()}),this.scene=i,this.createWalls()},error:function(t){this.$toast.open({duration:2500,message:t,position:"is-bottom",type:"is-warning"})},notification:function(t){this.$toast.open({duration:2500,message:t,position:"is-bottom",type:"is-success"})}})},Wi=qi,Xi=(i("c147"),Object(b["a"])(Wi,R,z,!1,null,"7abd2095",null)),Ki=Xi.exports,Zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"profile"}},[i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-parent is-vertical is-3"},[i("article",{staticClass:"tile is-child notification is-success"},[t._m(0),i("p",{staticClass:"title is-4",staticStyle:{"text-align":"right"}},[t._v(t._s(t.user.fullName))])]),i("article",{staticClass:"tile is-child notification",staticStyle:{"text-align":"left"}},[i("p",[i("b",[t._v("Stručnost:")]),i("span",{staticClass:"user-info"},[t._v(t._s(t.user.occupation))]),i("br"),i("b",[t._v("E-mail:")]),i("span",{staticClass:"user-info"},[t._v(t._s(t.user.email))]),i("br"),i("b",[t._v("Br. pokusa:")]),i("span",{staticClass:"user-info"},[t._v(t._s(t.user.experiments.length))]),i("br")])])]),i("div",{staticClass:"tile is-parent is-vertical"},[i("article",{staticClass:"tile is-child notification"},[i("div",{staticClass:"content"},[i("div",{staticClass:"control is-flex"},[i("p",{staticClass:"title is-4",staticStyle:{"text-align":"left"}},[t._v("Moji pokusi")]),i("div",{staticClass:"control margin-left"},[i("b-field",[i("b-input",{attrs:{placeholder:"Pretraži...",type:"search","icon-pack":"fas",icon:"search"}})],1)],1)]),i("div",{staticClass:"flex-container",staticStyle:{display:"inline-block"}},[t._l(t.filteredExperiments,function(e){return i("div",{key:e.id,staticClass:"box",staticStyle:{width:"30rem"}},[i("article",{staticClass:"media"},[i("div",{staticClass:"media-left"},[i("figure",{staticClass:"image is-64x64"},[i("img",{attrs:{src:e.image,alt:"Image"}})])]),i("div",{staticClass:"media-content"},[i("div",{staticClass:"content"},[i("p",[i("strong",[t._v(t._s(e.title))]),i("small",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(e.date.toLocaleDateString("hr-HR")))]),i("br"),i("small",[t._v(t._s(e.description))])])]),i("nav",{staticClass:"level is-mobile"},[i("div",{staticClass:"level-left"},[i("b-tooltip",{attrs:{type:"is-black",label:"Pokreni"}},[i("span",{staticClass:"icon is-small",staticStyle:{color:"#284e7b"}},[i("i",{staticClass:"fas fa-link",attrs:{"aria-hidden":"true"}})])])],1)])])])])}),i("div",[i("nav",{staticClass:"pagination is-rounded",attrs:{role:"navigation","aria-label":"pagination"}},[i("a",{staticClass:"pagination-previous my-pagination-button",class:{disabled:0==t.currentPage},on:{click:t.previous}},[t._m(1),t._v("Prethodna\n                                ")]),i("a",{staticClass:"pagination-next my-pagination-button",class:{disabled:t.currentPage==t.pages-1},on:{click:t.next}},[t._v("\n                                    Sljedeća\n                                    "),t._m(2)])])])],2)])])])])])},Ji=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("figure",{staticClass:"image is-128x128"},[i("img",{staticClass:"is-rounded",attrs:{src:"https://bulma.io/images/placeholders/128x128.png"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-right"})])}],Qi={name:"Profile",data:function(){return{currentPage:0,pages:0,batchSize:3,filteredExperiments:[],user:{fullName:"Nikola Ćališ",occupation:"student",email:"nikola.calis9@gmail.com",experiments:[{id:1,title:"Pomak",date:new Date(2019,5,3),description:"Prikaz pomaka tijela u prostoru. Još nešto da nadopunim.",image:"https://bulma.io/images/placeholders/256x256.png"},{id:2,title:"Pomak",date:new Date(2019,4,30),description:"Prikaz pomaka tijela u prostoru.",image:"https://bulma.io/images/placeholders/256x256.png"},{id:3,title:"Pomak",date:new Date(2019,4,25),description:"Prikaz pomaka tijela u prostoru.",image:"https://bulma.io/images/placeholders/256x256.png"},{id:4,title:"Pomak",date:new Date(2019,4,25),description:"Prikaz pomaka tijela u prostoru.",image:"https://bulma.io/images/placeholders/256x256.png"}]}}},mounted:function(){this.pages=Math.ceil(this.user.experiments.length/this.batchSize),this.update()},computed:Object(u["a"])({},Object(f["c"])({isLoggedIn:"user/isLoggedIn"})),methods:{previous:function(){this.currentPage>0&&(this.currentPage--,this.update())},next:function(){this.currentPage<this.pages-1&&(this.currentPage++,this.update())},update:function(){var t=(this.currentPage+1)*this.batchSize,e=t-this.batchSize;this.filteredExperiments=this.user.experiments.slice(e,t)}}},ts=Qi,es=(i("29b6"),Object(b["a"])(ts,Zi,Ji,!1,null,"a739df4a",null)),is=es.exports,ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"login"}},[t._m(0),s("section",{staticClass:"hero is-light is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"tile is-parent"},[s("div",{staticClass:"tile is-child is-4"},[s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[t._v("E-mail:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:t.errors.has("email")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{type:"email",expanded:"",name:"email",icon:"envelope"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[t._v("Lozinka:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:t.errors.has("password")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{type:"password","password-reveal":"",expanded:"",name:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("div",{staticClass:"control margin-left"},[s("b-button",{attrs:{type:"is-success","icon-left":"check"},on:{click:t.login}},[t._v("Prijava")])],1)])]),s("div",{staticClass:"tile is-child has-text-centered"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:i("cf05"),width:"225",height:"28"}})])],1)])]),s("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading}})],1),s("section",{staticClass:"hero is-dark is-small is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"control is-flex"},[s("p",[t._v("\n                    Još nemaš izrađen profil?\n                    "),s("router-link",{attrs:{to:"/register"}},[s("a",[t._v("Registriraj se")])])],1),s("div",{staticClass:"control margin-left"})])])])])},as=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"hero is-info is-bold"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("h1",{staticClass:"title"},[t._v("Prijava")])])])])}],ns={name:"Login",data:function(){return{email:"",password:""}},computed:Object(u["a"])({},Object(f["d"])({isLoading:function(t){return t.user.loading}})),methods:Object(u["a"])({},Object(f["b"])({authenticate:"user/authenticate"}),{validate:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$validator.validateAll();case 2:return e=t.sent,t.abrupt("return",0==this.errors.any()&&e);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),login:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.validate();case 2:if(e=t.sent,e){t.next=5;break}return t.abrupt("return");case 5:return i={email:this.email,password:this.password},t.next=8,this.authenticate(i);case 8:s=t.sent,!0===s?(this.$toast.open({message:"Uspješno ste se prijavili!",type:"is-success",position:"is-bottom"}),this.$router.push("home")):this.$toast.open({message:"Neispravan e-mail ili lozinka!",type:"is-danger",position:"is-bottom"});case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()})},rs=ns,os=(i("1a6b"),Object(b["a"])(rs,ss,as,!1,null,"2e77d129",null)),cs=os.exports,ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"register"}},[t._m(0),s("section",{staticClass:"hero is-light is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"tile is-parent"},[s("div",{staticClass:"tile is-child is-4"},[s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[t._v("Ime:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:t.errors.has("firstName")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{expanded:"",name:"firstName",icon:"user"},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[t._v("Prezime:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:t.errors.has("lastName")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{expanded:"",name:"lastName",icon:"signature"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[t._v("E-mail:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:t.errors.has("email")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{type:"email",expanded:"",name:"email",icon:"envelope"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[t._v("Lozinka:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:t.errors.has("password")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{type:"password","password-reveal":"",expanded:"",name:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[t._v("Stručnost:")]),s("div",{staticClass:"control margin-left"},[s("div",{staticClass:"block"},[s("b-radio",{attrs:{"native-value":0},model:{value:t.occupation,callback:function(e){t.occupation=e},expression:"occupation"}},[t._v("profesor")]),s("b-radio",{attrs:{"native-value":1},model:{value:t.occupation,callback:function(e){t.occupation=e},expression:"occupation"}},[t._v("student")])],1)])]),s("div",{staticClass:"control is-flex"},[s("div",{staticClass:"control margin-left"},[s("b-button",{attrs:{type:"is-success","icon-left":"check"},on:{click:t.register}},[t._v("Registracija")])],1)]),s("hr"),t._m(1)]),s("div",{staticClass:"tile is-child has-text-centered"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:i("cf05"),width:"225",height:"28"}})])],1)])]),s("b-loading",{attrs:{"is-full-page":!1,active:t.isLoading}})],1),s("section",{staticClass:"hero is-dark is-small is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"control is-flex"},[s("p",[t._v("\n                    Već imaš profil?\n                    "),s("router-link",{attrs:{to:"/login"}},[s("a",[t._v("Prijavi se")])])],1),s("div",{staticClass:"control margin-left"})])])])])},us=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"hero is-info is-bold"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("h1",{staticClass:"title"},[t._v("Registracija")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticStyle:{"text-align":"left"}},[i("small",{staticStyle:{color:"red"}},[t._v("* Sva polja su obavezna.")])])}],ps={name:"Register",data:function(){return{firstName:"",lastName:"",email:"",password:"",occupation:0}},computed:Object(u["a"])({},Object(f["d"])({isLoading:function(t){return t.user.loading}})),methods:Object(u["a"])({},Object(f["b"])({checkAvailability:"user/checkAvailability",createUser:"user/createUser",authenticate:"user/authenticate"}),{validate:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$validator.validateAll();case 2:return e=t.sent,t.abrupt("return",0==this.errors.any()&&e);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.validate();case 2:if(e=t.sent,e){t.next=5;break}return t.abrupt("return");case 5:return i={firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,occupation:this.occupation},t.next=8,this.checkAvailability(i);case 8:if(s=t.sent,!s){t.next=17;break}return this.$toast.open({message:"Provjera dostupnosti uspješna!",type:"is-success",position:"is-bottom"}),t.next=13,this.createUser(i);case 13:this.$toast.open({message:"Uspješno ste se registrirali!",type:"is-success",position:"is-bottom"}),this.$router.push("login"),t.next=18;break;case 17:this.$toast.open({message:"Navedeni e-mail se već koristi!",type:"is-danger",position:"is-bottom"});case 18:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()})},hs=ps,ms=(i("63f3"),Object(b["a"])(hs,ls,us,!1,null,"a4fa4ec2",null)),ds=ms.exports;o["default"].use(T["a"]);var fs=new T["a"]({mode:"history",routes:[{path:"",component:D,name:"home"},{path:"/home",redirect:"/"},{path:"/experiment",component:Ki,name:"experiment"},{path:"/profile",component:is,name:"profile",meta:{userRequired:!0}},{path:"/login",component:cs,name:"login",meta:{guestRequired:!0}},{path:"/register",component:ds,name:"register",meta:{guestRequired:!0}},{path:"*",redirect:"/"}]}),vs=i("7bb1"),gs=i("1321"),bs=i.n(gs),xs=i("bf15");o["default"].config.productionTip=!1,o["default"].use(O.a,{defaultIconPack:"fa"}),o["default"].use(j.a),o["default"].use(vs["a"]),o["default"].use(xs["a"]),o["default"].component("apexchart",bs.a),fs.beforeEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,i,s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(null!=ft.state.user.user){t.next=3;break}return t.next=3,ft.dispatch("user/retrieveUser");case 3:if(!0!==e.meta.guestRequired){t.next=7;break}if(!ft.getters["user/isLoggedIn"]){t.next=7;break}return s("/profile"),t.abrupt("return");case 7:if(!0!==e.meta.userRequired){t.next=11;break}if(ft.getters["user/isLoggedIn"]){t.next=11;break}return s("/login"),t.abrupt("return");case 11:s();case 12:case"end":return t.stop()}},t)}));return function(e,i,s){return t.apply(this,arguments)}}()),new o["default"]({router:fs,store:ft,render:function(t){return t(S)}}).$mount("#app")},"63f3":function(t,e,i){"use strict";var s=i("e5a8"),a=i.n(s);a.a},"64a9":function(t,e,i){},"6d90":function(t,e,i){},"6ea9":function(t,e,i){"use strict";var s=i("b048"),a=i.n(s);a.a},"7a23":function(t,e,i){},8165:function(t,e,i){"use strict";var s=i("9119"),a=i.n(s);a.a},"8a63":function(t,e,i){},9119:function(t,e,i){},"9fb0":function(t,e){},b048:function(t,e,i){},bdfa:function(t,e,i){"use strict";var s=i("d8de"),a=i.n(s);a.a},c147:function(t,e,i){"use strict";var s=i("8a63"),a=i.n(s);a.a},c324:function(t,e,i){"use strict";var s=i("116e"),a=i.n(s);a.a},cf05:function(t,e,i){t.exports=i.p+"img/logo.png"},d2e7:function(t,e,i){t.exports=i.p+"img/emptyScene.png"},d8de:function(t,e,i){},e5a8:function(t,e,i){},ea1e:function(t,e,i){}});