(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],p=0,h=[];p<o.length;p++)r=o[p],a[r]&&h.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},a={app:0},n=[];function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var s=i("64a9"),a=i.n(s);a.a},"103a":function(e,t,i){"use strict";var s=i("7354"),a=i.n(s);a.a},"116e":function(e,t,i){},"13c0":function(e,t,i){e.exports=i.p+"img/yellow.png"},"165b":function(e,t,i){},"19a4":function(e,t,i){e.exports=i.p+"img/student.png"},"1a6b":function(e,t,i){"use strict";var s=i("ea1e"),a=i.n(s);a.a},"1e13":function(e,t,i){"use strict";var s=i("6201"),a=i.n(s);a.a},"1e5d":function(e,t,i){},"211b":function(e,t,i){e.exports=i.p+"img/black.png"},2733:function(e,t,i){"use strict";var s=i("6d90"),a=i.n(s);a.a},"2b14":function(e,t,i){e.exports=i.p+"img/pink.png"},"327f":function(e,t,i){"use strict";var s=i("165b"),a=i.n(s);a.a},3354:function(e,t,i){e.exports=i.p+"img/professor.png"},4430:function(e,t,i){e.exports=i.p+"img/orange.png"},"44c9":function(e,t,i){"use strict";var s=i("b380"),a=i.n(s);a.a},"4d81":function(e,t,i){"use strict";var s=i("7a23"),a=i.n(s);a.a},"56d7":function(e,t,i){"use strict";i.r(t);var s={};i.r(s),i.d(s,"BOX",function(){return q}),i.d(s,"SPHERE",function(){return W}),i.d(s,"CYLINDER",function(){return Q});var a={};i.r(a);i("96cf");var n=i("3b8d"),r=(i("cadf"),i("551c"),i("f751"),i("097d"),i("2b0e")),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("Navbar"),i("router-view")],1)},c=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"navbar"}},[s("section",{staticClass:"hero is-light is-flex"},[s("div",{staticClass:"brand"},[s("div",{staticClass:"control is-flex"},[e.isLoggedIn?s("div",{staticClass:"control is-flex"},[s("b-button",{attrs:{rounded:"",outlined:"","icon-left":"sign-out-alt"},on:{click:e.logout}},[e._v("Odjava")])],1):e._e(),s("div",{staticClass:"control margin-right margin-left"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:i("cf05"),width:"112",height:"28"}})])],1)])]),s("quick-menu",{ref:"quickmenu",attrs:{"menu-count":3,"icon-class":e.icons,"menu-url-list":e.urls,position:"top-right","background-color":"#284e7b"},on:{process:e.process}}),s("b-loading",{attrs:{"is-full-page":!0,active:e.isLoading}})],1)])},u=[],p=(i("a481"),i("6762"),i("2fdb"),i("cebc")),h=i("f3fb"),m=i.n(h),d=i("2f62"),f={name:"Navbar",data:function(){return{icons:["fas fa-home","fas fa-flask","fas fa-user"],urls:[{isLink:!1,url:"/home"},{isLink:!1,url:"/experiment"},{isLink:!1,url:"/profile"}]}},computed:Object(p["a"])({},Object(d["c"])({isLoggedIn:"user/isLoggedIn"}),Object(d["d"])({isLoading:function(e){return e.user.loading}})),components:{quickMenu:m.a},methods:Object(p["a"])({},Object(d["b"])({systemLogout:"user/logout"}),{process:function(e){switch(e){case 0:this.change("home");break;case 1:this.change("experiment");break;case 2:this.change("profile");break;default:break}},change:function(e){var t=window.location.pathname;if("experiment"==e){if(t.includes("experiment")){var i=window.location.protocol+"//"+window.location.host+"/experiment";return window.location.replace(i),void this.$refs.quickmenu.$el.classList.remove("active")}return this.$router.push("experiment"),void this.$refs.quickmenu.$el.classList.remove("active")}if("profile"==e){if(t.includes("profile")){i=window.location.protocol+"//"+window.location.host+"/profile";return window.location.replace(i),void this.$refs.quickmenu.$el.classList.remove("active")}return this.$router.push("profile"),void this.$refs.quickmenu.$el.classList.remove("active")}this.$router.push(e),this.$refs.quickmenu.$el.classList.remove("active")},logout:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.systemLogout();case 2:this.$toast.open({message:"Uspješno ste se odjavili!",type:"is-success",position:"is-bottom"}),this.$router.push("home");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()})},v=f,g=(i("8bf9"),i("2877")),b=Object(g["a"])(v,l,u,!1,null,"c42b45f6",null),y=b.exports,_={name:"App",components:{Navbar:y}},k=_,S=(i("034f"),Object(g["a"])(k,o,c,!1,null,null,null)),E=S.exports,C=i("8a03"),w=i.n(C),O=(i("5abe"),i("633b"),i("8c4f")),T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"home"}},[e._m(0),s("section",{staticClass:"hero is-light is-small is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"tile is-parent"},[e._m(1),s("article",{staticClass:"tile is-child box is-white",on:{click:function(t){return e.changeRoute("home")}}},[e._m(2),s("br"),e._m(3)]),s("article",{staticClass:"tile is-child box is-white",on:{click:function(t){return e.changeRoute("profile")}}},[e._m(4),s("br"),e._m(5)]),s("article",{staticClass:"tile is-child box is-white",on:{click:function(t){return e.changeRoute("experiment")}}},[e._m(6),s("br"),e._m(7)])])])]),e.isLoggedIn?s("section",{staticClass:"hero is-dark is-small is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"control is-flex"},[s("p",[e._v("\n                    Prijavljeni ste kao\n                    "),s("a",{on:{click:function(t){return e.changeRoute("profile")}}},[e._v(e._s(e.user.fullName))])]),s("div",{staticClass:"control margin-left"})])])]):s("section",{staticClass:"hero is-dark is-small is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"control is-flex"},[s("p",[e._v("\n                    Još nemaš izrađen profil?\n                    "),s("router-link",{attrs:{to:"/register"}},[s("a",[e._v("Registriraj se")])])],1),s("div",{staticClass:"control margin-left"},[s("p",[e._v("\n                        Već imaš profil?\n                        "),s("router-link",{attrs:{to:"/login"}},[s("a",[e._v("Prijavi se")])])],1)])])])]),e.isLoggedIn?s("section",{staticClass:"hero is-light is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"control is-flex"},[s("h1",{staticClass:"title is-4"},[e._v("Korisnici")]),s("div",{staticClass:"control margin-left"},[s("b-field",[s("b-input",{attrs:{placeholder:"Pretraži...",type:"search","icon-pack":"fas",icon:"search"},model:{value:e.userSearch.searchQuery,callback:function(t){e.$set(e.userSearch,"searchQuery",t)},expression:"userSearch.searchQuery"}})],1)],1)]),s("div",{staticClass:"flex-container",staticStyle:{display:"inline-block"}},[e._l(e.filteredUsers,function(t){return s("div",{key:t.id,staticClass:"box",staticStyle:{width:"30rem"}},[s("article",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-64x64"},[0==t.occupation?s("img",{attrs:{src:i("3354")}}):s("img",{attrs:{src:i("19a4")}})])]),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[e._v(e._s(t.fullName))]),s("small",{staticStyle:{"margin-left":"5px"}},[e._v("("+e._s(e._f("occupation")(t.occupation))+")")]),s("br"),s("small",[e._v(e._s(t.email))])])]),s("nav",{staticClass:"level is-mobile"},[s("div",{staticClass:"level-left"},[s("span",{staticClass:"margin-5px"},[s("b-tooltip",{attrs:{type:"is-black",label:"Profil"}},[s("span",{staticClass:"icon is-small",staticStyle:{color:"#284e7b",cursor:"pointer"},on:{click:function(i){return e.openUser(t.id)}}},[s("i",{staticClass:"fas fa-external-link-alt"})])])],1),s("span",{staticClass:"margin-5px"},[s("b-tooltip",{attrs:{type:"is-black",label:"Poveznica"}},[s("span",{staticClass:"icon is-small",staticStyle:{color:"#284e7b",cursor:"pointer"},on:{click:function(i){return e.copyUserToClipboard(t.id)}}},[s("i",{staticClass:"fas fa-copy"})])])],1)])])])])])}),s("div",[s("nav",{staticClass:"pagination is-rounded",attrs:{role:"navigation","aria-label":"pagination"}},[s("a",{staticClass:"pagination-previous my-pagination-button",class:{disabled:0==e.userSearch.currentPage},on:{click:e.previousUser}},[e._m(8),e._v("Prethodna\n                        ")]),s("a",{staticClass:"pagination-next my-pagination-button",class:{disabled:e.userSearch.currentPage==e.userSearch.pages-1||0==e.userSearch.pages},on:{click:e.nextUser}},[e._v("\n                            Sljedeća\n                            "),e._m(9)])])])],2)])]):e._e(),e.isLoggedIn?s("hr"):e._e(),e.isLoggedIn?s("section",{staticClass:"hero is-light is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"control is-flex"},[s("h1",{staticClass:"title is-4"},[e._v("Pokusi")]),s("div",{staticClass:"control margin-left"},[s("b-field",[s("b-input",{attrs:{placeholder:"Pretraži...",type:"search","icon-pack":"fas",icon:"search"},model:{value:e.experimentSearch.searchQuery,callback:function(t){e.$set(e.experimentSearch,"searchQuery",t)},expression:"experimentSearch.searchQuery"}})],1)],1)]),s("div",{staticClass:"flex-container",staticStyle:{display:"inline-block"}},[s("b-loading",{attrs:{"is-full-page":!1,active:e.experimentsLoading}}),e._l(e.filteredExperiments,function(t){return s("div",{key:t.id,staticClass:"box",staticStyle:{width:"30rem"}},[s("article",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-64x64"},[0==t.picture?s("img",{attrs:{src:i("211b")}}):e._e(),1==t.picture?s("img",{attrs:{src:i("64ed")}}):e._e(),2==t.picture?s("img",{attrs:{src:i("9a4e")}}):e._e(),3==t.picture?s("img",{attrs:{src:i("4430")}}):e._e(),4==t.picture?s("img",{attrs:{src:i("2b14")}}):e._e(),5==t.picture?s("img",{attrs:{src:i("d970")}}):e._e(),6==t.picture?s("img",{attrs:{src:i("13c0")}}):e._e()])]),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[e._v(e._s(t.title))]),s("small",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(t.createdBy.fullName))]),s("br"),s("small",[e._v(e._s(t.description))])])]),s("nav",{staticClass:"level is-mobile"},[s("div",{staticClass:"level-left"},[s("span",{staticClass:"margin-5px"},[s("b-tooltip",{attrs:{type:"is-black",label:"Pokreni"}},[s("span",{staticClass:"icon is-small",staticStyle:{color:"#284e7b",cursor:"pointer"},on:{click:function(i){return e.openExperiment(t.id)}}},[s("i",{staticClass:"fas fa-external-link-alt"})])])],1),s("span",{staticClass:"margin-5px"},[s("b-tooltip",{attrs:{type:"is-black",label:"Poveznica"}},[s("span",{staticClass:"icon is-small",staticStyle:{color:"#284e7b",cursor:"pointer"},on:{click:function(i){return e.copyExperimentToClipboard(t.id)}}},[s("i",{staticClass:"fas fa-copy"})])])],1)])])])])])}),s("div",[s("nav",{staticClass:"pagination is-rounded",attrs:{role:"navigation","aria-label":"pagination"}},[s("a",{staticClass:"pagination-previous my-pagination-button",class:{disabled:0==e.experimentSearch.currentPage},on:{click:e.previousExperiment}},[e._m(10),e._v("Prethodna\n                        ")]),s("a",{staticClass:"pagination-next my-pagination-button",class:{disabled:e.experimentSearch.currentPage==e.experimentSearch.pages-1||0==e.experimentSearch.pages},on:{click:e.nextExperiment}},[e._v("\n                            Sljedeća\n                            "),e._m(11)])])])],2)])]):e._e()])},j=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"hero is-info is-medium is-bold"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("h2",{staticClass:"subtitle"},[e._v("Dobrodošli u ...")]),i("h1",{staticClass:"title"},[e._v("Virtualni laboratoriji iz fizike")])])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"tile is-child box is-white"},[i("h2",{staticClass:"subtitle is-9"},[e._v("\n                        Navigirajte se stranicom koristeći\n                        "),i("span",{staticClass:"blue-text"},[e._v("IZBORNIK")]),e._v(".\n                    ")]),i("br"),i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-bars fa-5x"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",{staticClass:"subtitle is-9"},[e._v("\n                        Kućica označava\n                        "),i("span",{staticClass:"blue-text"},[e._v("POČETNU")]),e._v(" stranicu.\n                    ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-home fa-5x"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",{staticClass:"subtitle is-9"},[e._v("\n                        Na vlastitom\n                        "),i("span",{staticClass:"blue-text"},[e._v("PROFILU")]),e._v(" spremajte i dijelite pokuse.\n                    ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-user fa-5x"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h2",{staticClass:"subtitle is-9"},[e._v("\n                        Izradite vlastite\n                        "),i("span",{staticClass:"blue-text"},[e._v("POKUSE")]),e._v(" iz fizike u 3D okruženju.\n                    ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-flask fa-5x"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-right"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-right"})])}],M=i("a4bb"),A=i.n(M),P=(i("3b2b"),{filters:{occupation:function(e){switch(e){case 0:return"profesor";case 1:return"student";default:break}}}}),B={name:"Home",data:function(){return{users:[],experiments:[],userSearch:{currentPage:0,pages:0,batchSize:3,searchQuery:""},experimentSearch:{currentPage:0,pages:0,batchSize:3,searchQuery:""}}},mixins:[P],mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isLoggedIn){e.next=9;break}return e.next=3,this.getExperimentsAsync();case 3:return e.next=5,this.getUsersAsync();case 5:this.users=this.getUsers,this.userSearch.pages=Math.ceil(this.users.length/this.userSearch.batchSize),this.experiments=this.getExperiments,this.experimentSearch.pages=Math.ceil(this.experiments.length/this.experimentSearch.batchSize);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:Object(p["a"])({},Object(d["c"])({isLoggedIn:"user/isLoggedIn",getUsers:"user/getUsers",getExperiments:"experiment/getExperiments"}),Object(d["d"])({user:function(e){return e.user.user},experimentsLoading:function(e){return e.experiment.loading}}),{filteredUsers:function(){var e=this,t=[];if(this.userSearch.searchQuery&&0==this.userSearch.searchQuery.length)t=this.users;else{var i=new RegExp(this.userSearch.searchQuery,"i"),s=this.users.map(function(t){return Object(p["a"])({},t,{filterObject:{fullName:t.fullName,occupation:e.$options.filters.occupation(t.occupation),email:t.email}})});t=s.filter(function(e){return A()(e.filterObject).some(function(t){return i.test(e.filterObject[t])})})}var a=(this.userSearch.currentPage+1)*this.userSearch.batchSize,n=a-this.userSearch.batchSize;return t.slice(n,a)},filteredExperiments:function(){var e=[];if(this.experimentSearch.searchQuery&&0==this.experimentSearch.searchQuery.length)e=this.experiments;else{var t=new RegExp(this.experimentSearch.searchQuery,"i"),i=this.experiments.map(function(e){return Object(p["a"])({},e,{filterObject:{title:e.title,description:e.description,fullName:e.createdBy.fullName}})});e=i.filter(function(e){return A()(e.filterObject).some(function(i){return t.test(e.filterObject[i])})})}var s=(this.experimentSearch.currentPage+1)*this.experimentSearch.batchSize,a=s-this.experimentSearch.batchSize;return e.slice(a,s)}}),methods:Object(p["a"])({},Object(d["b"])({getUsersAsync:"user/getUsersAsync",getExperimentsAsync:"experiment/getExperimentsAsync"}),{changeRoute:function(e){this.$router.push(e)},openUser:function(e){this.$router.push("/profile?id=".concat(e))},openExperiment:function(e){this.$router.push("/experiment?id=".concat(e))},copyUserToClipboard:function(e){var t="".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port,"/profile?id=").concat(e);this.copy(t),this.$toast.open({duration:2500,message:"Poveznica spremljena u međuspremnik.",position:"is-bottom",type:"is-success"})},copyExperimentToClipboard:function(e){var t="".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port,"/experiment?id=").concat(e);this.copy(t),this.$toast.open({duration:2500,message:"Poveznica spremljena u međuspremnik.",position:"is-bottom",type:"is-success"})},copy:function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)},previousUser:function(){this.userSearch.currentPage>0&&this.userSearch.currentPage--},nextUser:function(){this.userSearch.currentPage<this.userSearch.pages-1&&this.userSearch.currentPage++},previousExperiment:function(){this.experimentSearch.currentPage>0&&this.experimentSearch.currentPage--},nextExperiment:function(){this.experimentSearch.currentPage<this.experimentSearch.pages-1&&this.experimentSearch.currentPage++}})},L=B,I=(i("103a"),Object(g["a"])(L,T,j,!1,null,"6bb18c7c",null)),N=I.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"experiment"}},[s("div",{staticClass:"tile is-ancestor"},[s("b-loading",{attrs:{"is-full-page":!1,active:e.sceneLoading}}),s("div",{staticClass:"tile is-parent is-3 has-text-left"},[s("article",{staticClass:"tile is-child box"},[s("Menu",{ref:"menu",on:{notification:e.notification,error:e.error,unlockPlaying:e.unlockPlaying,lockPlaying:e.lockPlaying}})],1)]),e._m(0)],1),s("div",{staticClass:"tile is-ancestor"},[s("b-loading",{attrs:{"is-full-page":!1,active:e.sceneLoading}}),s("div",{staticClass:"tile is-parent is-3"},[s("article",{staticClass:"tile is-child box"},[e.isPlaying?s("b-tooltip",{attrs:{type:"is-black",label:"Zaustavi fiziku.",position:"is-right"}},[s("b-button",{staticClass:"is-success",attrs:{size:"is-small","icon-left":"pause",disabled:e.isDisabled||e.sceneLoading},on:{click:function(t){return e.togglePlay(!1)}}},[e._v("Fizika uključena")])],1):e._e(),e.isPlaying?e._e():s("b-tooltip",{attrs:{type:"is-black",label:"Pokreni fiziku.",position:"is-right"}},[s("b-button",{staticClass:"is-dark",attrs:{size:"is-small","icon-left":"play",disabled:e.isDisabled||e.sceneLoading},on:{click:function(t){return e.togglePlay(!0)}}},[e._v("Fizika isključena")])],1)],1)])],1),s("b-modal",{attrs:{active:e.firstOpen,width:"700px",scroll:"keep"},on:{"update:active":function(t){e.firstOpen=t},close:e.close}},[s("header",{staticClass:"modal-card-head is-flex",staticStyle:{"text-align":"left"}},[s("p",{staticClass:"modal-card-title"},[e._v("Odabir pokusa")]),1==e.group?s("div",{staticClass:"control margin-left"},[s("b-field",[s("b-input",{attrs:{placeholder:"Pretraži...",type:"search","icon-pack":"fas",icon:"search"},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1)],1):e._e()]),s("section",{staticClass:"modal-card-body"},[s("b-loading",{attrs:{"is-full-page":!1,active:e.experimentsLoading}}),s("nav",{staticClass:"breadcrumb is-centered has-bullet-separator",attrs:{"aria-label":"breadcrumbs"}},[s("ul",[s("li",{class:{"is-active":0==e.group}},[s("a",{on:{click:function(t){e.group=0,e.lockCreate=!1}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-rocket",attrs:{"aria-hidden":"true"}})]),s("span",[e._v("Novi pokus")])])]),e.isLoggedIn&&e.experiments.length>0?s("li",{class:{"is-active":1==e.group}},[s("a",{on:{click:function(t){e.group=1}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-book",attrs:{"aria-hidden":"true"}})]),s("span",[e._v("Moji pokusi")])])]):e._e()])]),s("hr"),0==e.group?s("div",[s("div",{staticClass:"box margin-right",class:{selected:0==e.selected0},staticStyle:{width:"20rem"},on:{click:function(t){e.selected=0}}},[s("article",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-64x64"},[s("img",{attrs:{src:i("d2e7")}})])]),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[e._v("Prazan pokus")]),s("br"),s("small",[e._v("Prazna scena postavljena s podlogom.")])])])])])])]):e._e(),1==e.group?s("div",[e._l(e.filteredExperiments,function(t,a){return s("div",{key:t.id,staticClass:"box margin-right margin-left",class:{selected:e.selected1==a},staticStyle:{width:"20rem"},on:{click:function(t){e.selected1=a}}},[s("article",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-64x64"},[0==t.picture?s("img",{attrs:{src:i("211b")}}):e._e(),1==t.picture?s("img",{attrs:{src:i("64ed")}}):e._e(),2==t.picture?s("img",{attrs:{src:i("9a4e")}}):e._e(),3==t.picture?s("img",{attrs:{src:i("4430")}}):e._e(),4==t.picture?s("img",{attrs:{src:i("2b14")}}):e._e(),5==t.picture?s("img",{attrs:{src:i("d970")}}):e._e(),6==t.picture?s("img",{attrs:{src:i("13c0")}}):e._e()])]),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[e._v(e._s(t.title))]),s("small",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(new Date(t.createdOn).toLocaleDateString("hr-HR")))]),s("br"),s("small",[e._v(e._s(t.description))])])])])])])}),s("div",[s("nav",{staticClass:"pagination is-rounded",attrs:{role:"navigation","aria-label":"pagination"}},[s("a",{staticClass:"pagination-previous my-pagination-button",class:{disabled:0==e.currentPage},on:{click:e.previous}},[s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-angle-left"})]),e._v("Prethodna\n                        ")]),s("a",{staticClass:"pagination-next my-pagination-button",class:{disabled:e.currentPage==e.pages-1},on:{click:e.next}},[e._v("\n                            Sljedeća\n                            "),s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-angle-right"})])])])])],2):e._e()],1),s("footer",{staticClass:"modal-card-foot is-flex"},[s("b-button",{staticClass:"button is-success margin-left",attrs:{"icon-left":"check",disabled:e.lockCreate},on:{click:e.close}},[e._v("Pokreni")])],1)])],1)},R=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tile is-parent"},[i("article",{staticClass:"tile is-child box"},[i("div",{staticClass:"content"},[i("canvas",{attrs:{id:"renderCanvas","touch-action":"none"}})])])])}],D=(i("386d"),i("774e")),$=i.n(D),G=i("e814"),Y=i.n(G),H={hexToColor3:function(e){var t=this.hexToRgb(e);return this.rgbToColor3(t)},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:Y()(t[1],16),g:Y()(t[2],16),b:Y()(t[3],16)}:null},rgbToColor3:function(e){return[e.r/255,e.g/255,e.b/255]}},U=i("0a0d"),V=i.n(U),F=(i("7514"),i("59ad")),X=i.n(F),q=(i("7f7f"),i("ac6a"),"BOX"),W="SPHERE",Q="CYLINDER",K={create:function(e,t,i){var s=BABYLON.MeshBuilder.CreateBox(e.name,{width:1,height:1,depth:1},i);return s.position.x=0,s.position.y=-.5,s.position.z=0,s.physicsImpostor=new BABYLON.PhysicsImpostor(s,BABYLON.PhysicsImpostor.BoxImpostor,{mass:X()(e.mass),friction:X()(e.friction),restitution:X()(e.restitution)},i),s.material=t,s}},Z={create:function(e,t,i){var s=BABYLON.MeshBuilder.CreateSphere(e.name,{diameterX:1,diameterY:1,diameterZ:1},i);return s.position.x=0,s.position.y=-.5,s.position.z=0,s.physicsImpostor=new BABYLON.PhysicsImpostor(s,BABYLON.PhysicsImpostor.SphereImpostor,{mass:X()(e.mass),friction:X()(e.friction),restitution:X()(e.restitution)},i),s.material=t,s}},J={},ee=(i("9fb0"),{}),te=i("795b"),ie=i.n(te),se=i("bd86"),ae=i("bc3a"),ne=i.n(ae);ne.a.defaults.headers.post["Content-Type"]="application/json",ne.a.defaults.headers.put["Content-Type"]="application/json";var re={createExperiment:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("/api/experiment",{setting:t.settings,meshes:t.meshes,title:t.title,description:t.description,createdBy:t.createdBy});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),createSettings:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("/api/experiment/settings",t);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getByUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/experiment/user",{params:{id:t}});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getById:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/experiment/".concat(t));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),updateExperiment:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.put("/api/experiment/".concat(t.id),t);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),updateSettings:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.put("/api/experiment/settings",t);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),checkAvailability:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("/api/experiment/check-availability",{params:{title:t.title,userId:t.userId}});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteExperiment:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.delete("/api/experiment/".concat(t));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getExperiments:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/experiment");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()};ne.a.defaults.headers.post["Content-Type"]="application/json",ne.a.defaults.headers.put["Content-Type"]="application/json";var oe,ce={createMesh:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("/api/mesh",{setting:t.settings,experiment:t.experiment,type:t.type,name:t.name});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),createSettings:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("/api/mesh/settings",t);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),updateMesh:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.put("/api/mesh/".concat(t.id),t);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),updateSettings:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.put("/api/mesh/settings",t);case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getByExperiment:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/mesh/experiment",{params:{id:t}});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),deleteMesh:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.delete("/api/mesh/".concat(t));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},le={getMeshByName:function(e){return function(t){return e.scene.getMeshByName(t)}},getMeshPhysic:function(e){return function(t){return e.physics.find(function(e){return e.name===t}).physic}},getMeshLog:function(e){return function(t){var i=e.logs.find(function(e){return e.name===t});return void 0===i?[]:i.log}},getExperiments:function(e,t,i,s){return i.user.user?e.homeExperiments.filter(function(e){return e.createdBy.id!=i.user.user.id}):e.homeExperiments}},ue={SET_SCENE:"SET_SCENE",SET_AXIS:"SET_AXIS",UPDATE_MESHES:"UPDATE_MESHES",DELETE_MESH:"DELETE_MESH",SET_HIGHLIGHT:"SET_HIGHLIGHT",SET_CAMERA:"SET_CAMERA",SET_GROUND:"SET_GROUND",SET_WALLS:"SET_WALLS",SET_CANVAS:"SET_CANVAS",SET_PLAYING:"SET_PLAYING",SET_MESH_IMPOSTORS:"SET_MESH_IMPOSTORS",UPDATE_MESH_IMPOSTORS:"UPDATE_MESH_IMPOSTORS",SET_GRAVITY:"SET_GRAVITY",SET_GRAVITY_AXIS:"SET_GRAVITY_AXIS",SET_PHYSICS_IMPOSTOR:"SET_PHYSICS_IMPOSTOR",SET_DRAG_BEHAVIOUR:"SET_DRAG_BEHAVIOUR",SET_LAST_POSITION:"SET_LAST_POSITION",SET_DELETED_MESH:"SET_DELETED_MESH",UPDATE_MESH_AXIS:"UPDATE_MESH_AXIS",DELETE_MESH_AXIS:"DELETE_MESH_AXIS",UPDATE_PHYSICS:"UPDATE_PHYSICS",UPDATE_MESH_PHYSICS:"UPDATE_MESH_PHYSICS",REMOVE_MESH_PHYSIC:"REMOVE_MESH_PHYSIC",DELETE_MESH_PHYSICS:"DELETE_MESH_PHYSICS",UPDATE_LOGS:"UPDATE_LOGS",SET_MESH_LOGS:"SET_MESH_LOGS",UPDATE_MESH_LOGS:"UPDATE_MESH_LOGS",DELETE_MESH_LOGS:"DELETE_MESH_LOGS",SET_LOADING:"SET_LOADING",SET_EXPERIMENTS:"SET_EXPERIMENTS",SET_EXPERIMENT_MESHES:"SET_EXPERIMENT_MESHES",SET_EXPERIMENT:"SET_EXPERIMENT",SET_HOME_EXPERIMENTS:"SET_HOME_EXPERIMENTS"},pe={scene:null,axis:[],meshes:[],highlight:null,camera:null,ground:null,walls:[],canvas:null,playing:!0,physicsImpostors:[],gravity:null,gravityAxis:null,dragBehaviour:[],physicsImpostor:null,lastPosition:null,deletedMesh:null,meshAxis:[],physics:[],logs:[],loading:!1,experiments:[],experimentMeshes:[],experiment:null,homeExperiments:[]},he=(oe={},Object(se["a"])(oe,ue.SET_SCENE,function(e,t){e.scene=t}),Object(se["a"])(oe,ue.SET_AXIS,function(e,t){e.axis=t}),Object(se["a"])(oe,ue.UPDATE_MESHES,function(e,t){e.meshes.push(t)}),Object(se["a"])(oe,ue.DELETE_MESH,function(e,t){var i=e.meshes,s=i.filter(function(e){return e!=t});e.meshes=s}),Object(se["a"])(oe,ue.SET_HIGHLIGHT,function(e,t){e.highlight=t}),Object(se["a"])(oe,ue.SET_CAMERA,function(e,t){e.camera=t}),Object(se["a"])(oe,ue.SET_GROUND,function(e,t){e.ground=t}),Object(se["a"])(oe,ue.SET_WALLS,function(e,t){e.walls=t}),Object(se["a"])(oe,ue.SET_CANVAS,function(e,t){e.canvas=t}),Object(se["a"])(oe,ue.SET_PLAYING,function(e,t){e.playing=t}),Object(se["a"])(oe,ue.SET_MESH_IMPOSTORS,function(e,t){e.physicsImpostors=t}),Object(se["a"])(oe,ue.UPDATE_MESH_IMPOSTORS,function(e,t){e.physicsImpostors.push(t)}),Object(se["a"])(oe,ue.SET_GRAVITY,function(e,t){e.gravity=t}),Object(se["a"])(oe,ue.SET_GRAVITY_AXIS,function(e,t){e.gravityAxis=t}),Object(se["a"])(oe,ue.SET_PHYSICS_IMPOSTOR,function(e,t){e.physicsImpostor=t}),Object(se["a"])(oe,ue.SET_DRAG_BEHAVIOUR,function(e,t){e.dragBehaviour=t}),Object(se["a"])(oe,ue.SET_LAST_POSITION,function(e,t){e.lastPosition=t}),Object(se["a"])(oe,ue.SET_DELETED_MESH,function(e,t){e.deletedMesh=t}),Object(se["a"])(oe,ue.UPDATE_MESH_AXIS,function(e,t){e.meshAxis.push(t)}),Object(se["a"])(oe,ue.DELETE_MESH_AXIS,function(e,t){e.meshAxis=e.meshAxis.filter(function(e){return e.mesh!==t})}),Object(se["a"])(oe,ue.UPDATE_PHYSICS,function(e,t){e.physics.push(t)}),Object(se["a"])(oe,ue.UPDATE_MESH_PHYSICS,function(e,t){var i=e.physics.find(function(e){return e.name===t.mesh}).physic,s=i.filter(function(e){return e.name===t.physic.name});for(var a in s)switch(s[a].name){case"Brzina":if(s[a].properties.axis===t.physic.properties.axis)return void(s[a].properties.value=t.physic.properties.value);break;default:break}i.push(t.physic)}),Object(se["a"])(oe,ue.REMOVE_MESH_PHYSIC,function(e,t){var i=e.physics.find(function(e){return e.name===t.mesh}).physic,s=i.filter(function(e){return e.name===t.physic.name}),a=function(){for(var e in s)switch(s[e].name){case"Brzina":if(s[e].properties.axis===t.physic.properties.axis)return s[e];break;default:break}},n=function(e,t){return e.filter(function(e){return e!=t})},r=a();r&&(i=n(i,r),e.physics.find(function(e){return e.name===t.mesh}).physic=i)}),Object(se["a"])(oe,ue.DELETE_MESH_PHYSICS,function(e,t){e.physics=e.physics.filter(function(e){return e.name!==t})}),Object(se["a"])(oe,ue.UPDATE_LOGS,function(e,t){e.logs.push(t)}),Object(se["a"])(oe,ue.SET_MESH_LOGS,function(e,t){var i=e.logs.find(function(e){return e.name===t.mesh}).log;i.push(t.log)}),Object(se["a"])(oe,ue.UPDATE_MESH_LOGS,function(e,t){var i=function(e,t){return e.filter(function(e){return e!=t})},s=e.logs.find(function(e){return e.name===t.mesh}).log,a=s.filter(function(e){return e.type===t.log.type}),n=a.find(function(e){return e.key===t.log.key});if("physics"===n.type)switch(n.key){case"velocity":n=a.find(function(e){return e.properties.axis===t.log.properties.axis&&e.properties.time.start===t.log.properties.time.start});break;default:break}var r=i(s,n);r.push(t.log),e.logs.find(function(e){return e.name===t.mesh}).log=r}),Object(se["a"])(oe,ue.DELETE_MESH_LOGS,function(e,t){e.logs=e.logs.filter(function(e){return e.name!==t})}),Object(se["a"])(oe,ue.SET_LOADING,function(e,t){e.loading=t}),Object(se["a"])(oe,ue.SET_EXPERIMENTS,function(e,t){e.experiments=t}),Object(se["a"])(oe,ue.SET_EXPERIMENT_MESHES,function(e,t){e.experimentMeshes=t}),Object(se["a"])(oe,ue.SET_EXPERIMENT,function(e,t){e.experiment=t}),Object(se["a"])(oe,ue.SET_HOME_EXPERIMENTS,function(e,t){e.homeExperiments=t}),oe),me={createWalls:function(e){var t=e.state,i=e.commit,s=(e.dispatch,e.rootState,t.scene),a=t.ground,n=new BABYLON.MeshBuilder.CreateGround("northWall",{width:20*a.scaling.x,height:20*a.scaling.z},s);n.position.z=10*a.scaling.z,n.position.y=9,n.rotation.x=-Math.PI/2,n.physicsImpostor=new BABYLON.PhysicsImpostor(n,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,friction:a.physicsImpostor.friction,restitution:a.physicsImpostor.restitution},s),n.visibility=!1;var r=new BABYLON.MeshBuilder.CreateGround("westWall",{width:20*a.scaling.x,height:20*a.scaling.z},s);r.position.x=-10*a.scaling.x,r.position.y=9,r.rotation.z=-Math.PI/2,r.physicsImpostor=new BABYLON.PhysicsImpostor(r,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,friction:a.physicsImpostor.friction,restitution:a.physicsImpostor.restitution},s),r.visibility=!1;var o=new BABYLON.MeshBuilder.CreateGround("eastWall",{width:20*a.scaling.x,height:20*a.scaling.z},s);o.position.x=10*a.scaling.x,o.position.y=9,o.rotation.z=Math.PI/2,o.physicsImpostor=new BABYLON.PhysicsImpostor(o,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,friction:a.physicsImpostor.friction,restitution:a.physicsImpostor.restitution},s),o.visibility=!1;var c=new BABYLON.MeshBuilder.CreateGround("southWall",{width:20*a.scaling.x,height:20*a.scaling.z},s);c.position.z=-10*a.scaling.z,c.position.y=9,c.rotation.x=Math.PI/2,c.physicsImpostor=new BABYLON.PhysicsImpostor(c,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,friction:a.physicsImpostor.friction,restitution:a.physicsImpostor.restitution},s),c.visibility=!1,i(ue.SET_WALLS,[n,r,o,c])},deleteWalls:function(e){var t=e.state,i=e.commit,s=(e.dispatch,e.rootState,t.walls);for(var a in s)s[a].dispose();i(ue.SET_WALLS,[])},createExperiment:function(e,t){var i=e.state,s=e.commit;e.dispatch,e.rootState;return new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a,n){var r,o,c,l,u,h,m,d,f,v,g,b,x,y,_,k,S,E,C,w,O,T,j,M,A;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s(ue.SET_LOADING,!0),r={picture:t.picture,title:t.title,description:t.description,createdById:t.createdBy.id,createdBy:t.createdBy},e.next=5,re.createExperiment(r);case 5:return o=e.sent,c={picture:t.picture,id:o,title:t.title,description:t.description,createdBy:t.createdBy},s(ue.SET_EXPERIMENT,c),l={friction:i.ground.physicsImpostor.friction,restitution:i.ground.physicsImpostor.restitution,walls:i.walls.length>0,axis:i.axis.length>0,gravity:{axis:i.gravityAxis,x:i.gravity.x,y:i.gravity.y,z:i.gravity.z},size:{x:i.ground.scaling.x,y:i.ground.scaling.y,z:i.ground.scaling.z},experimentId:o},e.next=11,re.createSettings(l);case 11:u=i.meshes,h=[],e.t0=regeneratorRuntime.keys(u);case 14:if((e.t1=e.t0()).done){e.next=43;break}return m=e.t1.value,d=u[m],f=i.scene.getMeshByName(d),v=null,g=!0,f.physicsImpostor.isDisposed?(g=!1,v=i.physicsImpostors.find(function(e){return e.name==d})):v=f.physicsImpostor,b=v.type,x={name:d,experiment:{id:o},type:b},e.next=25,ce.createMesh(x);case 25:return y=e.sent,_=f.scaling,k=f.position,S=f.rotationQuaternion.toEulerAngles(),E=v.mass,C=v.friction,w=v.restitution,O=Math.PI,T=f.material.diffuseColor,j=!1,M=g?v.getLinearVelocity():v.velocity,i.meshAxis.length>0&&(A=i.meshAxis.find(function(e){return e.mesh===d}),A&&(j=!0)),l={axis:j,mass:E,friction:C,restitution:w,size:{x:_.x,y:_.y,z:_.z},position:{x:k.x,y:k.y,z:k.z},rotation:{x:S.x*(180/O),y:S.y*(180/O),z:S.z*(180/O)},color:{r:T.r,g:T.g,b:T.b},velocity:{x:M.x,y:M.y,z:M.z},meshId:y},e.next=40,ce.createSettings(l);case 40:h.push(Object(p["a"])({},x,{settings:l})),e.next=14;break;case 43:s(ue.SET_EXPERIMENT_MESHES,h),a(),e.next=50;break;case 47:e.prev=47,e.t2=e["catch"](0),n(e.t2);case 50:return e.prev=50,s(ue.SET_LOADING,!1),e.finish(50);case 53:case"end":return e.stop()}},e,null,[[0,47,50,53]])}));return function(t,i){return e.apply(this,arguments)}}())},updateExperiment:function(e,t){var i=e.state,s=e.commit;e.dispatch,e.rootState;return new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a,n){var r,o,c,l,u,h,m,d,f,v,g,b,x,y,_,k,S,E,C,w,O,T,j,M,A,P,B,L,I,N,z;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s(ue.SET_LOADING,!0),r={picture:t.picture,title:t.title,description:t.description,createdBy:t.createdBy,id:t.id},e.next=5,re.updateExperiment(r);case 5:return o={picture:t.picture,id:t.id,title:t.title,description:t.description,createdBy:t.createdBy},s(ue.SET_EXPERIMENT,o),c={friction:i.ground.physicsImpostor.friction,restitution:i.ground.physicsImpostor.restitution,walls:i.walls.length>0,axis:i.axis.length>0,gravity:{axis:i.gravityAxis,x:i.gravity.x,y:i.gravity.y,z:i.gravity.z},size:{x:i.ground.scaling.x,y:i.ground.scaling.y,z:i.ground.scaling.z},experimentId:t.id},e.next=10,re.updateSettings(c);case 10:l=i.meshes,u=[],e.t0=regeneratorRuntime.keys(l);case 13:if((e.t1=e.t0()).done){e.next=60;break}if(h=e.t1.value,m=l[h],d=i.scene.getMeshByName(m),f=null,v=!0,d.physicsImpostor.isDisposed?(v=!1,f=i.physicsImpostors.find(function(e){return e.name==m})):f=d.physicsImpostor,g=f.type,b={name:m,experiment:{id:t.id},type:g},x=null,y=!1,_=i.experimentMeshes.find(function(e){return e.name===b.name}),!_){e.next=33;break}return k={name:m,experiment:{id:t.id},type:g,id:_.id},e.next=29,ce.updateMesh(k);case 29:x=k.id,y=!0,e.next=37;break;case 33:return e.next=35,ce.createMesh(b);case 35:x=e.sent,y=!1;case 37:if(S=d.scaling,E=d.position,C=d.rotationQuaternion.toEulerAngles(),w=f.mass,O=f.friction,T=f.restitution,j=Math.PI,M=d.material.diffuseColor,A=!1,P=v?f.getLinearVelocity():f.velocity,i.meshAxis.length>0&&(B=i.meshAxis.find(function(e){return e.mesh===m}),B&&(A=!0)),c={axis:A,mass:w,friction:O,restitution:T,size:{x:S.x,y:S.y,z:S.z},position:{x:E.x,y:E.y,z:E.z},rotation:{x:C.x*(180/j),y:C.y*(180/j),z:C.z*(180/j)},color:{r:M.r,g:M.g,b:M.b},velocity:{x:P.x,y:P.y,z:P.z},meshId:x},!y){e.next=55;break}return L=Object(p["a"])({},c,{id:_.settings.id}),e.next=53,ce.updateSettings(L);case 53:e.next=57;break;case 55:return e.next=57,ce.createSettings(c);case 57:u.push(Object(p["a"])({},b,{settings:c})),e.next=13;break;case 60:I=i.experimentMeshes,e.t2=regeneratorRuntime.keys(I);case 62:if((e.t3=e.t2()).done){e.next=71;break}if(h=e.t3.value,N=I[h],z=l.find(function(e){return e===N.name}),void 0!==z){e.next=69;break}return e.next=69,ce.deleteMesh(N.id);case 69:e.next=62;break;case 71:s(ue.SET_EXPERIMENT_MESHES,u),a(),e.next=78;break;case 75:e.prev=75,e.t4=e["catch"](0),n(e.t4);case 78:return e.prev=78,s(ue.SET_LOADING,!1),e.finish(78);case 81:case"end":return e.stop()}},e,null,[[0,75,78,81]])}));return function(t,i){return e.apply(this,arguments)}}())},getByUser:function(e,t){e.state;var i=e.commit;e.dispatch,e.rootState;return new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(s,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i(ue.SET_LOADING,!0),e.next=4,re.getByUser(t);case 4:n=e.sent,i(ue.SET_EXPERIMENTS,n),s(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),a(e.t0);case 12:return e.prev=12,i(ue.SET_LOADING,!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,i){return e.apply(this,arguments)}}())},getExperiment:function(e,t){e.state;var i=e.commit;e.dispatch,e.rootState;return new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(s,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i(ue.SET_LOADING,!0),e.next=4,re.getById(t);case 4:n=e.sent,i(ue.SET_EXPERIMENT,n),s(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),a(e.t0);case 12:return e.prev=12,i(ue.SET_LOADING,!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,i){return e.apply(this,arguments)}}())},getMeshes:function(e,t){e.state;var i=e.commit;e.dispatch,e.rootState;return new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(s,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i(ue.SET_LOADING,!0),e.next=4,ce.getByExperiment(t);case 4:n=e.sent,i(ue.SET_EXPERIMENT_MESHES,n),s(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),a(e.t0);case 12:return e.prev=12,i(ue.SET_LOADING,!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,i){return e.apply(this,arguments)}}())},checkAvailability:function(e,t){e.state;var i=e.commit;e.dispatch,e.rootState;return new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(s,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i(ue.SET_LOADING,!0),e.next=4,re.checkAvailability(t);case 4:n=e.sent,s(n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),a(e.t0);case 11:return e.prev=11,i(ue.SET_LOADING,!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t,i){return e.apply(this,arguments)}}())},deleteExperiment:function(e,t){e.state;var i=e.commit;e.dispatch,e.rootState;return new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(s,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i(ue.SET_LOADING,!0),e.next=4,re.deleteExperiment(t);case 4:s(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),a(e.t0);case 10:return e.prev=10,i(ue.SET_LOADING,!1),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,7,10,13]])}));return function(t,i){return e.apply(this,arguments)}}())},getExperimentsAsync:function(e){e.state;var t=e.commit;e.dispatch,e.rootState;return new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(i,s){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t(ue.SET_LOADING,!0),e.next=4,re.getExperiments();case 4:a=e.sent,t(ue.SET_HOME_EXPERIMENTS,a),i(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),s(e.t0);case 12:return e.prev=12,t(ue.SET_LOADING,!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,i){return e.apply(this,arguments)}}())}},de={namespaced:!0,state:pe,getters:le,actions:me,mutations:he};ne.a.defaults.headers.post["Content-Type"]="application/json",ne.a.defaults.headers.put["Content-Type"]="application/json";var fe,ve={createUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("/api/user",{password:t.password,email:t.email,firstName:t.firstName,lastName:t.lastName,occupation:t.occupation});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),checkAvailability:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("/api/user/check-availability",{password:t.password,email:t.email,firstName:t.firstName,lastName:t.lastName,occupation:t.occupation});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),authenticate:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("/api/user/authenticate",{password:t.password,email:t.email});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),retrieveUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/user/token",{params:{token:t}});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/user/logout",{params:{token:t}});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),organizationData:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/user/organization-data");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),getUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/user/".concat(t));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getUsers:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("/api/user");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},ge={isLoggedIn:function(e){return null!=e.token},organizationUrl:function(e){return e.organizationData.organizationUrl},getUsers:function(e){return e.user?e.users.filter(function(t){return t.id!=e.user.id}):e.users}},be={SET_LOADING:"SET_LOADING",SET_USER:"SET_USER",SET_TOKEN:"SET_TOKEN",SET_ORGANIZATION_DATA:"SET_ORGANIZATION_DATA",SET_PROFILE:"SET_PROFILE",SET_USERS:"SET_USERS"},xe={loading:!1,user:null,organizationData:null,token:localStorage.getItem("token")||null,profile:null,users:[]},ye=(fe={},Object(se["a"])(fe,be.SET_LOADING,function(e,t){e.loading=t}),Object(se["a"])(fe,be.SET_USER,function(e,t){e.user=t}),Object(se["a"])(fe,be.SET_TOKEN,function(e,t){e.token=t}),Object(se["a"])(fe,be.SET_ORGANIZATION_DATA,function(e,t){e.organizationData=t}),Object(se["a"])(fe,be.SET_PROFILE,function(e,t){e.profile=t}),Object(se["a"])(fe,be.SET_USERS,function(e,t){e.users=t}),fe),_e={createUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,i){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.state,s=t.commit,t.dispatch,t.rootState,e.abrupt("return",new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s(be.SET_LOADING,!0),e.next=4,ve.createUser(i);case 4:n=e.sent,s(be.SET_USER,n),t(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),a(e.t0);case 12:return e.prev=12,s(be.SET_LOADING,!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,i){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),authenticate:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,i){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.state,s=t.commit,t.dispatch,t.rootState,e.abrupt("return",new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s(be.SET_LOADING,!0),e.next=4,ve.authenticate(i);case 4:n=e.sent,n||t(!1),s(be.SET_USER,n),r=n.token,localStorage.setItem("token",r),s(be.SET_TOKEN,r),t(!0),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),a(e.t0);case 16:return e.prev=16,s(be.SET_LOADING,!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,13,16,19]])}));return function(t,i){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),checkAvailability:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,i){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.state,s=t.commit,t.dispatch,t.rootState,e.abrupt("return",new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s(be.SET_LOADING,!0),e.next=4,ve.checkAvailability(i);case 4:n=e.sent,t(n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),a(e.t0);case 11:return e.prev=11,s(be.SET_LOADING,!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(t,i){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),retrieveUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.state,s=t.commit,t.dispatch,t.rootState,e.abrupt("return",new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,s(be.SET_LOADING,!0),n=i.token,null==n){e.next=8;break}return e.next=6,ve.retrieveUser(n);case 6:r=e.sent,s(be.SET_USER,r);case 8:t(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),a(e.t0);case 14:return e.prev=14,s(be.SET_LOADING,!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t,i){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,i){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.state,s=t.commit,t.dispatch,t.rootState,e.abrupt("return",new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s(be.SET_LOADING,!0),e.next=4,ve.getUser(i);case 4:n=e.sent,s(be.SET_PROFILE,n),t(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),a(e.t0);case 12:return e.prev=12,s(be.SET_LOADING,!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,i){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));function t(t,i){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.state,s=t.commit,t.dispatch,t.rootState,e.abrupt("return",new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,a){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s(be.SET_LOADING,!0),n=i.token,e.next=5,ve.logout(n);case 5:t(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),a(e.t0);case 11:return e.prev=11,localStorage.removeItem("token"),s(be.SET_TOKEN,null),s(be.SET_LOADING,!1),e.finish(11);case 16:case"end":return e.stop()}},e,null,[[0,8,11,16]])}));return function(t,i){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),retrieveOrganizationData:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.state,i=t.commit,t.dispatch,t.rootState,e.abrupt("return",new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,s){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.organizationData();case 3:a=e.sent,i(be.SET_ORGANIZATION_DATA,a),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),s(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,i){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getUsersAsync:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.state,i=t.commit,t.dispatch,t.rootState,e.abrupt("return",new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,s){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i(be.SET_LOADING,!0),e.next=4,ve.getUsers();case 4:a=e.sent,i(be.SET_USERS,a),t(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),s(e.t0);case 12:return e.prev=12,i(be.SET_LOADING,!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t,i){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},ke={namespaced:!0,state:xe,getters:ge,actions:_e,mutations:ye};r["default"].use(d["a"]);var Se=new d["a"].Store({getters:J,actions:a,mutations:ee,modules:{experiment:de,user:ke}}),Ee={create:function(e,t,i){var s=BABYLON.MeshBuilder.CreateCylinder(e.name,{height:1,diameter:1},i);return s.position.x=0,s.position.y=-.5,s.position.z=0,s.physicsImpostor=new BABYLON.PhysicsImpostor(s,BABYLON.PhysicsImpostor.CylinderImpostor,{mass:X()(e.mass),friction:X()(e.friction),restitution:X()(e.restitution)},i),s.material=t,s}},Ce={create:function(e,t,i,s){var a=null;switch(e){case q:a=K.create(t,i,s);break;case W:a=Z.create(t,i,s);break;case Q:a=Ee.create(t,i,s);break;default:return void console.error("Invalid type of mesh!")}var n=Se.state.experiment.playing;if(!1===n){var r={name:t.name,mass:t.mass,type:a.physicsImpostor.type,velocity:a.physicsImpostor.getLinearVelocity(),friction:a.physicsImpostor.friction,restitution:a.physicsImpostor.restitution};Se.commit("experiment/UPDATE_MESH_IMPOSTORS",r),a.physicsImpostor.dispose()}this.addMeshLabel(a),this.enableWallRestrictions(a);var o={name:t.name,physic:[]};Se.commit("experiment/UPDATE_PHYSICS",o);var c={name:t.name,log:[]};return Se.commit("experiment/UPDATE_LOGS",c),Se.commit("experiment/UPDATE_MESHES",a.name),a},delete:function(e,t){e.dispose(),Se.commit("experiment/DELETE_MESH",t),Se.commit("experiment/DELETE_MESH_PHYSICS",t),Se.commit("experiment/DELETE_MESH_AXIS",t),Se.commit("experiment/DELETE_MESH_LOGS",t)},findEmptyPosition:function(e){for(var t=Se.state.experiment.scene,i=Se.state.experiment.ground,s=i.getBoundingInfo().boundingBox.extendSize,a=1-s.z;a<=s.z-1;a+=.1)for(var n=1-s.x;n<=s.x-1;n+=.1)if(e.position.x=n,e.position.z=a,t.render(),!1===this.checkCollisions(e,e.name))return},addMeshLabel:function(e){var t=this.makeTextPlane(e.name,"white",1);t.position.y=e.position.y+e.scaling.y+1,t.parent=e},makeTextPlane:function(e,t,i){var s=Se.state.experiment.scene,a=new BABYLON.DynamicTexture("DynamicTexture",50,s,!0);a.hasAlpha=!0,a.drawText(e,0,40,"20px Arial",t,"transparent",!0);var n=new BABYLON.Mesh.CreatePlane("TextPlane",i,s,!0);return n.material=new BABYLON.StandardMaterial("TextPlaneMaterial",s),n.material.backFaceCulling=!1,n.material.specularColor=new BABYLON.Color3(0,0,0),n.material.diffuseTexture=a,n},toggleHightlight:function(e){var t=Se.state.experiment.highlight;t.hasMesh(e)?t.removeMesh(e):t.addMesh(e,BABYLON.Color3.Green())},addDragBehaviour:function(e,t,i){var s=Se.state.experiment.playing;if(!0===i){if(!0===s){var a={mass:e.physicsImpostor.mass,type:e.physicsImpostor.type,velocity:e.physicsImpostor.getLinearVelocity(),friction:e.physicsImpostor.friction,restitution:e.physicsImpostor.restitution};Se.commit("experiment/SET_PHYSICS_IMPOSTOR",a),e.physicsImpostor.dispose()}var n={x:e.position.x,y:e.position.y,z:e.position.z};Se.commit("experiment/SET_LAST_POSITION",n),Se.dispatch("experiment/deleteWalls")}var r=Se.state.experiment.dragBehaviour;this.removeDragBehaviours(e);var o=r[t];e.addBehavior(o)},removeDragBehaviours:function(e,t){var i=Se.state.experiment.dragBehaviour;i.forEach(function(t){e.removeBehavior(t)});var s=Se.state.experiment.playing;if(!0===t&&!0===s){if(!0===s){var a=Se.state.experiment.scene,n=Se.state.experiment.physicsImpostor;e.physicsImpostor=new BABYLON.PhysicsImpostor(e,n.type,{mass:n.mass,friction:n.friction,restitution:n.restitution},a),e.physicsImpostor.setLinearVelocity(new BABYLON.Vector3(X()(n.velocity.x),X()(n.velocity.y),X()(n.velocity.z))),Se.commit("experiment/SET_PHYSICS_IMPOSTOR",null)}Se.dispatch("experiment/createWalls")}},enableWallRestrictions:function(e){var t=Se.state.experiment.scene,i=Se.state.experiment.ground,s=i.getBoundingInfo().boundingBox.extendSize,a=e.getBoundingInfo().boundingBox.extendSize;s.x,a.x,s.z,a.z;t.registerBeforeRender(function(){Se.state.experiment.physicsImpostor;e.isDisposed()||e.position.y<-30&&(e.dispose(),Se.commit("experiment/DELETE_MESH",e.name),Se.commit("experiment/DELETE_MESH_PHYSICS",e.name),Se.commit("experiment/DELETE_MESH_AXIS",e.name),Se.commit("experiment/DELETE_MESH_LOGS",e.name),Se.commit("experiment/SET_DELETED_MESH",e.name))})},checkCollisions:function(e,t){var i=Se.state.experiment.meshes,s=i.filter(function(e){return e!=t});for(var a in s){var n=Se.getters["experiment/getMeshByName"](s[a]);if(e.intersectsMesh(n,!0))return!0}return!1},setMeshToLastPosition:function(e){var t=Se.state.experiment.lastPosition;e.position=t},getCollisions:function(e,t){var i=Se.state.experiment.meshes,s=i.filter(function(e){return e!=t}),a=[];for(var n in s){var r=Se.getters["experiment/getMeshByName"](s[n]),o=r.physicsImpostor;e.intersectsMesh(r,!1)&&!1===o.isDisposed&&a.push(s[n])}return a}},we={addPhysic:function(e,t){switch(t.name){case"Brzina":this.addVelocity(e,t.properties);break;default:break}},addVelocity:function(e,t){var i=Se.state.experiment.playing;if(!0===i)switch(t.axis){case 0:e.physicsImpostor.setLinearVelocity(new BABYLON.Vector3(X()(t.value),0,0));break;case 1:e.physicsImpostor.setLinearVelocity(new BABYLON.Vector3(0,X()(t.value),0));break;case 2:e.physicsImpostor.setLinearVelocity(new BABYLON.Vector3(0,0,X()(t.value)));break}else{var s=Se.state.experiment.physicsImpostors,a=s.find(function(t){return t.name===e.name}),n=Object(p["a"])({},a);switch(t.axis){case 0:n.velocity.x=X()(t.value);break;case 1:n.velocity.y=X()(t.value);break;case 2:n.velocity.z=X()(t.value);break}var r=function(e,t){return e.filter(function(e){return e!=t})};s=r(s,a),s.push(n),Se.commit("experiment/SET_MESH_IMPOSTORS",s)}}},Oe={toggleHighlight:function(e){Ce.toggleHightlight(e)},addDragBehaviour:function(e,t,i){Ce.addDragBehaviour(e,t,i)},removeDragBehaviours:function(e,t){Ce.removeDragBehaviours(e,t)},addMesh:function(e,t,i,s){return Ce.create(e,t,i,s)},findEmptyPosition:function(e){Ce.findEmptyPosition(e)},addPhysic:function(e,t){we.addPhysic(e,t)},checkCollisions:function(e,t){return Ce.checkCollisions(e,t)},getCollisions:function(e,t){return Ce.getCollisions(e,t)},setMeshToLastPosition:function(e){Ce.setMeshToLastPosition(e)},deleteMesh:function(e,t){Ce.delete(e,t)},togglePlay:function(e){if(!1===e){var t=Se.state.experiment.meshes,i=[];for(var s in t){var a=Se.getters["experiment/getMeshByName"](t[s]),n={name:t[s],mass:a.physicsImpostor.mass,type:a.physicsImpostor.type,velocity:a.physicsImpostor.getLinearVelocity(),friction:a.physicsImpostor.friction,restitution:a.physicsImpostor.restitution};i.push(n),a.physicsImpostor.dispose()}Se.commit("experiment/SET_MESH_IMPOSTORS",i)}else{var r=Se.state.experiment.scene,o=Se.state.experiment.ground,c={mass:o.physicsImpostor.mass,type:o.physicsImpostor.type,friction:o.physicsImpostor.friction,restitution:o.physicsImpostor.restitution};Se.dispatch("experiment/deleteWalls"),r.disablePhysicsEngine();var l=Se.state.experiment.gravity,u=new BABYLON.CannonJSPlugin;r.enablePhysics(l,u),o.physicsImpostor=new BABYLON.PhysicsImpostor(o,c.type,{mass:c.mass,friction:c.friction,restitution:c.restitution},r),Se.commit("experiment/SET_GROUND",o),Se.dispatch("experiment/createWalls");i=Se.state.experiment.physicsImpostors;for(var s in i){var p=Se.getters["experiment/getMeshByName"](i[s].name);p&&(p.physicsImpostor=new BABYLON.PhysicsImpostor(p,i[s].type,{mass:i[s].mass,friction:i[s].friction,restitution:i[s].restitution},r),p.physicsImpostor.setLinearVelocity(new BABYLON.Vector3(X()(i[s].velocity.x),X()(i[s].velocity.y),X()(i[s].velocity.z))))}}},showMeshAxis:function(e){var t=Se.getters["experiment/getMeshByName"](e),i=Se.state.experiment.scene,s=new BABYLON.Vector3.Zero,a=this.createAxis(s,2,i);for(var n in a)a[n].axis.parent=t,a[n].char.parent=t;var r={mesh:e,axis:a};Se.commit("experiment/UPDATE_MESH_AXIS",r)},deleteMeshAxis:function(e){var t=Se.state.experiment.meshAxis.find(function(t){return t.mesh===e});for(var i in t.axis){var s=t.axis[i].axis,a=t.axis[i].char;s.dispose(),a.dispose()}Se.commit("experiment/DELETE_MESH_AXIS",e)},showAxis:function(){var e=Se.state.experiment.scene,t=Se.state.experiment.ground,i=t.getBoundingInfo().boundingBox.extendSize,s=i.x,a=i.z,n=new BABYLON.Vector3(-s,-1,-a),r=this.createAxis(n,5,e);Se.commit("experiment/SET_AXIS",r)},removeAxis:function(){var e=Se.state.experiment.axis;for(var t in e){var i=e[t].axis,s=e[t].char;i.dispose(),s.dispose()}Se.commit("experiment/SET_AXIS",[])},createAxis:function(e,t,i){var s=function(e,t,i,s){var a=new BABYLON.DynamicTexture("DynamicTexture",50,s,!0);a.hasAlpha=!0,a.drawText(e,5,40,"bold 36px Arial",t,"transparent",!0);var n=new BABYLON.Mesh.CreatePlane("TextPlane",i,s,!0);return n.material=new BABYLON.StandardMaterial("TextPlaneMaterial",s),n.material.backFaceCulling=!1,n.material.specularColor=new BABYLON.Color3(0,0,0),n.material.diffuseTexture=a,n},a=BABYLON.Mesh.CreateLines("axisX",[e,new BABYLON.Vector3(e.x+t,e.y+0,e.z+0),new BABYLON.Vector3(e.x+.95*t,e.y+.05*t,e.z+0),new BABYLON.Vector3(e.x+t,e.y+0,e.z+0),new BABYLON.Vector3(e.x+.95*t,e.y+-.05*t,e.z+0)],i);a.color=new BABYLON.Color3(1,0,0);var n=s("X","red",t/10,i);n.position=new BABYLON.Vector3(e.x+.9*t,e.y+.05*t,e.z+0);var r=BABYLON.Mesh.CreateLines("axisY",[e,new BABYLON.Vector3(e.x+0,e.y+t,e.z+0),new BABYLON.Vector3(e.x+-.05*t,e.y+.95*t,e.z+0),new BABYLON.Vector3(e.x+0,e.y+t,e.z+0),new BABYLON.Vector3(e.x+.05*t,e.y+.95*t,e.z+0)],i);r.color=new BABYLON.Color3(0,1,0);var o=s("Y","green",t/10,i);o.position=new BABYLON.Vector3(e.x+0,e.y+.9*t,e.z+-.05*t);var c=BABYLON.Mesh.CreateLines("axisZ",[e,new BABYLON.Vector3(e.x+0,e.y+0,e.z+t),new BABYLON.Vector3(e.x+0,e.y+-.05*t,e.z+.95*t),new BABYLON.Vector3(e.x+0,e.y+0,e.z+t),new BABYLON.Vector3(e.x+0,e.y+.05*t,e.z+.95*t)],i);c.color=new BABYLON.Color3(0,0,1);var l=s("Z","blue",t/10,i);l.position=new BABYLON.Vector3(e.x+0,e.y+.05*t,e.z+.9*t);var u={axis:a,char:n},p={axis:r,char:o},h={axis:c,char:l},m=[u,p,h];return m},loadScene:function(e,t,i){for(var s in t){var a=t[s],n="";switch(a.type){case 2:n="BOX";break;case 1:n="SPHERE";break;case 7:n="CYLINDER";break;default:break}var r={name:a.name,mass:a.settings.mass,friction:a.settings.friction,restitution:a.settings.restitution},o=new BABYLON.StandardMaterial("material",e);o.diffuseColor=new BABYLON.Color3(a.settings.color.r,a.settings.color.g,a.settings.color.b);var c=this.addMesh(n,r,o,e);c.position.x=a.settings.position.x,c.position.y=a.settings.position.y,c.position.z=a.settings.position.z,1==a.settings.axis&&this.showMeshAxis(a.name);var l=Math.PI,u=a.settings.rotation.x*(l/180),p=a.settings.rotation.y*(l/180),h=a.settings.rotation.z*(l/180),m={x:u,y:p,z:h},d=new BABYLON.Quaternion.RotationYawPitchRoll(m.y,m.x,m.z);c.rotationQuaternion=d,c.scaling=new BABYLON.Vector3(a.settings.size.x,a.settings.size.y,a.settings.size.z),c.physicsImpostor.setLinearVelocity(new BABYLON.Vector3(X()(a.settings.velocity.x),X()(a.settings.velocity.y),X()(a.settings.velocity.z)));var f={mesh:a.name,log:{name:"Stvoren element",icon:"fas fa-plus",type:"life",key:a.name,description:"(".concat(a.name,")"),properties:{time:V()(),position:c.position}}};Se.commit("experiment/SET_MESH_LOGS",f)}Se.dispatch("experiment/deleteWalls"),Se.state.experiment.ground.scaling=new BABYLON.Vector3(X()(i.settings.size.x),X()(i.settings.size.y),X()(i.settings.size.z)),Se.state.experiment.ground.physicsImpostor.friction=i.settings.friction,Se.state.experiment.ground.physicsImpostor.restitution=i.settings.restitution,Se.dispatch("experiment/createWalls");var v=i.settings.gravity;Se.commit("experiment/SET_GRAVITY_AXIS",v.axis);var g=new BABYLON.Vector3(v.x,v.y,v.z);Se.commit("experiment/SET_GRAVITY",g),!1===i.settings.axis&&this.removeAxis(),!1===i.settings.walls&&Se.dispatch("experiment/deleteWalls")},createEmptyScene:function(e,t,i){var s=new BABYLON.Scene(t),a=new BABYLON.ArcRotateCamera("camera",0,0,30,BABYLON.Vector3.Zero(),s);a.attachControl(e,!0),a.setPosition(new BABYLON.Vector3(10,6,-20)),a.lowerRadiusLimit=15,a.upperRadiusLimit=35,a.wheelDeltaPercentage=.01,Se.commit("experiment/SET_CAMERA",a);var n=new BABYLON.HemisphericLight("hemLight1",new BABYLON.Vector3(-.5,1,.5),s);n.intensity=.3;var r=new BABYLON.HemisphericLight("hemLight2",new BABYLON.Vector3(.5,1,-.5),s);r.intensity=.3;var o=new BABYLON.Vector3(0,-9.81,0),c=new BABYLON.CannonJSPlugin;s.enablePhysics(o,c),Se.commit("experiment/SET_GRAVITY",o),Se.commit("experiment/SET_GRAVITY_AXIS",1);var l=new BABYLON.MeshBuilder.CreateBox("ground",{width:i,height:1,depth:i},s);l.position.y=-1.5,l.physicsImpostor=new BABYLON.PhysicsImpostor(l,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,friction:.1,restitution:.9},s),Se.commit("experiment/SET_GROUND",l);var u=new BABYLON.HighlightLayer("highlight",s);Se.commit("experiment/SET_HIGHLIGHT",u),Se.commit("experiment/SET_CANVAS",e);var p=new BABYLON.PointerDragBehavior({dragAxis:new BABYLON.Vector3(1,0,0)});p.useObjectOrienationForDragging=!1;var h=new BABYLON.PointerDragBehavior({dragAxis:new BABYLON.Vector3(0,1,0)});h.useObjectOrienationForDragging=!1;var m=new BABYLON.PointerDragBehavior({dragAxis:new BABYLON.Vector3(0,0,1)});m.useObjectOrienationForDragging=!1,Se.commit("experiment/SET_DRAG_BEHAVIOUR",[p,h,m]);var d=l.getBoundingInfo().boundingBox.extendSize,f=d.x,v=d.z,g=new BABYLON.Vector3(-f,-1,-v),b=this.createAxis(g,5,s);return Se.commit("experiment/SET_AXIS",b),Se.commit("experiment/SET_PLAYING",!0),s}},Te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"menu"}},[i("aside",{staticClass:"menu"},[i("transition",{attrs:{mode:"out-in"}},[e.isMenu?i("div",[i("p",{staticClass:"menu-label"},[i("a",{staticClass:"button icon-btn",on:{click:e.changeMenu}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-ellipsis-h"})])])]),e._l(e.menus,function(t,s){return i("div",{key:s,staticClass:"menu-group"},[i("p",{staticClass:"menu-label"},[e._v(e._s(t.name))]),i("ul",{staticClass:"menu-list"},e._l(t.menus,function(s,a){return i("li",{key:a},[i("a",{class:{"is-active":e.activeMenu.name==s.name},on:{click:function(i){return e.changeMenu({groupName:t.name,menuName:s.name})}}},[e._v(e._s(s.name))])])}),0)])})],2):i("p",[i("span",[i("div",{staticClass:"is-flex"},[i("p",{staticClass:"menu-label"},[i("a",{staticClass:"button icon-btn",on:{click:e.changeMenu}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-ellipsis-v"})])])]),i("p",{staticClass:"menu-label"},[e._v(e._s(e.activeMenu.name))])]),i(e.activeMenu.component,{tag:"component",on:{changeMenu:e.changeMenu,notification:e.notification,error:e.error,unlockPlaying:e.unlockPlaying,lockPlaying:e.lockPlaying}})],1)])])],1)])},je=[],Me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"novi-element"}},[0===e.stage?i("div",{staticClass:"first-stage"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Postavke")]),i("b-field",{attrs:{type:e.errors.has("mesh")?"is-danger":""}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:4",expression:"'required|max:4'"}],attrs:{placeholder:"Naziv",icon:"signature",name:"mesh",maxlength:"4"},model:{value:e.properties.name,callback:function(t){e.$set(e.properties,"name",t)},expression:"properties.name"}})],1),i("b-field",{attrs:{type:e.errors.has("mass")?"is-danger":""}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal|min_value:0.01",expression:"'required|decimal|min_value:0.01'"}],attrs:{placeholder:"Masa",icon:"weight-hanging",name:"mass",expanded:""},model:{value:e.properties.mass,callback:function(t){e.$set(e.properties,"mass",t)},expression:"properties.mass"}}),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[e._v("kg")])])],1),i("b-field",[i("my-color-picker",{on:{input:e.updateColor}})],1),i("b-field",[i("b-tooltip",{attrs:{type:"is-black",label:"Faktor trenja"}},[i("b-numberinput",{attrs:{step:.01,min:0,"controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1,expanded:""},model:{value:e.properties.friction,callback:function(t){e.$set(e.properties,"friction",t)},expression:"properties.friction"}})],1),i("b-icon",{staticClass:"margin-5px",attrs:{icon:"road"}})],1),i("b-field",[i("b-tooltip",{attrs:{type:"is-black",label:"Koeficijent elastičnosti"}},[i("b-numberinput",{attrs:{step:.01,min:0,max:1,"controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1,expanded:""},model:{value:e.properties.restitution,callback:function(t){e.$set(e.properties,"restitution",t)},expression:"properties.restitution"}})],1),i("b-icon",{staticClass:"margin-5px",attrs:{icon:"expand-arrows-alt"}})],1)],1),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Vrsta oblika")]),i("div",{staticClass:"control is-flex"},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.meshType,expression:"meshType"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.meshType=t.target.multiple?i:i[0]}}},e._l(e.meshTypes,function(t){return i("option",{key:t,domProps:{value:t}},[e._v(e._s(e._f("translateMeshType")(t)))])}),0)]),i("div",{staticClass:"control margin-left"},[i("button",{staticClass:"button is-success",on:{click:e.addMesh}},[e._m(0),i("span",[e._v("Dodaj")])])])])])]):e._e(),1===e.stage?i("div",{staticClass:"second-stage"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Pozicioniranje")]),i("p",[e._v("Smjestite element na sceni tako da nije u dodiru s drugima. Prilikom pozicioniranja fizika elementa je isključena.")]),i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:e.axis,callback:function(t){e.axis=t},expression:"axis"}},[e._v("x")]),i("b-radio",{attrs:{"native-value":1},model:{value:e.axis,callback:function(t){e.axis=t},expression:"axis"}},[e._v("y")]),i("b-radio",{attrs:{"native-value":2},model:{value:e.axis,callback:function(t){e.axis=t},expression:"axis"}},[e._v("z")])],1)]),i("div",{staticClass:"control is-flex"},[i("div",{staticClass:"control margin-right"},[i("button",{staticClass:"button",on:{click:e.back}},[e._m(1),i("span",[e._v("Nazad")])])]),i("div",{staticClass:"control margin-left"},[e.hasCollisions?i("b-tooltip",{attrs:{type:"is-black",label:"Postoje kolizije!"}},[i("button",{staticClass:"button is-success",attrs:{disabled:""}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})]),i("span",[e._v("Dodaj")])])]):i("button",{staticClass:"button is-success",on:{click:e.finish}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})]),i("span",[e._v("Dodaj")])])],1)])]):e._e(),i("b-loading",{attrs:{"is-full-page":!0,active:e.isLoading}},[i("b-icon",{attrs:{pack:"fas",icon:"sync-alt",size:"is-medium","custom-class":"fa-spin"}}),i("h1",{staticClass:"title is-4 loading-title"},[e._v("Kreiranje i postavljanje elementa na scenu.")])],1)],1)},Ae=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left"})])}],Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"my-color-picker"}},[i("div",{staticClass:"is-flex top-padding"},[i("b-input",{attrs:{placeholder:"Boja",value:e.color,disabled:""}}),i("button",{staticClass:"button disabled",style:{"background-color":e.color}}),i("div",{staticClass:"control margin-left"},[i("button",{staticClass:"button is-warning",on:{click:function(t){e.isPickerActive=!0}}},[e._m(0)])])],1),i("b-modal",{attrs:{active:e.isPickerActive,scroll:"keep",width:"225px"},on:{"update:active":function(t){e.isPickerActive=t}}},[i("color-picker",{staticClass:"color-picker",attrs:{value:e.color},on:{input:e.updateColor}})],1)],1)},Be=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-palette"})])}],Le=i("c345"),Ie={name:"MyColorPicker",data:function(){return{color:"#284E7B",isPickerActive:!1}},components:{ColorPicker:Le["Chrome"]},methods:{updateColor:function(e){this.color=e.hex,this.$emit("input",this.color)}}},Ne=Ie,ze=(i("2733"),Object(g["a"])(Ne,Pe,Be,!1,null,"160c112d",null)),Re=ze.exports,De=i("5118"),$e={name:"NoviElement",data:function(){return{isLoading:!1,meshType:q,meshTypes:s,mesh:null,stage:0,axis:0,hasCollisions:!1,isSuccess:!1,properties:{name:"",mass:1,friction:.1,restitution:.5},color:"#284E7B"}},beforeDestroy:function(){1!==this.stage||this.isSuccess||(this.$emit("unlockPlaying"),this.deleteMesh(),this.error("Element nije uspješno dodan!"))},components:{MyColorPicker:Re},computed:Object(p["a"])({},Object(d["c"])({getMeshByName:"experiment/getMeshByName"}),Object(d["d"])({existingMeshes:function(e){return e.experiment.meshes}}),{scene:{get:function(){return this.$store.state.experiment.scene},set:function(e){this.$store.commit("experiment/SET_SCENE",e)}}}),filters:{translateMeshType:function(e){switch(e){case"BOX":return"Kocka";case"SPHERE":return"Kugla";case"CYLINDER":return"Valjak";default:return}}},methods:{togglePicker:function(){this.isPickerActive=!this.isPickerActive},updateColor:function(e){this.color=e},deleteMesh:function(){Oe.deleteMesh(this.getMeshByName(this.mesh),this.mesh)},checkCollisions:function(){if(1===this.stage){var e=this.getMeshByName(this.mesh);e&&(this.hasCollisions=Oe.checkCollisions(e,this.mesh))}},back:function(){this.$emit("unlockPlaying"),this.deleteMesh(),this.stage=0},finish:function(){var e=this.getMeshByName(this.mesh);Oe.toggleHighlight(e),Oe.removeDragBehaviours(e,!0);var t={mesh:this.mesh,log:{name:"Stvoren element",icon:"fas fa-plus",type:"life",key:this.mesh,description:"(".concat(this.mesh,")"),properties:{time:V()(),position:e.position}}};this.$store.commit("experiment/SET_MESH_LOGS",t),this.isSuccess=!0,this.$emit("unlockPlaying"),this.notification("Uspješno ste stvorili novi element: ".concat(this.mesh)),this.$emit("changeMenu",{groupName:null,menuName:null})},validate:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:return t=e.sent,e.abrupt("return",0==this.errors.any()&&t);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addMesh:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i,s,a,r,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:if(!this.getMeshByName(this.properties.name)){e.next=9;break}return this.errors.add({field:"mesh",msg:"Već postoji element s tim nazivom!"}),this.error("Već postoji element s nazivom: ".concat(this.properties.name)),e.abrupt("return");case 9:return i=H.hexToColor3(this.color),s=new BABYLON.StandardMaterial("material",this.scene),s.diffuseColor=new BABYLON.Color3(i[0],i[1],i[2]),a=Oe.addMesh(this.meshType,this.properties,s,this.scene),this.mesh=a.name,this.stage=1,Oe.toggleHighlight(this.getMeshByName(this.mesh)),setInterval(function(){o.checkCollisions()},1),Oe.addDragBehaviour(this.getMeshByName(this.mesh),this.axis,!0),r=function(){return new ie.a(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:Oe.findEmptyPosition(a),t();case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},this.isLoading=!0,e.next=22,r();case 22:this.isLoading=!1,this.$emit("lockPlaying");case 24:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),notification:function(e){this.$emit("notification",e)},error:function(e){this.$emit("error",e)}},watch:{axis:function(){1===this.stage&&Oe.addDragBehaviour(this.getMeshByName(this.mesh),this.axis)}}},Ge=$e,Ye=(i("8165"),Object(g["a"])(Ge,Me,Ae,!1,null,"2b8040b0",null)),He=Ye.exports,Ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"uredi-element"}},[null==e.currentMesh?i("div",{staticClass:"field"},[i("p",[e._v("Trenutno ne postoje elementi na sceni.")]),i("button",{staticClass:"button is-success",on:{click:function(t){return e.changeMenu("Općenito","Novi element")}}},[e._m(0),i("span",[e._v("Dodaj")])])]):i("div",{staticClass:"field"},[i("b-field",{attrs:{horizontal:"",label:"Element:"}},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.mesh,expression:"mesh"}],attrs:{disabled:e.isDrag||e.isScale},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.mesh=t.target.multiple?i:i[0]}}},e._l(e.existingMeshes,function(t){return i("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)])]),i("nav",{staticClass:"breadcrumb is-centered has-bullet-separator",attrs:{"aria-label":"breadcrumbs"}},[i("ul",[i("li",{class:{"is-active":0==e.group}},[i("a",{on:{click:function(t){return e.switchGroup(0)}}},[e._m(1),i("span",[e._v("Općenito")])])]),i("li",{class:{"is-active":1==e.group}},[i("a",{on:{click:function(t){return e.switchGroup(1)}}},[e._m(2),i("span",[e._v("Položaj")])])])])]),0==e.group?i("div",[i("div",{staticClass:"control is-flex"},[e._m(3),i("div",{staticClass:"control margin-left"},[i("b-tooltip",{attrs:{type:"is-black",label:"Uključi/Isključi prikaz lokalnih koordinatnih osi."}},[i("b-switch",{on:{input:e.switchAxis},model:{value:e.hasAxis,callback:function(t){e.hasAxis=t},expression:"hasAxis"}})],1)],1)]),i("div",{staticClass:"control is-flex"},[e._m(4),i("div",{staticClass:"control margin-left"},[i("b-tooltip",{attrs:{type:"is-black",label:"Uključi/Isključi podešavanje veličine elementa."}},[i("b-switch",{attrs:{disabled:e.isDrag||!e.isPlaying},on:{input:e.switchScale},model:{value:e.isScale,callback:function(t){e.isScale=t},expression:"isScale"}})],1)],1)]),i("b-field",{attrs:{horizontal:"",label:"x-os"}},[i("b-numberinput",{attrs:{step:.1,min:.1,max:5,"controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1,expanded:"",disabled:!e.isScale},model:{value:e.size.x,callback:function(t){e.$set(e.size,"x",t)},expression:"size.x"}})],1),i("b-field",{attrs:{horizontal:"",label:"y-os"}},[i("b-numberinput",{attrs:{step:.1,min:.1,max:5,"controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1,expanded:"",disabled:!e.isScale},model:{value:e.size.y,callback:function(t){e.$set(e.size,"y",t)},expression:"size.y"}})],1),i("b-field",{attrs:{horizontal:"",label:"z-os"}},[i("b-numberinput",{attrs:{step:.1,min:.1,max:5,"controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1,expanded:"",disabled:!e.isScale},model:{value:e.size.z,callback:function(t){e.$set(e.size,"z",t)},expression:"size.z"}})],1),i("div",{staticClass:"field"},[i("button",{staticClass:"button is-danger",attrs:{disabled:e.isDrag||!e.isPlaying||e.isScale},on:{click:e.deleteMesh}},[e._m(5),i("span",[e._v("Izbriši")])])])],1):e._e(),1==e.group?i("div",[i("div",{staticClass:"control is-flex"},[e._m(6),i("div",{staticClass:"control margin-left",staticStyle:{"text-align":"right"}},[e.hasCollisions&&e.isDrag?i("b-tooltip",{attrs:{type:"is-black",label:"Postoje kolizije!"}},[i("b-switch",{attrs:{disabled:""},model:{value:e.isDrag,callback:function(t){e.isDrag=t},expression:"isDrag"}})],1):i("b-switch",{on:{input:e.switchDrag},model:{value:e.isDrag,callback:function(t){e.isDrag=t},expression:"isDrag"}}),i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0,disabled:!e.isDrag},model:{value:e.axis,callback:function(t){e.axis=t},expression:"axis"}},[e._v("x")]),i("b-radio",{attrs:{"native-value":1,disabled:!e.isDrag},model:{value:e.axis,callback:function(t){e.axis=t},expression:"axis"}},[e._v("y")]),i("b-radio",{attrs:{"native-value":2,disabled:!e.isDrag},model:{value:e.axis,callback:function(t){e.axis=t},expression:"axis"}},[e._v("z")])],1)],1)]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Rotacija (os X)")]),i("b-field",[i("b-field",[i("b-tooltip",{attrs:{label:"Stupnjevi",type:"is-black"}},[i("b-input",{attrs:{type:"number"},on:{input:function(t){return e.setRotation(0)}},model:{value:e.rotation.x.d,callback:function(t){e.$set(e.rotation.x,"d",t)},expression:"rotation.x.d"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[e._v("°")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Minute",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"minutes",type:"number"},on:{input:function(t){return e.setRotation(0)}},model:{value:e.rotation.x.m,callback:function(t){e.$set(e.rotation.x,"m",t)},expression:"rotation.x.m"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[e._v("'")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Sekunde",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"seconds",type:"number"},on:{input:function(t){return e.setRotation(0)}},model:{value:e.rotation.x.s,callback:function(t){e.$set(e.rotation.x,"s",t)},expression:"rotation.x.s"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[e._v('"')])])],1),i("b-tooltip",{attrs:{label:"Resetiraj",type:"is-black"}},[i("button",{staticClass:"button is-warning",on:{click:function(t){return e.resetRotation(0)}}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-redo"})])])])],1)],1),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Rotacija (os Y)")]),i("b-field",[i("b-field",[i("b-tooltip",{attrs:{label:"Stupnjevi",type:"is-black"}},[i("b-input",{attrs:{type:"number"},on:{input:function(t){return e.setRotation(1)}},model:{value:e.rotation.y.d,callback:function(t){e.$set(e.rotation.y,"d",t)},expression:"rotation.y.d"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[e._v("°")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Minute",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"minutes",type:"number"},on:{input:function(t){return e.setRotation(1)}},model:{value:e.rotation.y.m,callback:function(t){e.$set(e.rotation.y,"m",t)},expression:"rotation.y.m"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[e._v("'")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Sekunde",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"seconds",type:"number"},on:{input:function(t){return e.setRotation(1)}},model:{value:e.rotation.y.s,callback:function(t){e.$set(e.rotation.y,"s",t)},expression:"rotation.y.s"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[e._v('"')])])],1),i("b-tooltip",{attrs:{label:"Resetiraj",type:"is-black"}},[i("button",{staticClass:"button is-warning",on:{click:function(t){return e.resetRotation(1)}}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-redo"})])])])],1)],1),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Rotacija (os Z)")]),i("b-field",[i("b-field",[i("b-tooltip",{attrs:{label:"Stupnjevi",type:"is-black"}},[i("b-input",{attrs:{type:"number"},on:{input:function(t){return e.setRotation(2)}},model:{value:e.rotation.z.d,callback:function(t){e.$set(e.rotation.z,"d",t)},expression:"rotation.z.d"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[e._v("°")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Minute",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"minutes",type:"number"},on:{input:function(t){return e.setRotation(2)}},model:{value:e.rotation.z.m,callback:function(t){e.$set(e.rotation.z,"m",t)},expression:"rotation.z.m"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[e._v("'")])])],1),i("b-field",[i("b-tooltip",{attrs:{label:"Sekunde",type:"is-black"}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min_value:0|max_value:59",expression:"'numeric|min_value:0|max_value:59'"}],attrs:{name:"seconds",type:"number"},on:{input:function(t){return e.setRotation(2)}},model:{value:e.rotation.z.s,callback:function(t){e.$set(e.rotation.z,"s",t)},expression:"rotation.z.s"}})],1),i("p",{staticClass:"control"},[i("span",{staticClass:"button is-static"},[e._v('"')])])],1),i("b-tooltip",{attrs:{label:"Resetiraj",type:"is-black"}},[i("button",{staticClass:"button is-warning",on:{click:function(t){return e.resetRotation(2)}}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-redo"})])])])],1)],1)]):e._e()],1)])},Ve=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon is-small"},[i("i",{staticClass:"fas fa-home",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon is-small"},[i("i",{staticClass:"fas fa-crosshairs",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[e._v("Koordinatne osi")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[e._v("Veličina")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-times"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[e._v("Pomakni")])])}],Fe=(i("c5f6"),{name:"UrediElement",data:function(){return{isDrag:!1,isScale:!1,hasCollisions:!1,myAxis:!1,axis:0,mesh:null,group:0,enter:{x:!0,y:!0,z:!0},size:{x:1,y:1,z:1},rotation:{x:{d:0,m:0,s:0},y:{d:0,m:0,s:0},z:{d:0,m:0,s:0}},physicsImpostor:null}},mounted:function(){var e=this,t=this.getMeshByName(this.mesh);this.size.x=t.scaling.x,this.size.y=t.scaling.y,this.size.z=t.scaling.z,setInterval(function(){e.setDMS(0),e.setDMS(1),e.setDMS(2)},1),setInterval(function(){e.checkCollisions()},1)},beforeDestroy:function(){this.isDrag&&(this.hasCollisions&&Oe.setMeshToLastPosition(this.getMeshByName(this.mesh)),this.$emit("unlockPlaying"),this.switchDrag()),this.isScale&&this.switchScale(!1),this.mesh&&Oe.toggleHighlight(this.getMeshByName(this.mesh))},computed:Object(p["a"])({},Object(d["c"])({getMeshByName:"experiment/getMeshByName"}),Object(d["d"])({existingMeshes:function(e){return e.experiment.meshes},meshAxis:function(e){return e.experiment.meshAxis},isPlaying:function(e){return e.experiment.playing},physicsImpostors:function(e){return e.experiment.physicsImpostors}}),{hasAxis:{get:function(){var e=this;if(0===this.meshAxis.length)return!1;var t=this.meshAxis.find(function(t){return t.mesh===e.mesh});return!!t},set:function(e){this.myAxis=e}},scene:{get:function(){return this.$store.state.experiment.scene},set:function(e){this.$store.commit("experiment/SET_SCENE",e)}},currentMesh:{get:function(){if(0===this.existingMeshes.length)return this.mesh=null,null;if(null==this.mesh){var e=this.existingMeshes.length;return e>0?(this.mesh=this.existingMeshes[e-1],this.mesh):null}return this.mesh},set:function(e){this.mesh=e}}}),methods:{deleteMesh:function(){var e=this.getMeshByName(this.mesh);Oe.deleteMesh(e,this.mesh),this.$store.commit("experiment/SET_DELETED_MESH",this.mesh)},setCurrentRotation:function(e,t){var i=this.getMeshByName(this.mesh),s=new BABYLON.Quaternion.RotationYawPitchRoll(t.y,t.x,t.z);i.rotationQuaternion=s,this.setDMS(e)},getCurrentRotation:function(e){var t=this.getMeshByName(this.mesh);if(void 0!=t)return this.radianToDegree(t.rotationQuaternion.toEulerAngles()[e])},setDMS:function(e){var t=0===e?"x":1===e?"y":"z",i=this.getCurrentRotation(t);if(void 0!=i){var s=i.toFixed(2);0==Math.abs(s).toFixed(2)&&(s=Math.abs(s)),this.rotation[t].d=Math.floor(s);var a=60*(s-this.rotation[t].d);this.rotation[t].m=Math.floor(a);var n=60*(a-this.rotation[t].m);this.rotation[t].s=Math.floor(n),60==this.rotation[t].s&&(this.rotation[t].s=0,this.rotation[t].m++),60==this.rotation[t].m&&(this.rotation[t].m=0,this.rotation[t].d++)}},degreeToRadian:function(e){var t=Math.PI;return e*(t/180)},radianToDegree:function(e){var t=Math.PI;return e*(180/t)},checkCollisions:function(){this.isDrag&&(this.hasCollisions=Oe.checkCollisions(this.getMeshByName(this.mesh),this.mesh))},switchDrag:function(e){var t="Pomicanje tijela (".concat(this.mesh,") je omogućeno.");e?(this.$emit("lockPlaying"),Oe.addDragBehaviour(this.getMeshByName(this.mesh),this.axis,!0)):(Oe.removeDragBehaviours(this.getMeshByName(this.mesh),!0),this.$emit("unlockPlaying"),t="Pomicanje tijela (".concat(this.mesh,"). je onemogućeno.")),this.notification(t)},setRotation:function(e){var t=this.degreeToRadian(Number(this.rotation.x.d)+Number(this.rotation.x.m)/60+Number(this.rotation.x.s)/3600),i=this.degreeToRadian(Number(this.rotation.y.d)+Number(this.rotation.y.m)/60+Number(this.rotation.y.s)/3600),s=this.degreeToRadian(Number(this.rotation.z.d)+Number(this.rotation.z.m)/60+Number(this.rotation.z.s)/3600),a={x:t,y:i,z:s};this.setCurrentRotation(e,a)},resetRotation:function(e){var t=0===e?"x":1===e?"y":"z";this.rotation[t].d=0,this.rotation[t].m=0,this.rotation[t].s=0,this.setRotation(e)},switchAxis:function(e){e?Oe.showMeshAxis(this.mesh):Oe.deleteMeshAxis(this.mesh)},switchGroup:function(e){1==e&&this.isScale&&(this.switchScale(!1),this.isScale=!1),this.group=e},switchScale:function(e){if(e){var t=this.getMeshByName(this.mesh);this.physicsImpostor={type:t.physicsImpostor.type,mass:t.physicsImpostor.mass,friction:t.physicsImpostor.friction,restitution:t.physicsImpostor.restitution}}else{t=this.getMeshByName(this.mesh);t.physicsImpostor=new BABYLON.PhysicsImpostor(t,this.physicsImpostor.type,{mass:this.physicsImpostor.mass,friction:this.physicsImpostor.friction,restitution:this.physicsImpostor.restitution},this.scene)}},notification:function(e){this.$emit("notification",e)},error:function(e){this.$emit("error",e)},changeMenu:function(e,t){this.$emit("changeMenu",{groupName:e,menuName:t})}},watch:{"size.x":function(e,t){if(this.enter.x)this.enter.x=!1;else if(t!=e&&this.isPlaying){var i=this.getMeshByName(this.mesh);i.scaling=new BABYLON.Vector3(this.size.x,this.size.y,this.size.z)}},"size.y":function(e,t){if(this.enter.y)this.enter.y=!1;else if(t!=e&&this.isPlaying){var i=this.getMeshByName(this.mesh);i.scaling=new BABYLON.Vector3(this.size.x,this.size.y,this.size.z)}},"size.z":function(e,t){if(this.enter.z)this.enter.z=!1;else if(t!=e&&this.isPlaying){var i=this.getMeshByName(this.mesh);i.scaling=new BABYLON.Vector3(this.size.x,this.size.y,this.size.z)}},axis:function(){this.isDrag&&Oe.addDragBehaviour(this.getMeshByName(this.mesh),this.axis)},mesh:function(e,t){if(t&&this.existingMeshes.length>0&&this.existingMeshes.includes(t)&&Oe.toggleHighlight(this.getMeshByName(t)),e){var i=this.getMeshByName(e);this.enter.x=!0,this.enter.y=!0,this.enter.z=!0,this.size.x=i.scaling.x,this.size.y=i.scaling.y,this.size.z=i.scaling.z,Oe.toggleHighlight(this.getMeshByName(e))}},existingMeshes:function(e,t){if(e.length>0&&!1===e.includes(this.mesh)){var i=e.length;this.mesh=e[i-1]}}}}),Xe=Fe,qe=Object(g["a"])(Xe,Ue,Ve,!1,null,"2d6a8545",null),We=qe.exports,Qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"radno-okruzenje"}},[i("div",{staticClass:"control is-flex"},[e._m(0),i("div",{staticClass:"control margin-left"},[i("b-tooltip",{attrs:{type:"is-black",label:"Uključi/Isključi prikaz globalnih koordinatnih osi."}},[i("b-switch",{on:{input:e.switchAxis},model:{value:e.hasAxis,callback:function(t){e.hasAxis=t},expression:"hasAxis"}})],1)],1)]),i("div",{staticClass:"control is-flex"},[e._m(1),i("div",{staticClass:"control margin-left"},[i("b-tooltip",{attrs:{type:"is-black",label:"Postavi/Izbriši zidove radnog okruženja."}},[i("b-switch",{attrs:{disabled:e.isScale},on:{input:e.switchWalls},model:{value:e.hasWalls,callback:function(t){e.hasWalls=t},expression:"hasWalls"}})],1)],1)]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Položaj kamere")]),i("div",{staticClass:"buttons"},[i("b-button",{staticClass:"is-success",attrs:{rounded:"","icon-left":"arrow-down"},on:{click:function(t){return e.cameraView("down")}}},[e._v("z-x")]),i("b-button",{staticClass:"is-success",attrs:{rounded:"","icon-left":"arrow-left"},on:{click:function(t){return e.cameraView("left")}}},[e._v("y-z")]),i("b-button",{staticClass:"is-success",attrs:{rounded:"","icon-left":"arrow-up"},on:{click:function(t){return e.cameraView("up")}}},[e._v("y-x")]),i("b-button",{staticClass:"is-success",attrs:{rounded:"","icon-left":"home"},on:{click:function(t){return e.cameraView("home")}}})],1)]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Faktori trenja")]),i("b-field",[i("b-tooltip",{attrs:{type:"is-black",label:"Faktor trenja podloge i zidova",position:"is-right"}},[i("b-numberinput",{attrs:{step:.01,min:"0","controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1},model:{value:e.friction,callback:function(t){e.friction=t},expression:"friction"}})],1),i("b-icon",{staticClass:"margin-5px",attrs:{icon:"road"}})],1)],1),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Koeficijenti elastičnosti")]),i("b-field",[i("b-tooltip",{attrs:{type:"is-black",label:"Koeficijent elastičnosti podloge i zidova",position:"is-right"}},[i("b-numberinput",{attrs:{step:.01,min:"0",max:"1","controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1},model:{value:e.restitution,callback:function(t){e.restitution=t},expression:"restitution"}})],1),i("b-icon",{staticClass:"margin-5px",attrs:{icon:"expand-arrows-alt"}})],1)],1),i("div",{staticClass:"control is-flex"},[e._m(2),i("div",{staticClass:"control margin-left",staticStyle:{"text-align":"right"}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0,disabled:e.isPlaying},model:{value:e.gravityAxis,callback:function(t){e.gravityAxis=t},expression:"gravityAxis"}},[e._v("x")]),i("b-radio",{attrs:{"native-value":1,disabled:e.isPlaying},model:{value:e.gravityAxis,callback:function(t){e.gravityAxis=t},expression:"gravityAxis"}},[e._v("y")]),i("b-radio",{attrs:{"native-value":2,disabled:e.isPlaying},model:{value:e.gravityAxis,callback:function(t){e.gravityAxis=t},expression:"gravityAxis"}},[e._v("z")])],1)])]),i("b-field",[i("b-numberinput",{attrs:{step:.01,"controls-position":"compact","controls-rounded":"",type:"is-success",disabled:e.isPlaying},model:{value:e.gravity,callback:function(t){e.gravity=t},expression:"gravity"}}),i("b-icon",{staticClass:"margin-5px",attrs:{icon:"apple-alt"}})],1),i("div",{staticClass:"control is-flex"},[e._m(3),i("div",{staticClass:"control margin-left"},[i("b-tooltip",{attrs:{type:"is-black",label:"Uključi/Isključi podešavanje veličine podloge."}},[i("b-switch",{attrs:{disabled:!e.isPlaying},on:{input:e.switchScale},model:{value:e.isScale,callback:function(t){e.isScale=t},expression:"isScale"}})],1)],1)]),i("b-field",{attrs:{horizontal:"",label:"x-os"}},[i("b-numberinput",{attrs:{step:.1,min:1,max:5,"controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1,expanded:"",disabled:!e.isScale},model:{value:e.size.x,callback:function(t){e.$set(e.size,"x",t)},expression:"size.x"}})],1),i("b-field",{attrs:{horizontal:"",label:"z-os"}},[i("b-numberinput",{attrs:{step:.1,min:1,max:5,"controls-position":"compact","controls-rounded":"",type:"is-success",editable:!1,expanded:"",disabled:!e.isScale},model:{value:e.size.z,callback:function(t){e.$set(e.size,"z",t)},expression:"size.z"}})],1)],1)},Ke=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[e._v("Koordinatne osi")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[e._v("Zidovi okruženja")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[e._v("Gravitacijska sila")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"control margin-right"},[i("label",{staticClass:"label"},[e._v("Veličina")])])}],Ze={name:"RadnoOkruzenje",data:function(){return{axis:!0,walls:!0,gravity:-9.81,gravityAxis:1,size:{x:1,y:1,z:1},enter:{x:!0,y:!0,z:!0},isScale:!1,physicsImpostor:null}},mounted:function(){this.gravityAxis=this.storeGravityAxis,0==this.gravityAxis?this.gravity=this.storeGravity.x:1==this.gravityAxis?this.gravity=this.storeGravity.y:this.gravity=this.storeGravity.z;var e=this.ground;this.size.x=e.scaling.x,this.size.y=e.scaling.y,this.size.z=e.scaling.z},beforeDestroy:function(){this.isScale&&this.switchScale(!1)},computed:Object(p["a"])({},Object(d["d"])({currentAxis:function(e){return e.experiment.axis},currentWalls:function(e){return e.experiment.walls},ground:function(e){return e.experiment.ground},camera:function(e){return e.experiment.camera},isPlaying:function(e){return e.experiment.playing},storeGravity:function(e){return e.experiment.gravity},storeGravityAxis:function(e){return e.experiment.gravityAxis}}),{hasAxis:{get:function(){return this.currentAxis.length>0},set:function(e){this.axis=e}},hasWalls:{get:function(){return this.currentWalls.length>0},set:function(e){this.walls=e}},friction:{get:function(){return this.ground.physicsImpostor.friction},set:function(e){this.ground.physicsImpostor.friction=e,this.deleteWalls(),this.createWalls()}},restitution:{get:function(){return this.ground.physicsImpostor.restitution},set:function(e){this.ground.physicsImpostor.restitution=e,this.deleteWalls(),this.createWalls()}},scene:{get:function(){return this.$store.state.experiment.scene},set:function(e){this.$store.commit("experiment/SET_SCENE",e)}}}),methods:Object(p["a"])({},Object(d["b"])({createWalls:"experiment/createWalls",deleteWalls:"experiment/deleteWalls"}),{switchAxis:function(e){e?Oe.showAxis():Oe.removeAxis()},switchWalls:function(e){e?this.createWalls():this.deleteWalls()},changeGravity:function(){var e=new BABYLON.Vector3(0==this.gravityAxis?this.gravity:0,1==this.gravityAxis?this.gravity:0,2==this.gravityAxis?this.gravity:0);this.$store.commit("experiment/SET_GRAVITY",e),this.$store.commit("experiment/SET_GRAVITY_AXIS",this.gravityAxis)},switchScale:function(e){if(e){var t=this.ground;this.physicsImpostor={type:t.physicsImpostor.type,mass:t.physicsImpostor.mass,friction:t.physicsImpostor.friction,restitution:t.physicsImpostor.restitution},this.deleteWalls()}else{t=this.ground;t.physicsImpostor=new BABYLON.PhysicsImpostor(t,this.physicsImpostor.type,{mass:this.physicsImpostor.mass,friction:this.physicsImpostor.friction,restitution:this.physicsImpostor.restitution},this.scene),this.createWalls()}},cameraView:function(e){switch(e){case"down":this.camera.setPosition(new BABYLON.Vector3(5,30,0));break;case"left":this.camera.setPosition(new BABYLON.Vector3(25,-.5,0));break;case"up":this.camera.setPosition(new BABYLON.Vector3(0,-.5,-25));break;case"home":this.camera.setPosition(new BABYLON.Vector3(10,6,-20));break;default:break}}}),watch:{gravity:function(){this.changeGravity()},gravityAxis:function(){this.changeGravity()},"size.x":function(e,t){if(this.enter.x)this.enter.x=!1;else if(t!=e&&this.isPlaying){var i=this.ground;i.scaling=new BABYLON.Vector3(this.size.x,this.size.y,this.size.z)}},"size.z":function(e,t){if(this.enter.z)this.enter.z=!1;else if(t!=e&&this.isPlaying){var i=this.ground;i.scaling=new BABYLON.Vector3(this.size.x,this.size.y,this.size.z)}}}},Je=Ze,et=Object(g["a"])(Je,Qe,Ke,!1,null,"f93b3208",null),tt=et.exports,it=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"fizika-elementa"}},[null==e.currentMesh?i("div",{staticClass:"field"},[i("p",[e._v("Trenutno ne postoje elementi na sceni.")]),i("button",{staticClass:"button is-success",on:{click:function(t){return e.changeMenu("Općenito","Novi element")}}},[e._m(0),i("span",[e._v("Dodaj")])])]):i("div",{staticClass:"field"},[i("b-field",{attrs:{horizontal:"",label:"Element:"}},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.mesh,expression:"mesh"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.mesh=t.target.multiple?i:i[0]}}},e._l(e.existingMeshes,function(t){return i("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)])]),i("button",{staticClass:"button is-link is-fullwidth is-outlined",on:{click:e.createPhysic}},[e._m(1),i("span",[e._v("Dodaj")])]),i("b-table",{staticClass:"my-table",attrs:{data:e.physic,hoverable:"",paginated:"","per-page":5,"pagination-simple":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[i("b-table-column",{attrs:{field:"name"}},[i("span",{staticClass:"icon"},[i("i",{class:t.row.icon})]),e._v("\n                    "+e._s(t.row.name)+"\n                    ("+e._s(e.physicInfo(t.row))+")\n                    "+e._s(t.row.description)+"\n                ")])]}}])},[i("template",{slot:"header"},[e._v("Fizička svojstva")]),i("template",{slot:"empty"},[i("section",{staticClass:"section"},[i("div",{staticClass:"content has-text-grey has-text-centered"},[i("p",[e._v("Ne postoji fizika odabranog elementa.")])])])])],2),e.selectedPhysic?i("b-modal",{attrs:{active:e.isModalActive,scroll:"keep",width:"350px"},on:{"update:active":function(t){e.isModalActive=t}}},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[e._v("Fizika")]),i("div",{staticClass:"select"},[i("b-select",{attrs:{icon:e.selectedPhysic.icon},model:{value:e.selectedPhysic,callback:function(t){e.selectedPhysic=t},expression:"selectedPhysic"}},e._l(e.physics,function(t){return i("option",{key:t.name,domProps:{value:t}},[e._v(e._s(t.name))])}),0)],1)]),i("section",{staticClass:"modal-card-body"},[i(e.selectedPhysic.component,{ref:"physic",tag:"component",on:{addPhysic:e.updatePhysics}})],1),i("footer",{staticClass:"modal-card-foot"},[i("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.isModalActive=!1}}},[e._v("Odustani")]),i("button",{staticClass:"button is-success",on:{click:e.addPhysic}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})]),i("span",[e._v("Dodaj")])])])]):e._e()],1)])},st=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})])}],at=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"brzina"}},[i("b-field",{attrs:{label:"Orijentacija",horizontal:""}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:e.axis,callback:function(t){e.axis=t},expression:"axis"}},[e._v("x")]),i("b-radio",{attrs:{"native-value":1},model:{value:e.axis,callback:function(t){e.axis=t},expression:"axis"}},[e._v("y")]),i("b-radio",{attrs:{"native-value":2},model:{value:e.axis,callback:function(t){e.axis=t},expression:"axis"}},[e._v("z")])],1)]),i("b-field",{attrs:{label:"Vrijednost",horizontal:"",type:e.errors.has("velocity")?"is-danger":""}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal",expression:"'required|decimal'"}],attrs:{icon:"angle-double-right",name:"velocity"},model:{value:e.velocity,callback:function(t){e.velocity=t},expression:"velocity"}})],1)],1)},nt=[],rt={name:"Brzina",data:function(){return{axis:0,velocity:null}},methods:{validate:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:return t=e.sent,e.abrupt("return",0==this.errors.any()&&t);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addPhysic:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:i=0===this.axis?"x":1===this.axis?"y":"z",s={name:"Brzina",icon:"fas fa-running",description:"".concat(i,"-os"),properties:{value:this.velocity,axis:this.axis,axisString:i,unit:"m/s"}},this.$emit("addPhysic",s);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},ot=rt,ct=Object(g["a"])(ot,at,nt,!1,null,"e5957670",null),lt=ct.exports,ut={name:"FizikaElementa",data:function(){return{mesh:null,isModalActive:!1,selectedPhysic:null,meshPhysic:{velocity:{x:0,y:0,z:0}},physics:[{name:"Brzina",icon:"fas fa-running",component:lt}]}},components:{Brzina:lt},beforeDestroy:function(){this.mesh&&Oe.toggleHighlight(this.getMeshByName(this.mesh))},computed:Object(p["a"])({},Object(d["c"])({getMeshByName:"experiment/getMeshByName",getMeshPhysic:"experiment/getMeshPhysic",getMeshLog:"experiment/getMeshLog"}),Object(d["d"])({existingMeshes:function(e){return e.experiment.meshes}}),{scene:{get:function(){return this.$store.state.experiment.scene},set:function(e){this.$store.commit("experiment/SET_SCENE",e)}},physic:function(){return this.getMeshPhysic(this.mesh)},currentMesh:{get:function(){if(0===this.existingMeshes.length)return this.mesh=null,null;if(null==this.mesh){var e=this.existingMeshes.length;return e>0?(this.mesh=this.existingMeshes[e-1],this.mesh):null}return this.mesh},set:function(e){this.mesh=e}}}),methods:{physicInfo:function(e){switch(e.name){case"Brzina":return"".concat(e.properties.value," ").concat(e.properties.unit);default:break}},createPhysic:function(){this.selectedPhysic=this.physics[0],this.isModalActive=!0},addPhysic:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["physic"].addPhysic();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),updatePhysics:function(e){var t={mesh:this.mesh,physic:e};this.$store.commit("experiment/UPDATE_MESH_PHYSICS",t);var i=[],s=V()();switch(e.properties.axisString){case"x":i.push({velocity:{x:e.properties.value,y:0,z:0},time:s});break;case"y":i.push({velocity:{x:0,y:e.properties.value,z:0},time:s});break;case"z":i.push({velocity:{x:0,y:e.properties.value,z:0},time:s});break;default:break}var a={mesh:this.mesh,log:{name:"Dodana fizika",icon:"fas fa-atom",type:"physics",key:"velocity",description:"(".concat(e.name,")"),properties:{axis:e.properties.axis,axisString:e.properties.axisString,values:i,time:{start:V()(),end:null}}}},n=this.getMeshLog(this.mesh).filter(function(e){return"physics"===e.type&&"velocity"===e.key}),r=n.find(function(t){return t.properties.axis===e.properties.axis&&null===t.properties.time.end});void 0===r&&this.$store.commit("experiment/SET_MESH_LOGS",a),this.isModalActive=!1,Oe.addPhysic(this.getMeshByName(this.mesh),e)},notification:function(e){this.$emit("notification",e)},error:function(e){this.$emit("error",e)},changeMenu:function(e,t){this.$emit("changeMenu",{groupName:e,menuName:t})}},watch:{mesh:function(e,t){t&&this.existingMeshes.length>0&&this.existingMeshes.includes(t)&&Oe.toggleHighlight(this.getMeshByName(t)),e&&Oe.toggleHighlight(this.getMeshByName(e))},existingMeshes:function(e,t){if(e.length>0&&!1===e.includes(this.mesh)){var i=e.length;this.mesh=e[i-1]}}}},pt=ut,ht=(i("327f"),Object(g["a"])(pt,it,st,!1,null,"98a050bc",null)),mt=ht.exports,dt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"statistika"}},[null==e.currentMesh?i("div",{staticClass:"field"},[i("p",[e._v("Trenutno ne postoje elementi na sceni.")]),i("button",{staticClass:"button is-success",on:{click:function(t){return e.changeMenu("Općenito","Novi element")}}},[e._m(0),i("span",[e._v("Dodaj")])])]):i("div",{staticClass:"field"},[i("b-field",{attrs:{horizontal:"",label:"Element:"}},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.mesh,expression:"mesh"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.mesh=t.target.multiple?i:i[0]}}},e._l(e.existingMeshes,function(t){return i("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)])]),i("b-field",{attrs:{horizontal:"",label:"Praćenja"}},[i("b-tooltip",{attrs:{label:"Uključi/Isključi sva praćenja.",type:"is-black",position:"is-right"}},[i("b-switch",{on:{input:e.globalSelection},model:{value:e.all,callback:function(t){e.all=t},expression:"all"}})],1)],1),i("b-field",{attrs:{grouped:"","group-multiline":""}},e._l(e.logs,function(t,s){return i("div",{key:s,staticClass:"control"},[i("b-tooltip",{attrs:{label:t.description,type:"is-black",position:"is-right"}},[i("b-checkbox",{model:{value:t.visible,callback:function(i){e.$set(t,"visible",i)},expression:"log.visible"}},[e._v(e._s(t.name))])],1)],1)}),0),i("b-table",{attrs:{data:e.log,hoverable:"",paginated:"","per-page":5,"pagination-simple":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[i("b-table-column",{attrs:{field:"name"}},[i("b-tooltip",{attrs:{label:"Detalji",type:"is-black"}},[i("a",{on:{click:function(i){return e.logInfo(t.row)}}},[i("span",{staticClass:"icon"},[i("i",{class:t.row.icon})]),e._v("\n                            "+e._s(t.row.name)+"\n                            "+e._s(t.row.description)+"\n                        ")])])],1)]}}])},[i("template",{slot:"header"},[e._v("Povijest nadzora")]),i("template",{slot:"empty"},[i("section",{staticClass:"section"},[i("div",{staticClass:"content has-text-grey has-text-centered"},[i("p",[e._v("Ne postoji povijest nadzora odabranog elementa uz odabrane filtere.")])])])])],2),e.selectedStatistic?i("b-modal",{attrs:{active:e.isModalActive},on:{"update:active":function(t){e.isModalActive=t},close:e.close}},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[e._v("\n                    "+e._s(e.selectedStatistic.name)+" - "+e._s(e.mesh)+"\n                    "),e.time?i("span",[e._v("("+e._s(e.time)+")")]):e._e(),"collisions"!=e.selectedStatistic.type?i("span",[e._v(e._s(e.selectedLog.description))]):e._e()])]),i("section",{staticClass:"modal-card-body"},[i("b-loading",{attrs:{"is-full-page":!1,active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),i(e.selectedStatistic.component,{ref:"statistic",tag:"component",attrs:{log:e.selectedLog,mesh:e.mesh},on:{excel:e.excelData}})],1),i("footer",{staticClass:"modal-card-foot"},[i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile"},[i("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.isModalActive=!1}}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left"})]),i("span",[e._v("Nazad")])]),i("button",{staticClass:"button is-success",attrs:{disabled:!e.isUpdateable},on:{click:e.updateStatistics}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-redo"})]),i("span",[e._v("Ažuriraj")])])]),i("div",{staticClass:"tile is-3"},[i("div",{staticClass:"block margin-5px"},[i("b-radio",{attrs:{"native-value":"xls"},model:{value:e.excel.type,callback:function(t){e.$set(e.excel,"type",t)},expression:"excel.type"}},[e._v(".xls")]),i("b-radio",{attrs:{"native-value":"csv"},model:{value:e.excel.type,callback:function(t){e.$set(e.excel,"type",t)},expression:"excel.type"}},[e._v(".csv")])],1),i("button",{staticClass:"button is-success"},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-download"})]),i("export-excel",{attrs:{data:e.excel.data,type:e.excel.type}},[e._v("Preuzmi")])],1)])])])]):e._e()],1)])},ft=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-plus"})])}],vt=(i("84b4"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"fizika"}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:e.graphType,callback:function(t){e.graphType=t},expression:"graphType"}},[e._v("Životna linija")])],1),0===e.graphType?i("p",[i("b",[e._v("Životna linija")]),e._v("\n        predstavlja promjenu brzine tijela "+e._s(this.mesh)+" od trenutka njegovog stvaranja (0 s - stvoren element "+e._s(this.mesh)+").\n    ")]):e._e(),1===e.graphType?i("p"):e._e(),i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-1",class:{disabled:0==e.currentGraph,"my-pagination":!0},on:{click:e.previous}},[i("b-tooltip",{attrs:{type:"is-black",label:"Prethodna brzina",position:"is-right"}},[i("a",{class:{disabled:0==e.currentGraph,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left fa-3x"})])])])],1),i("div",{staticClass:"tile"},[0===e.graphType&&e.showGraph?i("basic-velocity-chart",{ref:"basic",staticStyle:{width:"100%"},attrs:{graphData:e.graphData}}):e._e()],1),i("div",{staticClass:"tile is-1",class:{disabled:e.currentGraph==e.numberOfGraphs-1,"my-pagination":!0},on:{click:e.next}},[i("b-tooltip",{attrs:{type:"is-black",label:"Sljedeća brzina",position:"is-left"}},[i("a",{class:{disabled:e.currentGraph==e.numberOfGraphs-1,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-right fa-3x"})])])])],1)])])}),gt=[],bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("apexchart",{ref:"chart",attrs:{height:e.height,type:"line",options:e.charts.line.options,series:e.charts.line.series}})},xt=[],yt={name:"BasicVelocityChart",props:{height:{type:Number,default:300},graphData:{type:Object,required:!0}},mounted:function(){this.update()},methods:{update:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],i={xaxis:{type:"category",categories:[]}},t=this.graphData.series,i.xaxis.categories=this.graphData.categories,e.next=6,this.$refs.chart.updateSeries(t,!0);case 6:return e.next=8,this.$refs.chart.updateOptions(i,!0,!0);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},data:function(){return{charts:{line:{series:[],options:{colors:["#db2525","#37964c","#284e7b"],chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!0},xaxis:{categories:[]}}}}}}},_t=yt,kt=Object(g["a"])(_t,bt,xt,!1,null,null,null),St=kt.exports,Et={name:"Fizika",props:{log:{required:!0,type:Object},mesh:{required:!0,type:String}},data:function(){return{graphType:0,lifeTime:0,currentGraph:0,numberOfGraphs:0,excel:{data:[]},values:[],graphData:null,showGraph:!1}},components:{BasicVelocityChart:St},mounted:function(){this.currentGraph=0,this.graphType=0,this.numberOfGraphs=1;var e=this.getMeshLog(this.mesh),t=e.find(function(e){return"life"===e.type});this.lifeTime=t.properties.time,this.findCross(),this.showGraph=!0,this.prepareExcel(),this.$emit("excel")},computed:Object(p["a"])({},Object(d["c"])({getMeshLog:"experiment/getMeshLog"})),methods:{previous:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.currentGraph>0)){e.next=4;break}return this.currentGraph-=1,e.next=4,this.update();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),next:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.currentGraph<this.numberOfGraphs-1)){e.next=4;break}return this.currentGraph+=1,e.next=4,this.update();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),update:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.findCross(),this.prepareExcel(),e.next=4,this.$refs.basic.update();case 4:return e.next=6,this.$refs.basic.update();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),prepareExcel:function(){var e=this.values,t=[];for(var i in e){var s=(e[i].time-this.lifeTime)/1e3;t.push({Vrijeme:"".concat(s.toFixed(2)," s"),BrzinaX:"".concat(e[i].velocity.x," m/s"),BrzinaY:"".concat(e[i].velocity.y," m/s"),BrzinaZ:"".concat(e[i].velocity.z," m/s")})}this.excel.data=t},findCross:function(){var e=this.getMeshLog(this.mesh);switch(this.graphType){case 0:this.emptyCross(e);break;default:break}},emptyCross:function(e){var t=this;this.values=this.log.properties.values;var i=this.filterVelocity();this.values.length<20&&(i=this.values);var s=i.map(function(e){return e.velocity}),a=i.map(function(e){return((e.time-t.lifeTime)/1e3).toFixed(2)});if(i.length>20){var n=i.length/20,r=n-Math.floor(n);r.toFixed(2)>=.5?this.numberOfGraphs=Math.ceil(n):this.numberOfGraphs=Math.floor(n);var o=20*this.currentGraph,c=o+20;s=s.slice(o,c),a=a.slice(o,c)}else this.numberOfGraphs=1;this.graphData={series:[{name:"x",data:s.map(function(e){return e.x})},{name:"y",data:s.map(function(e){return e.y})},{name:"z",data:s.map(function(e){return e.z})}],categories:a}},filterVelocity:function(){var e=[],t=[];for(var i in this.values){var s=(this.values[i].time-this.lifeTime)/1e3,a=s-Math.floor(s);.5!=a.toFixed(1)&&0!=a.toFixed(1)&&1!=a.toFixed(1)||void 0==t.find(function(e){return e==s.toFixed(1)})&&(t.push(s.toFixed(1)),e.push(this.values[i]))}return e}}},Ct=Et,wt=(i("593f"),Object(g["a"])(Ct,vt,gt,!1,null,"463f6bee",null)),Ot=wt.exports,Tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"pomak"}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:e.graphType,callback:function(t){e.graphType=t},expression:"graphType"}},[e._v("Životna linija")])],1),0===e.graphType?i("p",[i("b",[e._v("Životna linija")]),e._v("\n        predstavlja promjenu položaja tijela "+e._s(this.mesh)+" od trenutka njegovog stvaranja (0 s - stvoren element "+e._s(this.mesh)+").\n    ")]):e._e(),1===e.graphType?i("p"):e._e(),2===e.graphType?i("p"):e._e(),3===e.graphType?i("p"):e._e(),i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-1",class:{disabled:0==e.currentGraph,"my-pagination":!0},on:{click:e.previous}},[i("b-tooltip",{attrs:{type:"is-black",label:"Prethodni pomak",position:"is-right"}},[i("a",{class:{disabled:0==e.currentGraph,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left fa-3x"})])])])],1),i("div",{staticClass:"tile"},[0===e.graphType&&e.showGraph?i("basic-movement-chart",{ref:"basic",staticStyle:{width:"100%"},attrs:{graphData:e.graphData}}):e._e(),1===e.graphType&&e.showGraph?i("velocity-movement-chart",{attrs:{graphData:e.graphData}}):e._e(),2===e.graphType&&e.showGraph?i("collision-movement-chart",{attrs:{graphData:e.graphData}}):e._e(),3===e.graphType&&e.showGraph?i("rotation-movement-chart",{attrs:{graphData:e.graphData}}):e._e()],1),i("div",{staticClass:"tile is-1",class:{disabled:e.currentGraph==e.numberOfGraphs-1,"my-pagination":!0},on:{click:e.next}},[i("b-tooltip",{attrs:{type:"is-black",label:"Sljedeći pomak",position:"is-left"}},[i("a",{class:{disabled:e.currentGraph==e.numberOfGraphs-1,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-right fa-3x"})])])])],1)])])},jt=[],Mt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("apexchart",{ref:"chart",attrs:{height:e.height,type:"line",options:e.charts.line.options,series:e.charts.line.series}})},At=[],Pt={name:"BasicMovementChart",props:{height:{type:Number,default:300},graphData:{type:Object,required:!0}},mounted:function(){this.update()},methods:{update:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],i={xaxis:{type:"category",categories:[]}},t=this.graphData.series,i.xaxis.categories=this.graphData.categories,e.next=6,this.$refs.chart.updateSeries(t,!0);case 6:return e.next=8,this.$refs.chart.updateOptions(i,!0,!0);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},data:function(){return{charts:{line:{series:[],options:{colors:["#db2525","#37964c","#284e7b"],chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"stepline"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!0},xaxis:{categories:[]}}}}}}},Bt=Pt,Lt=Object(g["a"])(Bt,Mt,At,!1,null,null,null),It=Lt.exports,Nt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},zt=[],Rt={name:"VelocityMovementChart"},Dt=Rt,$t=Object(g["a"])(Dt,Nt,zt,!1,null,null,null),Gt=$t.exports,Yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},Ht=[],Ut={name:"CollisionMovementChart"},Vt=Ut,Ft=Object(g["a"])(Vt,Yt,Ht,!1,null,null,null),Xt=Ft.exports,qt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},Wt=[],Qt={name:"RotationMovementChart"},Kt=Qt,Zt=Object(g["a"])(Kt,qt,Wt,!1,null,null,null),Jt=Zt.exports,ei={name:"Pomak",props:{log:{required:!0,type:Object},mesh:{required:!0,type:String}},data:function(){return{graphType:0,lifeTime:0,currentGraph:0,numberOfGraphs:0,startPosition:null,positions:[],graphData:null,showGraph:!1,excel:{data:[]}}},components:{BasicMovementChart:It,VelocityMovementChart:Gt,CollisionMovementChart:Xt,RotationMovementChart:Jt},mounted:function(){this.currentGraph=0,this.graphType=0,this.numberOfGraphs=1;var e=this.getMeshLog(this.mesh),t=e.find(function(e){return"life"===e.type});this.lifeTime=t.properties.time,this.startPosition=t.properties.position,this.findCross(),this.showGraph=!0,this.prepareExcel(),this.$emit("excel")},computed:Object(p["a"])({},Object(d["c"])({getMeshLog:"experiment/getMeshLog"})),methods:{previous:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.currentGraph>0)){e.next=4;break}return this.currentGraph-=1,e.next=4,this.update();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),next:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.currentGraph<this.numberOfGraphs-1)){e.next=4;break}return this.currentGraph+=1,e.next=4,this.update();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),update:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.findCross(),this.prepareExcel(),e.next=4,this.$refs.basic.update();case 4:return e.next=6,this.$refs.basic.update();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),prepareExcel:function(){var e=this.generateTime(this.lifeTime,this.positions[this.numberOfGraphs-1].time,5),t=this.generateValues(e.map(function(e){return e.value})),i=[];for(var s in t)i.push({Vrijeme:"".concat(e[s].value," s"),"PoložajX":t[s].x.toFixed(2),"PoložajY":t[s].y.toFixed(2),"PoložajZ":t[s].z.toFixed(2)});this.excel.data=i},findCross:function(){var e=this.getMeshLog(this.mesh);switch(this.graphType){case 0:this.emptyCross(e);break;default:break}},emptyCross:function(e){this.positions=this.log.properties.positions,this.numberOfGraphs=this.positions.length;var t=this.generateTime(this.lifeTime,this.positions[this.numberOfGraphs-1].time,5),i=(this.positions[this.currentGraph].time-this.lifeTime)/1e3;i=this.fixTime(i.toFixed(1));var s=t.find(function(e){return e.value==i}),a=t.indexOf(s),n=a<=10?0:a-10,r=n+20;t=t.slice(n,r),t=t.map(function(e){return e.value});var o=this.generateValues(t);this.graphData={series:[{name:"x",data:o.map(function(e){return e.x.toFixed(2)})},{name:"y",data:o.map(function(e){return e.y.toFixed(2)})},{name:"z",data:o.map(function(e){return e.z.toFixed(2)})}],categories:t}},fixTime:function(e){var t=e-Math.floor(e);return t.toFixed(2)>.5?Math.ceil(e):t.toFixed(2)<.5?Math.floor(e):e},generateTime:function(e,t,i){for(var s=[],a=(t-e)/1e3,n=0;n<=a+i;n+=.5)s.push({value:n});return s},generateValues:function(e){var t=this,i=[];for(var s in e){var a=e[s],n=e[Y()(s)+1];if(void 0===n)break;var r=this.positions.find(function(e){return(e.time-t.lifeTime)/1e3<=n&&(e.time-t.lifeTime)/1e3>=a});if(r)i.push(r.value);else{var o=this.positions.filter(function(e){return(e.time-t.lifeTime)/1e3<=n}),c=o[o.length-1];c?i.push(c.value):i.push(this.startPosition)}}return i}}},ti=ei,ii=(i("c324"),Object(g["a"])(ti,Tt,jt,!1,null,"4f68d84e",null)),si=ii.exports,ai=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"rotacija"}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:e.graphType,callback:function(t){e.graphType=t},expression:"graphType"}},[e._v("Životna linija")])],1),0===e.graphType?i("p",[i("b",[e._v("Životna linija")]),e._v("\n        predstavlja promjenu rotacije tijela "+e._s(this.mesh)+" od trenutka njegovog stvaranja (0 s - stvoren element "+e._s(this.mesh)+").\n    ")]):e._e(),1===e.graphType?i("p"):e._e(),i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-1",class:{disabled:0==e.currentGraph,"my-pagination":!0},on:{click:e.previous}},[i("b-tooltip",{attrs:{type:"is-black",label:"Prethodna rotacija",position:"is-right"}},[i("a",{class:{disabled:0==e.currentGraph,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left fa-3x"})])])])],1),i("div",{staticClass:"tile"},[0===e.graphType&&e.showGraph?i("basic-rotation-chart",{ref:"basic",staticStyle:{width:"100%"},attrs:{graphData:e.graphData}}):e._e()],1),i("div",{staticClass:"tile is-1",class:{disabled:e.currentGraph==e.numberOfGraphs-1,"my-pagination":!0},on:{click:e.next}},[i("b-tooltip",{attrs:{type:"is-black",label:"Sljedeća rotacija",position:"is-left"}},[i("a",{class:{disabled:e.currentGraph==e.numberOfGraphs-1,"my-pagination-button":!0}},[i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-right fa-3x"})])])])],1)])])},ni=[],ri=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("apexchart",{ref:"chart",attrs:{height:e.height,type:"line",options:e.charts.line.options,series:e.charts.line.series}})},oi=[],ci={name:"BasicRotationChart",props:{height:{type:Number,default:300},graphData:{type:Object,required:!0}},mounted:function(){this.update()},methods:{update:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[],i={xaxis:{type:"category",categories:[]}},t=this.graphData.series,i.xaxis.categories=this.graphData.categories,e.next=6,this.$refs.chart.updateSeries(t,!0);case 6:return e.next=8,this.$refs.chart.updateOptions(i,!0,!0);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},data:function(){return{charts:{line:{series:[],options:{colors:["#db2525","#37964c","#284e7b"],chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"stepline"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!0},xaxis:{categories:[]}}}}}}},li=ci,ui=Object(g["a"])(li,ri,oi,!1,null,null,null),pi=ui.exports,hi={name:"Rotacija",props:{log:{required:!0,type:Object},mesh:{required:!0,type:String}},data:function(){return{graphType:0,lifeTime:0,currentGraph:0,numberOfGraphs:0,startRotation:{x:0,y:0,z:0},excel:{data:[]},rotations:[],graphData:null,showGraph:!1}},components:{BasicRotationChart:pi},mounted:function(){this.currentGraph=0,this.graphType=0,this.numberOfGraphs=1;var e=this.getMeshLog(this.mesh),t=e.find(function(e){return"life"===e.type});this.lifeTime=t.properties.time,this.findCross(),this.showGraph=!0,this.prepareExcel(),this.$emit("excel")},computed:Object(p["a"])({},Object(d["c"])({getMeshLog:"experiment/getMeshLog"})),methods:{previous:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.currentGraph>0)){e.next=4;break}return this.currentGraph-=1,e.next=4,this.update();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),next:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.currentGraph<this.numberOfGraphs-1)){e.next=4;break}return this.currentGraph+=1,e.next=4,this.update();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),update:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.findCross(),this.prepareExcel(),e.next=4,this.$refs.basic.update();case 4:return e.next=6,this.$refs.basic.update();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),prepareExcel:function(){var e=this.generateTime(this.lifeTime,this.rotations[this.numberOfGraphs-1].time,5),t=this.generateValues(e.map(function(e){return e.value})),i=[];for(var s in t)i.push({Vrijeme:"".concat(e[s].value," s"),RotacijaX:t[s].x.toFixed(2),RotacijaY:t[s].y.toFixed(2),RotacijaZ:t[s].z.toFixed(2)});this.excel.data=i},findCross:function(){var e=this.getMeshLog(this.mesh);switch(this.graphType){case 0:this.emptyCross(e);break;default:break}},emptyCross:function(e){this.rotations=this.log.properties.rotations,this.numberOfGraphs=this.rotations.length;var t=this.generateTime(this.lifeTime,this.rotations[this.numberOfGraphs-1].time,5),i=(this.rotations[this.currentGraph].time-this.lifeTime)/1e3;i=this.fixTime(i.toFixed(1));var s=t.find(function(e){return e.value==i}),a=t.indexOf(s),n=a<=10?0:a-10,r=n+20;t=t.slice(n,r),t=t.map(function(e){return e.value});var o=this.generateValues(t);this.graphData={series:[{name:"x",data:o.map(function(e){return e.x.toFixed(2)})},{name:"y",data:o.map(function(e){return e.y.toFixed(2)})},{name:"z",data:o.map(function(e){return e.z.toFixed(2)})}],categories:t}},fixTime:function(e){var t=e-Math.floor(e);return t.toFixed(2)>.5?Math.ceil(e):t.toFixed(2)<.5?Math.floor(e):e},generateTime:function(e,t,i){for(var s=[],a=(t-e)/1e3,n=0;n<=a+i;n+=.5)s.push({value:n});return s},generateValues:function(e){var t=this,i=[];for(var s in e){var a=e[s],n=e[Y()(s)+1];if(void 0===n)break;var r=this.rotations.find(function(e){return(e.time-t.lifeTime)/1e3<=n&&(e.time-t.lifeTime)/1e3>=a});if(r)i.push(r.value);else{var o=this.rotations.filter(function(e){return(e.time-t.lifeTime)/1e3<=n}),c=o[o.length-1];c?i.push(c.value):i.push(this.startRotation)}}return i}}},mi=hi,di=(i("4d81"),Object(g["a"])(mi,ai,ni,!1,null,"7abb8fec",null)),fi=di.exports,vi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"sudari"}},[i("div",{staticClass:"block"},[i("b-radio",{attrs:{"native-value":0},model:{value:e.graphType,callback:function(t){e.graphType=t},expression:"graphType"}},[e._v("Životna linija")])],1),0===e.graphType?i("p",[i("b",[e._v("Životna linija")]),e._v("\n        predstavlja trenutak sudara tijela "+e._s(this.mesh)+" s tijelom "+e._s(this.log.properties.collider)+" od trenutka stvaranja promatranog tijela (0 s - stvoren element "+e._s(this.mesh)+").\n    ")]):e._e(),1===e.graphType?i("p",[i("b",[e._v("Brzina")]),e._v("\n        predstavlja brzinu tijela "+e._s(this.mesh)+" netom prije i nakon sudara s tijelom "+e._s(this.log.properties.collider)+" (0 s - stvoren element "+e._s(this.mesh)+").\n    ")]):e._e(),2===e.graphType?i("p"):e._e(),3===e.graphType?i("p"):e._e(),0===e.graphType&&e.showGraph?i("basic-collision-chart",{attrs:{graphData:e.graphData}}):e._e(),1===e.graphType&&e.showGraph?i("velocity-collision-chart",{attrs:{graphData:e.graphData}}):e._e(),2===e.graphType&&e.showGraph?i("movement-collision-chart",{attrs:{graphData:e.graphData}}):e._e(),3===e.graphType&&e.showGraph?i("rotation-collision-chart",{attrs:{graphData:e.graphData}}):e._e()],1)},gi=[],bi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("apexchart",{ref:"chart",attrs:{height:e.height,type:"line",options:e.charts.line.options,series:e.charts.line.series}})},xi=[],yi={name:"BasicCollisionChart",props:{height:{type:Number,default:300},graphData:{type:Object,required:!0}},mounted:function(){var e=[],t={xaxis:{type:"category",categories:[]},annotations:{}};e=this.graphData.series,t.xaxis.categories=this.graphData.categories,t.annotations=this.graphData.annotations,this.$refs.chart.updateSeries(e,!0),this.$refs.chart.updateOptions(t,!0,!0)},data:function(){return{charts:{line:{series:[],options:{colors:["#37964c"],chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!1},xaxis:{categories:[]},yaxis:{show:!1}}}}}}},_i=yi,ki=Object(g["a"])(_i,bi,xi,!1,null,null,null),Si=ki.exports,Ei=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("apexchart",{ref:"chart",attrs:{height:e.height,type:"line",options:e.charts.line.options,series:e.charts.line.series}})},Ci=[],wi={name:"VelocityCollisionChart",props:{height:{type:Number,default:300},graphData:{type:Object,required:!0}},mounted:function(){var e={xaxis:{type:"category",categories:[]},annotations:{points:[]}};this.graphData.series,e.xaxis.categories=this.graphData.categories,e.annotations.points=this.graphData.points},data:function(){return{charts:{line:{series:[{name:"x",data:[3,2.67,2.77,2.4,2.2,2,2,1.98,1.78,1.7]},{name:"y",data:[0,0,0,0,0,0,0,0,0,0]},{name:"z",data:[.5,.41,.4,.4,.38,.37,.35,.3,.28,.2]}],options:{annotations:{xaxis:[{x:2,borderColor:"#FF4560",label:{borderColor:"#FF4560",offsetY:0,offsetX:0,textAnchor:"middle",style:{color:"#fff",background:"#FF4560"},text:"Sudar (K1) 0.5 s"}}]},colors:["#db2525","#37964c","#284e7b"],chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!0},xaxis:{categories:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5]}}}}}}},Oi=wi,Ti=Object(g["a"])(Oi,Ei,Ci,!1,null,null,null),ji=Ti.exports,Mi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("apexchart",{ref:"chart",attrs:{height:e.height,type:"line",options:e.charts.line.options,series:e.charts.line.series}})},Ai=[],Pi={name:"MovementCollisionChart",data:function(){return{charts:{line:{series:[{name:"",data:[10,41,35,51,49,62,69,91,148]}],options:{annotations:{points:[{x:3.5,y:35,marker:{size:8,fillColor:"#fff",strokeColor:"red",radius:2},label:{borderColor:"#FF4560",offsetY:0,style:{color:"#fff",background:"#FF4560"},text:"Sudar"}}]},chart:{type:"line",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{enabled:!1},xaxis:{type:"category",categories:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5]}}}}}}},Bi=Pi,Li=Object(g["a"])(Bi,Mi,Ai,!1,null,null,null),Ii=Li.exports,Ni=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},zi=[],Ri={name:"RotationCollisionChart"},Di=Ri,$i=Object(g["a"])(Di,Ni,zi,!1,null,null,null),Gi=$i.exports,Yi={name:"Sudari",props:{log:{required:!0,type:Object},mesh:{required:!0,type:String}},data:function(){return{graphType:0,lifeTime:0,excel:{data:[]},graphData:null,showGraph:!1}},components:{BasicCollisionChart:Si,VelocityCollisionChart:ji,MovementCollisionChart:Ii,RotationCollisionChart:Gi},mounted:function(){this.graphType=0;var e=this.getMeshLog(this.mesh),t=e.find(function(e){return"life"===e.type});this.lifeTime=t.properties.time,this.findCross(this.graphType),this.showGraph=!0,this.prepareExcel(),this.$emit("excel")},computed:Object(p["a"])({},Object(d["c"])({getMeshLog:"experiment/getMeshLog"})),methods:{findCross:function(e){var t=this,i=this.getMeshLog(this.mesh);switch(e){case 0:this.emptyCross(i);break;case 1:this.velocityCross(i);break;case 2:i.filter(function(e){return"movement"===e.type});break;case 3:i.filter(function(e){return"rotation"===e.type});break;case 4:i.filter(function(e){return"collisions"===e.type&&e.key!==t.log.key});break;default:break}},prepareExcel:function(){this.excel.data=[{Element1:this.mesh,Element2:this.log.properties.collider,Vrijeme:((this.log.properties.time.start-this.lifeTime)/1e3).toFixed(2)}]},emptyCross:function(e){var t=this.log.properties.time.start,i=this.log.properties.collider,s=this.generateTime(this.lifeTime,t,5),a=[{name:"Životna linija",data:[]}];for(var n in s)a[0].data.push(1);var r=(t-this.lifeTime)/1e3,o=this.findCollision(s,r);this.graphData={series:a,categories:s,annotations:{points:[{x:o,y:1,marker:{size:6,fillColor:"#fff",strokeColor:"#FF4560",radius:2},label:{borderColor:"#FF4560",offsetY:0,offsetX:0,textAnchor:"middle",style:{color:"#fff",background:"#FF4560"},text:"Sudar (".concat(i,") ").concat(r," s")}}]}}},velocityCross:function(e){var t=this,i=e.filter(function(e){return"physics"===e.type&&"velocity"===e.key}),s=(i.filter(function(e){return e.properties.time.start<=t.lifeTime}),i.filter(function(e){return e.properties.time.start>=t.lifeTime}),[{name:"x-os",data:[]},{name:"y-os",data:[]},{name:"z-os",data:[]}]),a=[];this.graphData={series:s,categories:a,annotations:{points:[{x:x,y:1,marker:{size:6,fillColor:"#fff",strokeColor:"#FF4560",radius:2},label:{borderColor:"#FF4560",offsetY:0,offsetX:0,textAnchor:"middle",style:{color:"#fff",background:"#FF4560"},text:"Sudar (".concat(collider,") ").concat(collision," s")}}]}}},generateTime:function(e,t,i){var s=[],a=(t-e)/1e3;if(a>i){e=Math.floor(a-i);for(var n=e;n<=a+i;n+=.5)s.push(n)}else for(n=0;n<=a+i;n+=.5)s.push(n);return s},findCollision:function(e,t){var i=0;for(var s in e){if(e[s]==t){i=Y()(s)+1;break}if(e[s]>t){i=Y()(s)+(t-Math.floor(t));break}}return X()(i)}}},Hi=Yi,Ui=Object(g["a"])(Hi,vi,gi,!1,null,"1befaf8d",null),Vi=Ui.exports,Fi={name:"Statistika",data:function(){return{mesh:null,all:!1,isModalActive:!1,selectedStatistic:null,selectedLog:null,isUpdateable:!1,time:null,isLoading:!1,excel:{type:"xls",data:[]},statistics:[{name:"Fizika",icon:"fas fa-atom",component:Ot,type:"physics"},{name:"Sudari",icon:"fas fa-bullseye",component:Vi,type:"collisions"},{name:"Rotacija",icon:"fas fa-sync-alt",component:fi,type:"rotation"},{name:"Pomak",icon:"fas fa-shoe-prints",component:si,type:"movement"}],logs:[{name:"Fizika",type:"physics",description:"Fizička svojstva elementa.",visible:!1},{name:"Sudari",type:"collisions",description:"Interakcija s drugim elementima.",visible:!1},{name:"Rotacija",type:"rotation",description:"Promjene smjera elementa.",visible:!1},{name:"Pomak",type:"movement",description:"Kretnja elementa po sceni.",visible:!1}]}},components:{Fizika:Ot,Pomak:si,Rotacija:fi,Sudari:Vi},beforeDestroy:function(){this.mesh&&Oe.toggleHighlight(this.getMeshByName(this.mesh))},computed:Object(p["a"])({},Object(d["c"])({getMeshByName:"experiment/getMeshByName",getMeshLog:"experiment/getMeshLog"}),Object(d["d"])({existingMeshes:function(e){return e.experiment.meshes}}),{currentMesh:{get:function(){if(0===this.existingMeshes.length)return this.mesh=null,null;if(null==this.mesh){var e=this.existingMeshes.length;return e>0?(this.mesh=this.existingMeshes[e-1],this.mesh):null}return this.mesh},set:function(e){this.mesh=e}},log:function(){var e=this.getMeshLog(this.mesh),t=[],i=this.logs.filter(function(e){return e.visible});for(var s in e)for(var a in i)e[s].type===i[a].type&&t.push(e[s]);return i.length<this.logs.length?this.all=!1:i.length==this.logs.length&&(this.all=!0),t}}),methods:{excelData:function(){this.excel.data=this.$refs.statistic.excel.data},close:function(){this.isModalActive=!1,this.selectedStatistic=null},updateStatistics:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,this.isUpdateable=!1,t=this.getMeshLog(this.mesh),this.selectedLog=t.find(function(e){return e.type===i.selectedLog.type&&e.key===i.selectedLog.key}),this.calculateTime(),e.next=7,this.$refs.statistic.update();case 7:Object(De["setTimeout"])(function(){i.isLoading=!1},1e3),this.excel.data=this.$refs.statistic.excel.data;case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),globalSelection:function(e){for(var t in this.logs)this.logs[t].visible=e},logInfo:function(e){this.selectedStatistic=this.statistics.find(function(t){return t.type===e.type}),this.selectedLog=e,this.calculateTime(),this.isModalActive=!0},calculateTime:function(){switch(this.selectedLog.type){case"physics":switch(this.selectedLog.key){case"velocity":if(this.selectedLog.properties.time.end){var e=this.selectedLog.properties.time.start,t=this.selectedLog.properties.time.end,i=t-e;this.time=this.formatMSDiff(i),this.isUpdateable=!1}else this.time="U izvođenju...",this.isUpdateable=!0;break;default:break}break;case"collisions":this.time=null,this.isUpdateable=!1;break;case"rotation":this.time=null,this.isUpdateable=!0;break;case"movement":this.time=null,this.isUpdateable=!0;break;default:break}},formatMSDiff:function(e){var t=e/1e3;if(t>60){var i=t/60;if(i>60){var s=i/60;return"".concat(s.toFixed(2)," h")}var a=60*(i-Math.trunc(i));return"".concat(Math.trunc(i)," min ").concat(Math.round(a)," s")}return"".concat(t.toFixed(2)," s")},notification:function(e){this.$emit("notification",e)},error:function(e){this.$emit("error",e)},changeMenu:function(e,t){this.$emit("changeMenu",{groupName:e,menuName:t})}},watch:{mesh:function(e,t){t&&this.existingMeshes.length>0&&this.existingMeshes.includes(t)&&Oe.toggleHighlight(this.getMeshByName(t)),e&&Oe.toggleHighlight(this.getMeshByName(e))},existingMeshes:function(e,t){if(e.length>0&&!1===e.includes(this.mesh)){var i=e.length;this.mesh=e[i-1]}}}},Xi=Fi,qi=Object(g["a"])(Xi,dt,ft,!1,null,"09af89fd",null),Wi=qi.exports,Qi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"moj-pokus"}},[i("b-field",{attrs:{label:"Slika"}},[i("b-select",{attrs:{icon:"palette"},model:{value:e.picture,callback:function(t){e.picture=t},expression:"picture"}},e._l(e.pictures,function(t){return i("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.name))])}),0)],1),i("b-field",{attrs:{label:"Naziv",type:e.errors.has("title")?"is-danger":""}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"title"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),i("b-field",{attrs:{label:"Opis",type:e.errors.has("description")?"is-danger":""}},[i("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:120",expression:"'required|max:120'"}],attrs:{type:"textarea",maxlength:"120",name:"description"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),i("div",{staticClass:"buttons"},[i("b-button",{attrs:{type:"is-success","icon-left":"save"},on:{click:e.save}},[e._v("Novi pokus")]),e.id?i("b-button",{attrs:{type:"is-warning","icon-left":"pen"},on:{click:e.update}},[e._v("Spremi promjene")]):e._e()],1),i("b-loading",{attrs:{"is-full-page":!0,active:e.isLoading}})],1)},Ki=[],Zi={name:"MojPokus",data:function(){return{title:"",description:"",id:null,picture:0,pictures:[{value:0,name:"Crna"},{value:1,name:"Plava"},{value:2,name:"Zelena"},{value:3,name:"Narančasta"},{value:4,name:"Ružičasta"},{value:5,name:"Crvena"},{value:6,name:"Žuta"}]}},mounted:function(){var e=new URLSearchParams(window.location.search);this.id=e.get("id"),this.id&&(this.title=this.experiment.title,this.description=this.experiment.description,this.picture=this.experiment.picture)},computed:Object(p["a"])({},Object(d["d"])({isLoading:function(e){return e.experiment.loading},user:function(e){return e.user.user},experiment:function(e){return e.experiment.experiment}}),{scene:{get:function(){return this.$store.state.experiment.scene},set:function(e){this.$store.commit("experiment/SET_SCENE",e)}}}),methods:Object(p["a"])({},Object(d["b"])({createExperiment:"experiment/createExperiment",checkAvailability:"experiment/checkAvailability",updateExperiment:"experiment/updateExperiment"}),{validate:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:return t=e.sent,e.abrupt("return",0==this.errors.any()&&t);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i,s,a,n,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return i=this.user,s={title:this.title,createdBy:i},e.next=9,this.checkAvailability(s);case 9:if(a=e.sent,a){e.next=13;break}return this.error("Postoji već pokus s tim nazivom!"),e.abrupt("return");case 13:return n={title:this.title,description:this.description,picture:this.picture,createdBy:i},e.next=16,this.createExperiment(n);case 16:r=this.experiment,o=window.location.protocol+"//"+window.location.host+window.location.pathname+"?id=".concat(r.id),window.history.pushState({path:o},"",o),this.notification("Uspješno ste kreirali novi pokus!"),this.changeMenu(null,null);case 21:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),update:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return i=this.user,s={title:this.title,description:this.description,createdBy:i,picture:this.picture,id:this.id},e.next=9,this.updateExperiment(s);case 9:this.notification("Uspješno ste ažurirali pokus (".concat(this.title,")!")),this.changeMenu(null,null);case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),notification:function(e){this.$emit("notification",e)},error:function(e){this.$emit("error",e)},changeMenu:function(e,t){this.$emit("changeMenu",{groupName:e,menuName:t})}})},Ji=Zi,es=Object(g["a"])(Ji,Qi,Ki,!1,null,"60fe078b",null),ts=es.exports,is={name:"Menu",data:function(){return{isMenu:!0,secondsCounter:1,interval:null,physics:[{name:"Brzina",key:"velocity"}],activeMenu:{name:"Novi element",component:He},menus:[{name:"Općenito",menus:[{name:"Novi element",component:He},{name:"Uredi element",component:We},{name:"Radno okruženje",component:tt}]},{name:"Praćenje promjena",menus:[{name:"Fizika elementa",component:mt},{name:"Statistika",component:Wi}]}]}},components:{NoviElement:He,UrediElement:We,RadnoOkruzenje:tt,FizikaElementa:mt,Statistika:Wi,MojPokus:ts},beforeDestroy:function(){clearInterval(this.interval)},mounted:function(){var e=this;this.interval=setInterval(function(){e.updateLogs()},1)},computed:Object(p["a"])({},Object(d["d"])({deletedMesh:function(e){return e.experiment.deletedMesh},existingMeshes:function(e){return e.experiment.meshes}}),Object(d["c"])({getMeshByName:"experiment/getMeshByName",getMeshLog:"experiment/getMeshLog",getMeshPhysic:"experiment/getMeshPhysic"})),methods:{unlockPlaying:function(){this.$emit("unlockPlaying")},lockPlaying:function(){this.$emit("lockPlaying")},changeMenu:function(e){if(this.isMenu=!this.isMenu,e.groupName&&e.menuName){var t=this.menus.find(function(t){return t.name===e.groupName});this.activeMenu=t.menus.find(function(t){return t.name==e.menuName}),this.isMenu=!1}},updateLogs:function(){for(var e in this.existingMeshes){var t=this.getMeshByName(this.existingMeshes[e]),i=this.existingMeshes[e],s=t.physicsImpostor;!1===s.isDisposed&&(this.updatePhysics(t,i),this.updateCollisions(t,i),1e3===this.secondsCounter&&(this.updateRotation(t,i),this.updateMovement(t,i)))}this.secondsCounter+=1,1001===this.secondsCounter&&(this.secondsCounter=1)},physic:function(e){return this.getMeshPhysic(e)},updatePhysics:function(e,t){for(var i in this.physics)switch(this.physics[i].key){case"velocity":this.updateVelocity(e,t);break;default:break}},updateVelocity:function(e,t){var i=e.physicsImpostor.getLinearVelocity(),s={x:this.roundDecimal(i.x),y:this.roundDecimal(i.y),z:this.roundDecimal(i.z)};this.compareVelocity(s.x,s,0,t),this.compareVelocity(s.y,s,1,t),this.compareVelocity(s.z,s,2,t)},compareVelocity:function(e,t,i,s){if(0===e){var a=this.physic(s).find(function(e){return"Brzina"===e.name&&e.properties.axis===i});a&&(this.removeMeshPhysics(a,s),this.updateMeshVelocity(t,i,s,V()()))}else{var n=0===i?"x":1===i?"y":"z";a={name:"Brzina",icon:"fas fa-running",description:"".concat(n,"-os"),properties:{value:t[n],axis:i,axisString:n,unit:"m/s"}};this.updateMeshPhysics(s,a),this.updateMeshVelocity(t,i,s,null)}},updateMeshVelocity:function(e,t,i,s){var a=0===t?"x":1===t?"y":"z",n=this.getMeshLog(i).filter(function(e){return"physics"===e.type&&"velocity"===e.key}),r=n.find(function(e){return e.properties.axis===t&&null===e.properties.time.end});if(r){var o=r.properties.values;o.push({velocity:e,time:V()()});var c=r.properties.time.start,l={mesh:i,log:{name:"Dodana fizika",icon:"fas fa-atom",type:"physics",key:"velocity",description:"(".concat(a,"-os)"),properties:{axis:t,axisString:a,values:o,time:{start:c,end:s}}}};this.$store.commit("experiment/UPDATE_MESH_LOGS",l)}else if(Math.abs(e[a])>.2){var u=[];c=V()();u.push({velocity:e,time:c});l={mesh:i,log:{name:"Dodana fizika",icon:"fas fa-atom",type:"physics",key:"velocity",description:"(".concat(a,"-os)"),properties:{axis:t,axisString:a,values:u,time:{start:c,end:null}}}};this.$store.commit("experiment/SET_MESH_LOGS",l)}},updateMeshPhysics:function(e,t){var i={mesh:e,physic:t};this.$store.commit("experiment/UPDATE_MESH_PHYSICS",i)},removeMeshPhysics:function(e,t){var i={mesh:t,physic:e};this.$store.commit("experiment/REMOVE_MESH_PHYSIC",i)},roundDecimal:function(e){var t=e.toFixed(2);return 0==Math.abs(t)?0:t},updateCollisions:function(e,t){var i=Oe.getCollisions(e,t),s=this.getMeshLog(t).filter(function(e){return"collisions"===e.type});for(var a in this.existingMeshes){var n=this.existingMeshes[a];if(n!==t){var r=s.find(function(e){return e.properties.collider===n&&null===e.properties.time.end}),o=i.find(function(e){return e===n});if(void 0===r&&void 0!==o){var c=V()(),l={mesh:t,log:{name:"Sudar",icon:"fas fa-bullseye",type:"collisions",description:"(".concat(o,")"),key:c,properties:{collider:o,time:{start:c,end:null}}}};this.$store.commit("experiment/SET_MESH_LOGS",l)}else if(void 0!==r&&void 0===o){var u=r.properties.time.start,p=V()();l={mesh:t,log:{name:r.name,icon:r.icon,type:r.type,description:r.description,key:r.key,properties:{collider:r.properties.collider,time:{start:u,end:p}}}};this.$store.commit("experiment/UPDATE_MESH_LOGS",l)}}}},updateRotation:function(e,t){var i=e.rotationQuaternion.toEulerAngles(),s={x:this.radianToDegree(i.x),y:this.radianToDegree(i.y),z:this.radianToDegree(i.z)},a=this.getMeshLog(t).filter(function(e){return"rotation"===e.type}),n=a.length;if(n>0){var r=a.find(function(e){return"x"===e.key});this.compareRotation(s,"x",t,r);var o=a.find(function(e){return"y"===e.key});this.compareRotation(s,"y",t,o);var c=a.find(function(e){return"z"===e.key});this.compareRotation(s,"z",t,c)}else this.compareRotation(s,"x",t,void 0),this.compareRotation(s,"y",t,void 0),this.compareRotation(s,"z",t,void 0)},compareRotation:function(e,t,i,s){if(void 0===s){var a={mesh:i,log:{name:"Rotacija",icon:"fas fa-sync-alt",type:"rotation",description:"(".concat(t,"-os)"),key:t,properties:{rotations:[{value:e,time:V()()}]}}};this.$store.commit("experiment/SET_MESH_LOGS",a)}else{var n=s.properties.rotations.length,r=s.properties.rotations[n-1].value;if(Math.abs(e[t]-r[t]).toFixed(2)>0){var o=s.properties.rotations;o.push({value:e,time:V()()});a={mesh:i,log:{name:"Rotacija",icon:"fas fa-sync-alt",type:"rotation",description:"(".concat(t,"-os)"),key:t,properties:{rotations:o}}};this.$store.commit("experiment/UPDATE_MESH_LOGS",a)}}},updateMovement:function(e,t){var i={x:e.position.x,y:e.position.y,z:e.position.z},s=this.getMeshLog(t).filter(function(e){return"movement"===e.type}),a=s.length;if(a>0){var n=s.find(function(e){return"x"===e.key});this.comparePosition(i,"x",t,n);var r=s.find(function(e){return"y"===e.key});this.comparePosition(i,"y",t,r);var o=s.find(function(e){return"z"===e.key});this.comparePosition(i,"z",t,o)}else this.comparePosition(i,"x",t,void 0),this.comparePosition(i,"y",t,void 0),this.comparePosition(i,"z",t,void 0)},comparePosition:function(e,t,i,s){if(void 0===s){var a={mesh:i,log:{name:"Pomak",icon:"fas fa-shoe-prints",type:"movement",description:"(".concat(t,"-os)"),key:t,properties:{positions:[{value:e,time:V()()}]}}};this.$store.commit("experiment/SET_MESH_LOGS",a)}else{var n=s.properties.positions.length,r=s.properties.positions[n-1].value;if(Math.abs(e[t]-r[t]).toFixed(2)>0){var o=s.properties.positions;o.push({value:e,time:V()()});a={mesh:i,log:{name:"Pomak",icon:"fas fa-shoe-prints",type:"movement",description:"(".concat(t,"-os)"),key:t,properties:{positions:o}}};this.$store.commit("experiment/UPDATE_MESH_LOGS",a)}}},radianToDegree:function(e){var t=Math.PI,i=e*(180/t);return X()(i.toFixed(2))},notification:function(e){this.$emit("notification",e)},error:function(e){this.$emit("error",e)}},watch:{deletedMesh:function(e,t){null==t&&null!=e&&(this.error("Izbrisan je element ".concat(e)),this.$store.commit("experiment/SET_DELETED_MESH",null))}}},ss=is,as=(i("1e13"),Object(g["a"])(ss,Te,je,!1,null,"4030c66e",null)),ns=as.exports,rs={name:"Experiment",data:function(){return{isDisabled:!1,firstOpen:!0,group:0,selected0:0,selected1:0,currentPage:0,pages:0,batchSize:3,engine:null,searchQuery:"",lockCreate:!1,sceneLoading:!1}},components:{Menu:ns},beforeDestroy:function(){var e=$()(this.existingMeshes);for(var t in e){var i=e[t],s=this.getMeshByName(i);Oe.deleteMesh(s,i)}},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=new URLSearchParams(window.location.search),i=t.get("id"),!i){e.next=15;break}return this.firstOpen=!1,this.initScene(),this.sceneLoading=!0,this.engine.displayLoadingUI(),this.engine.loadingUIText="Dohvaćanje pokusa...",e.next=10,this.getExperiment(i);case 10:return this.isLoggedIn&&this.experiment.createdBy.id==this.user.id&&this.$refs["menu"].menus.push({name:"Postavke",menus:[{name:"Moj pokus",component:ts}]}),e.next=13,this.loadScene(this.experiment);case 13:return this.togglePlay(!1),e.abrupt("return");case 15:if(!this.isLoggedIn){e.next=20;break}return this.$refs["menu"].menus.push({name:"Postavke",menus:[{name:"Moj pokus",component:ts}]}),e.next=19,this.getByUser(this.user.id);case 19:this.pages=Math.ceil(this.experiments.length/this.batchSize);case 20:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:Object(p["a"])({},Object(d["d"])({isPlaying:function(e){return e.experiment.playing},user:function(e){return e.user.user},experiments:function(e){return e.experiment.experiments},meshes:function(e){return e.experiment.experimentMeshes},experimentsLoading:function(e){return e.experiment.loading},experiment:function(e){return e.experiment.experiment},existingMeshes:function(e){return e.experiment.meshes}}),Object(d["c"])({isLoggedIn:"user/isLoggedIn",getMeshByName:"experiment/getMeshByName"}),{scene:{get:function(){return this.$store.state.experiment.scene},set:function(e){this.$store.commit("experiment/SET_SCENE",e)}},filteredExperiments:function(){var e=[];if(this.searchQuery&&0==this.searchQuery.length)e=this.experiments;else{var t=new RegExp(this.searchQuery,"i"),i=this.experiments.map(function(e){return Object(p["a"])({},e,{filterObject:{title:e.title,description:e.description,createdOn:new Date(e.createdOn).toLocaleString("hr-HR")}})});e=i.filter(function(e){return A()(e.filterObject).some(function(i){return t.test(e.filterObject[i])})})}this.selected1=0;var s=(this.currentPage+1)*this.batchSize,a=s-this.batchSize,n=e.slice(a,s);return 0==n.length&&1==this.group?this.lockCreate=!0:this.lockCreate=!1,n}}),methods:Object(p["a"])({},Object(d["b"])({createWalls:"experiment/createWalls",getByUser:"experiment/getByUser",getMeshes:"experiment/getMeshes",getExperiment:"experiment/getExperiment"}),{previous:function(){this.currentPage>0&&(this.selected1=0,this.currentPage--)},next:function(){this.currentPage<this.pages-1&&(this.selected1=0,this.currentPage++)},close:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.initScene(),1!=this.group){e.next=9;break}return t=this.filteredExperiments[this.selected1],i=window.location.protocol+"//"+window.location.host+window.location.pathname+"?id=".concat(t.id),window.history.pushState({path:i},"",i),this.$store.commit("experiment/SET_EXPERIMENT",t),e.next=8,this.loadScene(t);case 8:this.togglePlay(!1);case 9:this.firstOpen=!1;case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),unlockPlaying:function(){this.isDisabled=!1},lockPlaying:function(){this.isDisabled=!0},togglePlay:function(e){this.$store.commit("experiment/SET_PLAYING",e),Oe.togglePlay(e)},loadScene:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.sceneLoading=!0,this.engine.displayLoadingUI(),this.engine.loadingUIText="Dohvaćanje podataka...",e.next=5,this.getMeshes(t.id);case 5:this.engine.loadingUIText="Postavljanje elemenata na scenu...",Oe.loadScene(this.scene,this.meshes,t),this.engine.hideLoadingUI(),this.sceneLoading=!1;case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),initScene:function(){var e=document.getElementById("renderCanvas");this.engine=new BABYLON.Engine(e,!0);var t=Oe.createEmptyScene(e,this.engine,20),i=H.hexToColor3("#f5f1f2");t.clearColor=new BABYLON.Color3(i[0],i[1],i[2]),this.engine.runRenderLoop(function(){t.render()}),window.addEventListener("resize",function(){this.engine.resize()}),this.scene=t,this.createWalls()},error:function(e){this.$toast.open({duration:2500,message:e,position:"is-bottom",type:"is-warning"})},notification:function(e){this.$toast.open({duration:2500,message:e,position:"is-bottom",type:"is-success"})}})},os=rs,cs=(i("44c9"),Object(g["a"])(os,z,R,!1,null,"c65b864c",null)),ls=cs.exports,us=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.currentUser?s("div",{attrs:{id:"profile"}},[s("div",{staticClass:"tile is-ancestor"},[s("div",{staticClass:"tile is-parent is-vertical is-3"},[s("article",{staticClass:"tile is-child notification is-success"},[s("figure",{staticClass:"image is-128x128"},[0==e.currentUser.occupation?s("img",{staticClass:"is-rounded",attrs:{src:i("3354")}}):s("img",{staticClass:"is-rounded",attrs:{src:i("19a4")}})]),s("p",{staticClass:"title is-4",staticStyle:{"text-align":"right"}},[e._v(e._s(e.currentUser.fullName))])]),s("article",{staticClass:"tile is-child notification",staticStyle:{"text-align":"left"}},[s("p",[s("b",[e._v("Stručnost:")]),s("span",{staticClass:"user-info"},[e._v(e._s(e._f("occupation")(e.currentUser.occupation)))]),s("br"),s("b",[e._v("E-mail:")]),s("span",{staticClass:"user-info"},[e._v(e._s(e.currentUser.email))]),s("br"),s("b",[e._v("Br. pokusa:")]),s("span",{staticClass:"user-info"},[e._v(e._s(e.experiments.length))]),s("br")])])]),s("div",{staticClass:"tile is-parent is-vertical"},[s("article",{staticClass:"tile is-child notification"},[s("b-loading",{attrs:{"is-full-page":!1,active:e.experimentsLoading}}),s("div",{staticClass:"content"},[s("div",{staticClass:"control is-flex"},[s("p",{staticClass:"title is-4",staticStyle:{"text-align":"left"}},[e._v("Moji pokusi")]),s("div",{staticClass:"control margin-left"},[s("b-field",[s("b-input",{attrs:{placeholder:"Pretraži...",type:"search","icon-pack":"fas",icon:"search"},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1)],1)]),s("div",{staticClass:"flex-container",staticStyle:{display:"inline-block"}},[e._l(e.filteredExperiments,function(t){return s("div",{key:t.id,staticClass:"box",staticStyle:{width:"30rem"}},[s("article",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-64x64"},[0==t.picture?s("img",{attrs:{src:i("211b")}}):e._e(),1==t.picture?s("img",{attrs:{src:i("64ed")}}):e._e(),2==t.picture?s("img",{attrs:{src:i("9a4e")}}):e._e(),3==t.picture?s("img",{attrs:{src:i("4430")}}):e._e(),4==t.picture?s("img",{attrs:{src:i("2b14")}}):e._e(),5==t.picture?s("img",{attrs:{src:i("d970")}}):e._e(),6==t.picture?s("img",{attrs:{src:i("13c0")}}):e._e()])]),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[e._v(e._s(t.title))]),s("small",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(new Date(t.createdOn).toLocaleDateString("hr-HR")))]),s("br"),s("small",[e._v(e._s(t.description))])])]),s("nav",{staticClass:"level is-mobile"},[s("div",{staticClass:"level-left"},[s("span",{staticClass:"margin-5px"},[s("b-tooltip",{attrs:{type:"is-black",label:"Pokreni"}},[s("span",{staticClass:"icon is-small",staticStyle:{color:"#284e7b",cursor:"pointer"},on:{click:function(i){return e.openExperiment(t.id)}}},[s("i",{staticClass:"fas fa-external-link-alt"})])])],1),s("span",{staticClass:"margin-5px"},[s("b-tooltip",{attrs:{type:"is-black",label:"Poveznica"}},[s("span",{staticClass:"icon is-small",staticStyle:{color:"#284e7b",cursor:"pointer"},on:{click:function(i){return e.copyToClipboard(t.id)}}},[s("i",{staticClass:"fas fa-copy"})])])],1),e.user&&e.currentUser.id==e.user.id?s("span",{staticClass:"margin-5px"},[s("b-tooltip",{attrs:{type:"is-black",label:"Izbriši"}},[s("span",{staticClass:"icon is-small",staticStyle:{color:"#ff3860",cursor:"pointer"},on:{click:function(i){return e.deleteExperiment(t.id,t.name)}}},[s("i",{staticClass:"fas fa-trash-alt"})])])],1):e._e()])])])])])}),s("div",[s("nav",{staticClass:"pagination is-rounded",attrs:{role:"navigation","aria-label":"pagination"}},[s("a",{staticClass:"pagination-previous my-pagination-button",class:{disabled:0==e.currentPage||e.experimentsLoading},on:{click:e.previous}},[e._m(0),e._v("Prethodna\n                                ")]),s("a",{staticClass:"pagination-next my-pagination-button",class:{disabled:e.currentPage==e.pages-1||0==e.pages||e.experimentsLoading},on:{click:e.next}},[e._v("\n                                    Sljedeća\n                                    "),e._m(1)])])])],2)])],1)])])]):e._e()},ps=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-left"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("i",{staticClass:"fas fa-angle-right"})])}],hs={name:"Profile",data:function(){return{currentPage:0,pages:0,batchSize:3,searchQuery:"",currentUser:null}},mixins:[P],mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=new URLSearchParams(window.location.search),i=t.get("id"),!i){e.next=10;break}return e.next=5,this.getUser(i);case 5:return this.currentUser=this.profile,e.next=8,this.getByUser(i);case 8:e.next=13;break;case 10:return this.currentUser=this.user,e.next=13,this.getByUser(this.user.id);case 13:this.pages=Math.ceil(this.experiments.length/this.batchSize);case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:Object(p["a"])({},Object(d["d"])({user:function(e){return e.user.user},experiments:function(e){return e.experiment.experiments},experimentsLoading:function(e){return e.experiment.loading},profile:function(e){return e.user.profile}}),{filteredExperiments:function(){var e=[];if(this.searchQuery&&0==this.searchQuery.length)e=this.experiments;else{var t=new RegExp(this.searchQuery,"i"),i=this.experiments.map(function(e){return Object(p["a"])({},e,{filterObject:{title:e.title,description:e.description,createdOn:new Date(e.createdOn).toLocaleString("hr-HR")}})});e=i.filter(function(e){return A()(e.filterObject).some(function(i){return t.test(e.filterObject[i])})})}var s=(this.currentPage+1)*this.batchSize,a=s-this.batchSize;return e.slice(a,s)}}),methods:Object(p["a"])({},Object(d["b"])({getByUser:"experiment/getByUser",deleteExperimentAsync:"experiment/deleteExperiment",getUser:"user/getUser"}),{deleteExperiment:function(e,t){var i=this;this.$dialog.confirm({message:"Jeste li sigurni da želite izbrisati pokus ".concat(t,"?"),onConfirm:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.deleteExperimentAsync(e);case 2:return i.$toast.open({duration:2500,message:"Pokus uspješno izbrisan.",position:"is-bottom",type:"is-success"}),t.next=5,i.getByUser(i.currentUser.id);case 5:i.pages=Math.ceil(i.experiments.length/i.batchSize);case 6:case"end":return t.stop()}},t)}));function s(){return t.apply(this,arguments)}return s}(),cancelText:"Odustani",confirmText:"Izbriši",type:"is-success"})},openExperiment:function(e){this.$router.push("/experiment?id=".concat(e))},copyToClipboard:function(e){var t="".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port,"/experiment?id=").concat(e);this.copy(t),this.$toast.open({duration:2500,message:"Poveznica spremljena u međuspremnik.",position:"is-bottom",type:"is-success"})},copy:function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)},previous:function(){this.currentPage>0&&this.currentPage--},next:function(){this.currentPage<this.pages-1&&this.currentPage++}})},ms=hs,ds=(i("872e"),Object(g["a"])(ms,us,ps,!1,null,"3c64bce3",null)),fs=ds.exports,vs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"login"}},[e._m(0),s("section",{staticClass:"hero is-light is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"tile is-parent"},[s("div",{staticClass:"tile is-child is-4"},[s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[e._v("E-mail:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:e.errors.has("email")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{type:"email",expanded:"",name:"email",icon:"envelope"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[e._v("Lozinka:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:e.errors.has("password")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{type:"password","password-reveal":"",expanded:"",name:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("div",{staticClass:"control margin-left"},[s("b-button",{attrs:{type:"is-success","icon-left":"check"},on:{click:e.login}},[e._v("Prijava")])],1)])]),s("div",{staticClass:"tile is-child has-text-centered"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:i("cf05"),width:"225",height:"28"}})])],1)])]),s("b-loading",{attrs:{"is-full-page":!1,active:e.isLoading}})],1),s("section",{staticClass:"hero is-dark is-small is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"control is-flex"},[s("p",[e._v("\n                    Još nemaš izrađen profil?\n                    "),s("router-link",{attrs:{to:"/register"}},[s("a",[e._v("Registriraj se")])])],1),s("div",{staticClass:"control margin-left"})])])])])},gs=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"hero is-info is-bold"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("h1",{staticClass:"title"},[e._v("Prijava")])])])])}],bs={name:"Login",data:function(){return{email:"",password:""}},computed:Object(p["a"])({},Object(d["d"])({isLoading:function(e){return e.user.loading}})),methods:Object(p["a"])({},Object(d["b"])({authenticate:"user/authenticate"}),{validate:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:return t=e.sent,e.abrupt("return",0==this.errors.any()&&t);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return i={email:this.email,password:this.password},e.next=8,this.authenticate(i);case 8:s=e.sent,!0===s?(this.$toast.open({message:"Uspješno ste se prijavili!",type:"is-success",position:"is-bottom"}),this.$router.push("home")):this.$toast.open({message:"Neispravan e-mail ili lozinka!",type:"is-danger",position:"is-bottom"});case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()})},xs=bs,ys=(i("1a6b"),Object(g["a"])(xs,vs,gs,!1,null,"2e77d129",null)),_s=ys.exports,ks=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"register"}},[e._m(0),s("section",{staticClass:"hero is-light is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"tile is-parent"},[s("div",{staticClass:"tile is-child is-4"},[s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[e._v("Ime:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:e.errors.has("firstName")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{expanded:"",name:"firstName",icon:"user"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[e._v("Prezime:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:e.errors.has("lastName")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{expanded:"",name:"lastName",icon:"signature"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[e._v("E-mail:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:e.errors.has("email")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{type:"email",expanded:"",name:"email",icon:"envelope"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[e._v("Lozinka:")]),s("div",{staticClass:"control margin-left"},[s("b-field",{attrs:{type:e.errors.has("password")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{type:"password","password-reveal":"",expanded:"",name:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)]),s("div",{staticClass:"control is-flex"},[s("label",{staticClass:"label"},[e._v("Stručnost:")]),s("div",{staticClass:"control margin-left"},[s("div",{staticClass:"block"},[s("b-radio",{attrs:{"native-value":0},model:{value:e.occupation,callback:function(t){e.occupation=t},expression:"occupation"}},[e._v("profesor")]),s("b-radio",{attrs:{"native-value":1},model:{value:e.occupation,callback:function(t){e.occupation=t},expression:"occupation"}},[e._v("student")])],1)])]),s("div",{staticClass:"control is-flex"},[s("div",{staticClass:"control margin-left"},[s("b-button",{attrs:{type:"is-success","icon-left":"check"},on:{click:e.register}},[e._v("Registracija")])],1)]),s("hr"),e._m(1)]),s("div",{staticClass:"tile is-child has-text-centered"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:i("cf05"),width:"225",height:"28"}})])],1)])]),s("b-loading",{attrs:{"is-full-page":!1,active:e.isLoading}})],1),s("section",{staticClass:"hero is-dark is-small is-bold"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"control is-flex"},[s("p",[e._v("\n                    Već imaš profil?\n                    "),s("router-link",{attrs:{to:"/login"}},[s("a",[e._v("Prijavi se")])])],1),s("div",{staticClass:"control margin-left"})])])])])},Ss=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"hero is-info is-bold"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("h1",{staticClass:"title"},[e._v("Registracija")])])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticStyle:{"text-align":"left"}},[i("small",{staticStyle:{color:"red"}},[e._v("* Sva su polja obavezna.")]),i("br"),i("small",{staticStyle:{color:"red"}},[e._v("* Lozinka mora sadržavati barem 8 znakova.")])])}],Es={name:"Register",data:function(){return{firstName:"",lastName:"",email:"",password:"",occupation:0}},computed:Object(p["a"])({},Object(d["d"])({isLoading:function(e){return e.user.loading}})),methods:Object(p["a"])({},Object(d["b"])({checkAvailability:"user/checkAvailability",createUser:"user/createUser",authenticate:"user/authenticate"}),{validate:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:return t=e.sent,e.abrupt("return",0==this.errors.any()&&t);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return i={firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,occupation:this.occupation},e.next=8,this.checkAvailability(i);case 8:if(s=e.sent,!s){e.next=17;break}return this.$toast.open({message:"Provjera dostupnosti uspješna!",type:"is-success",position:"is-bottom"}),e.next=13,this.createUser(i);case 13:this.$toast.open({message:"Uspješno ste se registrirali!",type:"is-success",position:"is-bottom"}),this.$router.push("login"),e.next=18;break;case 17:this.$toast.open({message:"Navedeni e-mail se već koristi!",type:"is-danger",position:"is-bottom"});case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()})},Cs=Es,ws=(i("9311"),Object(g["a"])(Cs,ks,Ss,!1,null,"1ae14767",null)),Os=ws.exports;r["default"].use(O["a"]);var Ts=new O["a"]({mode:"history",routes:[{path:"",component:N,name:"home"},{path:"/home",redirect:"/"},{path:"/experiment",component:ls,name:"experiment"},{path:"/profile",component:fs,name:"profile",meta:{userRequired:!0}},{path:"/login",component:_s,name:"login",meta:{guestRequired:!0}},{path:"/register",component:Os,name:"register",meta:{guestRequired:!0}},{path:"*",redirect:"/"}]}),js=i("7bb1"),Ms=i("1321"),As=i.n(Ms),Ps=i("bf15");r["default"].config.productionTip=!1,r["default"].use(w.a,{defaultIconPack:"fa"}),r["default"].use(js["a"]),r["default"].use(Ps["a"]),r["default"].component("apexchart",As.a),Ts.beforeEach(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,i,s){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(null!=Se.state.user.user){e.next=3;break}return e.next=3,Se.dispatch("user/retrieveUser");case 3:if(!0!==t.meta.guestRequired){e.next=7;break}if(!Se.getters["user/isLoggedIn"]){e.next=7;break}return s("/profile"),e.abrupt("return");case 7:if(!0!==t.meta.userRequired){e.next=15;break}if(a=t.query["id"],!a){e.next=12;break}return s(),e.abrupt("return");case 12:if(Se.getters["user/isLoggedIn"]){e.next=15;break}return s("/login"),e.abrupt("return");case 15:s();case 16:case"end":return e.stop()}},e)}));return function(t,i,s){return e.apply(this,arguments)}}()),new r["default"]({router:Ts,store:Se,render:function(e){return e(E)}}).$mount("#app")},"593f":function(e,t,i){"use strict";var s=i("bafe"),a=i.n(s);a.a},6201:function(e,t,i){},"64a9":function(e,t,i){},"64ed":function(e,t,i){e.exports=i.p+"img/blue.png"},"6d90":function(e,t,i){},"6f6f":function(e,t,i){},7354:function(e,t,i){},"7a23":function(e,t,i){},8165:function(e,t,i){"use strict";var s=i("9119"),a=i.n(s);a.a},"872e":function(e,t,i){"use strict";var s=i("1e5d"),a=i.n(s);a.a},"8bf9":function(e,t,i){"use strict";var s=i("8e75"),a=i.n(s);a.a},"8e75":function(e,t,i){},9119:function(e,t,i){},9311:function(e,t,i){"use strict";var s=i("6f6f"),a=i.n(s);a.a},"9a4e":function(e,t,i){e.exports=i.p+"img/green.png"},"9fb0":function(e,t){},b380:function(e,t,i){},bafe:function(e,t,i){},c324:function(e,t,i){"use strict";var s=i("116e"),a=i.n(s);a.a},cf05:function(e,t,i){e.exports=i.p+"img/logo.png"},d2e7:function(e,t,i){e.exports=i.p+"img/emptyScene.png"},d970:function(e,t,i){e.exports=i.p+"img/red.png"},ea1e:function(e,t,i){}});